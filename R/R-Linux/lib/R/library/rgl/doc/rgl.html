<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Duncan Murdoch" />

<meta name="date" content="2016-01-04" />

<title>rgl Overview</title>

<script src="data:application/x-javascript,%28function%28%29%20%7B%0A%20%20%2F%2F%20If%20window%2EHTMLWidgets%20is%20already%20defined%2C%20then%20use%20it%3B%20otherwise%20create%20a%0A%20%20%2F%2F%20new%20object%2E%20This%20allows%20preceding%20code%20to%20set%20options%20that%20affect%20the%0A%20%20%2F%2F%20initialization%20process%20%28though%20none%20currently%20exist%29%2E%0A%20%20window%2EHTMLWidgets%20%3D%20window%2EHTMLWidgets%20%7C%7C%20%7B%7D%3B%0A%0A%20%20%2F%2F%20See%20if%20we%27re%20running%20in%20a%20viewer%20pane%2E%20If%20not%2C%20we%27re%20in%20a%20web%20browser%2E%0A%20%20var%20viewerMode%20%3D%20window%2EHTMLWidgets%2EviewerMode%20%3D%0A%20%20%20%20%20%20%2F%5Cbviewer%5Fpane%3D1%5Cb%2F%2Etest%28window%2Elocation%29%3B%0A%0A%20%20%2F%2F%20See%20if%20we%27re%20running%20in%20Shiny%20mode%2E%20If%20not%2C%20it%27s%20a%20static%20document%2E%0A%20%20%2F%2F%20Note%20that%20static%20widgets%20can%20appear%20in%20both%20Shiny%20and%20static%20modes%2C%20but%0A%20%20%2F%2F%20obviously%2C%20Shiny%20widgets%20can%20only%20appear%20in%20Shiny%20apps%2Fdocuments%2E%0A%20%20var%20shinyMode%20%3D%20window%2EHTMLWidgets%2EshinyMode%20%3D%0A%20%20%20%20%20%20typeof%28window%2EShiny%29%20%21%3D%3D%20%22undefined%22%20%26%26%20%21%21window%2EShiny%2EoutputBindings%3B%0A%0A%20%20%2F%2F%20We%20can%27t%20count%20on%20jQuery%20being%20available%2C%20so%20we%20implement%20our%20own%0A%20%20%2F%2F%20version%20if%20necessary%2E%0A%20%20function%20querySelectorAll%28scope%2C%20selector%29%20%7B%0A%20%20%20%20if%20%28typeof%28jQuery%29%20%21%3D%3D%20%22undefined%22%20%26%26%20scope%20instanceof%20jQuery%29%20%7B%0A%20%20%20%20%20%20return%20scope%2Efind%28selector%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28scope%2EquerySelectorAll%29%20%7B%0A%20%20%20%20%20%20return%20scope%2EquerySelectorAll%28selector%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20asArray%28value%29%20%7B%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20null%29%0A%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20if%20%28%24%2EisArray%28value%29%29%0A%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20return%20%5Bvalue%5D%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Implement%20jQuery%27s%20extend%0A%20%20function%20extend%28target%20%2F%2A%2C%20%2E%2E%2E%20%2A%2F%29%20%7B%0A%20%20%20%20if%20%28arguments%2Elength%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20return%20target%3B%0A%20%20%20%20%7D%0A%20%20%20%20for%20%28var%20i%20%3D%201%3B%20i%20%3C%20arguments%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20source%20%3D%20arguments%5Bi%5D%3B%0A%20%20%20%20%20%20for%20%28var%20prop%20in%20source%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28source%2EhasOwnProperty%28prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20target%5Bprop%5D%20%3D%20source%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20target%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20IE8%20doesn%27t%20support%20Array%2EforEach%2E%0A%20%20function%20forEach%28values%2C%20callback%2C%20thisArg%29%20%7B%0A%20%20%20%20if%20%28values%2EforEach%29%20%7B%0A%20%20%20%20%20%20values%2EforEach%28callback%2C%20thisArg%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20values%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20callback%2Ecall%28thisArg%2C%20values%5Bi%5D%2C%20i%2C%20values%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Replaces%20the%20specified%20method%20with%20the%20return%20value%20of%20funcSource%2E%0A%20%20%2F%2F%0A%20%20%2F%2F%20Note%20that%20funcSource%20should%20not%20BE%20the%20new%20method%2C%20it%20should%20be%20a%20function%0A%20%20%2F%2F%20that%20RETURNS%20the%20new%20method%2E%20funcSource%20receives%20a%20single%20argument%20that%20is%0A%20%20%2F%2F%20the%20overridden%20method%2C%20it%20can%20be%20called%20from%20the%20new%20method%2E%20The%20overridden%0A%20%20%2F%2F%20method%20can%20be%20called%20like%20a%20regular%20function%2C%20it%20has%20the%20target%20permanently%0A%20%20%2F%2F%20bound%20to%20it%20so%20%22this%22%20will%20work%20correctly%2E%0A%20%20function%20overrideMethod%28target%2C%20methodName%2C%20funcSource%29%20%7B%0A%20%20%20%20var%20superFunc%20%3D%20target%5BmethodName%5D%20%7C%7C%20function%28%29%20%7B%7D%3B%0A%20%20%20%20var%20superFuncBound%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20superFunc%2Eapply%28target%2C%20arguments%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20target%5BmethodName%5D%20%3D%20funcSource%28superFuncBound%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Implement%20a%20vague%20facsimilie%20of%20jQuery%27s%20data%20method%0A%20%20function%20elementData%28el%2C%20name%2C%20value%29%20%7B%0A%20%20%20%20if%20%28arguments%2Elength%20%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20return%20el%5B%22htmlwidget%5Fdata%5F%22%20%2B%20name%5D%3B%0A%20%20%20%20%7D%20else%20if%20%28arguments%2Elength%20%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20el%5B%22htmlwidget%5Fdata%5F%22%20%2B%20name%5D%20%3D%20value%3B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Wrong%20number%20of%20arguments%20for%20elementData%3A%20%22%20%2B%0A%20%20%20%20%20%20%20%20arguments%2Elength%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3446170%2Fescape%2Dstring%2Dfor%2Duse%2Din%2Djavascript%2Dregex%0A%20%20function%20escapeRegExp%28str%29%20%7B%0A%20%20%20%20return%20str%2Ereplace%28%2F%5B%5C%2D%5C%5B%5C%5D%5C%2F%5C%7B%5C%7D%5C%28%5C%29%5C%2A%5C%2B%5C%3F%5C%2E%5C%5C%5C%5E%5C%24%5C%7C%5D%2Fg%2C%20%22%5C%5C%24%26%22%29%3B%0A%20%20%7D%0A%0A%20%20function%20hasClass%28el%2C%20className%29%20%7B%0A%20%20%20%20var%20re%20%3D%20new%20RegExp%28%22%5C%5Cb%22%20%2B%20escapeRegExp%28className%29%20%2B%20%22%5C%5Cb%22%29%3B%0A%20%20%20%20return%20re%2Etest%28el%2EclassName%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20elements%20%2D%20array%20%28or%20array%2Dlike%20object%29%20of%20HTML%20elements%0A%20%20%2F%2F%20className%20%2D%20class%20name%20to%20test%20for%0A%20%20%2F%2F%20include%20%2D%20if%20true%2C%20only%20return%20elements%20with%20given%20className%3B%0A%20%20%2F%2F%20%20%20if%20false%2C%20only%20return%20elements%20%2Awithout%2A%20given%20className%0A%20%20function%20filterByClass%28elements%2C%20className%2C%20include%29%20%7B%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20elements%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28hasClass%28elements%5Bi%5D%2C%20className%29%20%3D%3D%20include%29%0A%20%20%20%20%20%20%20%20results%2Epush%28elements%5Bi%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%0A%0A%20%20function%20on%28obj%2C%20eventName%2C%20func%29%20%7B%0A%20%20%20%20if%20%28obj%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20obj%2EaddEventListener%28eventName%2C%20func%2C%20false%29%3B%0A%20%20%20%20%7D%20else%20if%20%28obj%2EattachEvent%29%20%7B%0A%20%20%20%20%20%20obj%2EattachEvent%28eventName%2C%20func%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20off%28obj%2C%20eventName%2C%20func%29%20%7B%0A%20%20%20%20if%20%28obj%2EremoveEventListener%29%0A%20%20%20%20%20%20obj%2EremoveEventListener%28eventName%2C%20func%2C%20false%29%3B%0A%20%20%20%20else%20if%20%28obj%2EdetachEvent%29%20%7B%0A%20%20%20%20%20%20obj%2EdetachEvent%28eventName%2C%20func%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Translate%20array%20of%20values%20to%20top%2Fright%2Fbottom%2Fleft%2C%20as%20usual%20with%0A%20%20%2F%2F%20the%20%22padding%22%20CSS%20property%0A%20%20%2F%2F%20https%3A%2F%2Fdeveloper%2Emozilla%2Eorg%2Fen%2DUS%2Fdocs%2FWeb%2FCSS%2Fpadding%0A%20%20function%20unpackPadding%28value%29%20%7B%0A%20%20%20%20if%20%28typeof%28value%29%20%3D%3D%3D%20%22number%22%29%0A%20%20%20%20%20%20value%20%3D%20%5Bvalue%5D%3B%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B0%5D%2C%20bottom%3A%20value%5B0%5D%2C%20left%3A%20value%5B0%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B0%5D%2C%20left%3A%20value%5B1%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B2%5D%2C%20left%3A%20value%5B1%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B2%5D%2C%20left%3A%20value%5B3%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Convert%20an%20unpacked%20padding%20object%20to%20a%20CSS%20value%0A%20%20function%20paddingToCss%28paddingObj%29%20%7B%0A%20%20%20%20return%20paddingObj%2Etop%20%2B%20%22px%20%22%20%2B%20paddingObj%2Eright%20%2B%20%22px%20%22%20%2B%20paddingObj%2Ebottom%20%2B%20%22px%20%22%20%2B%20paddingObj%2Eleft%20%2B%20%22px%22%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Makes%20a%20number%20suitable%20for%20CSS%0A%20%20function%20px%28x%29%20%7B%0A%20%20%20%20if%20%28typeof%28x%29%20%3D%3D%3D%20%22number%22%29%0A%20%20%20%20%20%20return%20x%20%2B%20%22px%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20return%20x%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Retrieves%20runtime%20widget%20sizing%20information%20for%20an%20element%2E%0A%20%20%2F%2F%20The%20return%20value%20is%20either%20null%2C%20or%20an%20object%20with%20fill%2C%20padding%2C%0A%20%20%2F%2F%20defaultWidth%2C%20defaultHeight%20fields%2E%0A%20%20function%20sizingPolicy%28el%29%20%7B%0A%20%20%20%20var%20sizingEl%20%3D%20document%2EquerySelector%28%22script%5Bdata%2Dfor%3D%27%22%20%2B%20el%2Eid%20%2B%20%22%27%5D%5Btype%3D%27application%2Fhtmlwidget%2Dsizing%27%5D%22%29%3B%0A%20%20%20%20if%20%28%21sizingEl%29%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20var%20sp%20%3D%20JSON%2Eparse%28sizingEl%2EtextContent%20%7C%7C%20sizingEl%2Etext%20%7C%7C%20%22%7B%7D%22%29%3B%0A%20%20%20%20if%20%28viewerMode%29%20%7B%0A%20%20%20%20%20%20return%20sp%2Eviewer%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20sp%2Ebrowser%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20initSizing%28el%29%20%7B%0A%20%20%20%20var%20sizing%20%3D%20sizingPolicy%28el%29%3B%0A%20%20%20%20if%20%28%21sizing%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20var%20cel%20%3D%20document%2EgetElementById%28%22htmlwidget%5Fcontainer%22%29%3B%0A%20%20%20%20if%20%28%21cel%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20if%20%28typeof%28sizing%2Epadding%29%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Emargin%20%3D%20%220%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Epadding%20%3D%20paddingToCss%28unpackPadding%28sizing%2Epadding%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sizing%2Efill%29%20%7B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Eoverflow%20%3D%20%22hidden%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2EdocumentElement%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2EdocumentElement%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20if%20%28cel%29%20%7B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eposition%20%3D%20%22absolute%22%3B%0A%20%20%20%20%20%20%20%20var%20pad%20%3D%20unpackPadding%28sizing%2Epadding%29%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Etop%20%3D%20pad%2Etop%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eright%20%3D%20pad%2Eright%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Ebottom%20%3D%20pad%2Ebottom%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eleft%20%3D%20pad%2Eleft%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20getWidth%3A%20function%28%29%20%7B%20return%20cel%2EoffsetWidth%3B%20%7D%2C%0A%20%20%20%20%20%20%20%20getHeight%3A%20function%28%29%20%7B%20return%20cel%2EoffsetHeight%3B%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20px%28sizing%2Ewidth%29%3B%0A%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20px%28sizing%2Eheight%29%3B%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20getWidth%3A%20function%28%29%20%7B%20return%20el%2EoffsetWidth%3B%20%7D%2C%0A%20%20%20%20%20%20%20%20getHeight%3A%20function%28%29%20%7B%20return%20el%2EoffsetHeight%3B%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Default%20implementations%20for%20methods%0A%20%20var%20defaults%20%3D%20%7B%0A%20%20%20%20find%3A%20function%28scope%29%20%7B%0A%20%20%20%20%20%20return%20querySelectorAll%28scope%2C%20%22%2E%22%20%2B%20this%2Ename%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20renderError%3A%20function%28el%2C%20err%29%20%7B%0A%20%20%20%20%20%20var%20%24el%20%3D%20%24%28el%29%3B%0A%0A%20%20%20%20%20%20this%2EclearError%28el%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Add%20all%20these%20error%20classes%2C%20as%20Shiny%20does%0A%20%20%20%20%20%20var%20errClass%20%3D%20%22shiny%2Doutput%2Derror%22%3B%0A%20%20%20%20%20%20if%20%28err%2Etype%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20use%20the%20classes%20of%20the%20error%20condition%20as%20CSS%20class%20names%0A%20%20%20%20%20%20%20%20errClass%20%3D%20errClass%20%2B%20%22%20%22%20%2B%20%24%2Emap%28asArray%28err%2Etype%29%2C%20function%28type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20errClass%20%2B%20%22%2D%22%20%2B%20type%3B%0A%20%20%20%20%20%20%20%20%7D%29%2Ejoin%28%22%20%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20errClass%20%3D%20errClass%20%2B%20%22%20htmlwidgets%2Derror%22%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Is%20el%20inline%20or%20block%3F%20If%20inline%20or%20inline%2Dblock%2C%20just%20display%3Anone%20it%0A%20%20%20%20%20%20%2F%2F%20and%20add%20an%20inline%20error%2E%0A%20%20%20%20%20%20var%20display%20%3D%20%24el%2Ecss%28%22display%22%29%3B%0A%20%20%20%20%20%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%2C%20display%29%3B%0A%0A%20%20%20%20%20%20if%20%28display%20%3D%3D%3D%20%22inline%22%20%7C%7C%20display%20%3D%3D%3D%20%22inline%2Dblock%22%29%20%7B%0A%20%20%20%20%20%20%20%20%24el%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28err%2Emessage%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20errorSpan%20%3D%20%24%28%22%3Cspan%3E%22%29%2EaddClass%28errClass%29%3B%0A%20%20%20%20%20%20%20%20%20%20errorSpan%2Etext%28err%2Emessage%29%3B%0A%20%20%20%20%20%20%20%20%20%20%24el%2Eafter%28errorSpan%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28display%20%3D%3D%3D%20%22block%22%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20block%2C%20add%20an%20error%20just%20after%20the%20el%2C%20set%20visibility%3Anone%20on%20the%0A%20%20%20%20%20%20%20%20%2F%2F%20el%2C%20and%20position%20the%20error%20to%20be%20on%20top%20of%20the%20el%2E%0A%20%20%20%20%20%20%20%20%2F%2F%20Mark%20it%20with%20a%20unique%20ID%20and%20CSS%20class%20so%20we%20can%20remove%20it%20later%2E%0A%20%20%20%20%20%20%20%20%24el%2Ecss%28%22visibility%22%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20if%20%28err%2Emessage%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20errorDiv%20%3D%20%24%28%22%3Cdiv%3E%22%29%2EaddClass%28errClass%29%2Ecss%28%22position%22%2C%20%22absolute%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22top%22%2C%20el%2EoffsetTop%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22left%22%2C%20el%2EoffsetLeft%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20setting%20width%20can%20push%20out%20the%20page%20size%2C%20forcing%20otherwise%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20unnecessary%20scrollbars%20to%20appear%20and%20making%20it%20impossible%20for%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20element%20to%20shrink%3B%20so%20use%20max%2Dwidth%20instead%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22maxWidth%22%2C%20el%2EoffsetWidth%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22height%22%2C%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20errorDiv%2Etext%28err%2Emessage%29%3B%0A%20%20%20%20%20%20%20%20%20%20%24el%2Eafter%28errorDiv%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Really%20dumb%20way%20to%20keep%20the%20size%2Fposition%20of%20the%20error%20in%20sync%20with%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20parent%20element%20as%20the%20window%20is%20resized%20or%20whatever%2E%0A%20%20%20%20%20%20%20%20%20%20var%20intId%20%3D%20setInterval%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21errorDiv%5B0%5D%2EparentElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28intId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20errorDiv%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22top%22%2C%20el%2EoffsetTop%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22left%22%2C%20el%2EoffsetLeft%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22maxWidth%22%2C%20el%2EoffsetWidth%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22height%22%2C%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20clearError%3A%20function%28el%29%20%7B%0A%20%20%20%20%20%20var%20%24el%20%3D%20%24%28el%29%3B%0A%20%20%20%20%20%20var%20display%20%3D%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%29%3B%0A%20%20%20%20%20%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%2C%20null%29%3B%0A%0A%20%20%20%20%20%20if%20%28display%20%3D%3D%3D%20%22inline%22%20%7C%7C%20display%20%3D%3D%3D%20%22inline%2Dblock%22%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28display%29%0A%20%20%20%20%20%20%20%20%20%20%24el%2Ecss%28%22display%22%2C%20display%29%3B%0A%20%20%20%20%20%20%20%20%24%28el%2EnextSibling%29%2Efilter%28%22%2Ehtmlwidgets%2Derror%22%29%2Eremove%28%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28display%20%3D%3D%3D%20%22block%22%29%7B%0A%20%20%20%20%20%20%20%20%24el%2Ecss%28%22visibility%22%2C%20%22inherit%22%29%3B%0A%20%20%20%20%20%20%20%20%24%28el%2EnextSibling%29%2Efilter%28%22%2Ehtmlwidgets%2Derror%22%29%2Eremove%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20sizing%3A%20%7B%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Called%20by%20widget%20bindings%20to%20register%20a%20new%20type%20of%20widget%2E%20The%20definition%0A%20%20%2F%2F%20object%20can%20contain%20the%20following%20properties%3A%0A%20%20%2F%2F%20%2D%20name%20%28required%29%20%2D%20A%20string%20indicating%20the%20binding%20name%2C%20which%20will%20be%0A%20%20%2F%2F%20%20%20used%20by%20default%20as%20the%20CSS%20classname%20to%20look%20for%2E%0A%20%20%2F%2F%20%2D%20initialize%20%28optional%29%20%2D%20A%20function%28el%29%20that%20will%20be%20called%20once%20per%0A%20%20%2F%2F%20%20%20widget%20element%3B%20if%20a%20value%20is%20returned%2C%20it%20will%20be%20passed%20as%20the%20third%0A%20%20%2F%2F%20%20%20value%20to%20renderValue%2E%0A%20%20%2F%2F%20%2D%20renderValue%20%28required%29%20%2D%20A%20function%28el%2C%20data%2C%20initValue%29%20that%20will%20be%0A%20%20%2F%2F%20%20%20called%20with%20data%2E%20Static%20contexts%20will%20cause%20this%20to%20be%20called%20once%20per%0A%20%20%2F%2F%20%20%20element%3B%20Shiny%20apps%20will%20cause%20this%20to%20be%20called%20multiple%20times%20per%0A%20%20%2F%2F%20%20%20element%2C%20as%20the%20data%20changes%2E%0A%20%20window%2EHTMLWidgets%2Ewidget%20%3D%20function%28definition%29%20%7B%0A%20%20%20%20if%20%28%21definition%2Ename%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20name%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21definition%2Etype%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20type%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20Currently%20we%20only%20support%20output%20widgets%0A%20%20%20%20if%20%28definition%2Etype%20%21%3D%3D%20%22output%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Unrecognized%20widget%20type%20%27%22%20%2B%20definition%2Etype%20%2B%20%22%27%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20TODO%3A%20Verify%20that%20%2Ename%20is%20a%20valid%20CSS%20classname%0A%20%20%20%20if%20%28%21definition%2ErenderValue%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20renderValue%20function%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20For%20static%20rendering%20%28non%2DShiny%29%2C%20use%20a%20simple%20widget%20registration%0A%20%20%20%20%2F%2F%20scheme%2E%20We%20also%20use%20this%20scheme%20for%20Shiny%20apps%2Fdocuments%20that%20also%0A%20%20%20%20%2F%2F%20contain%20static%20widgets%2E%0A%20%20%20%20window%2EHTMLWidgets%2Ewidgets%20%3D%20window%2EHTMLWidgets%2Ewidgets%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%2F%2F%20Merge%20defaults%20into%20the%20definition%3B%20don%27t%20mutate%20the%20original%20definition%2E%0A%20%20%20%20var%20staticBinding%20%3D%20extend%28%7B%7D%2C%20defaults%2C%20definition%29%3B%0A%20%20%20%20overrideMethod%28staticBinding%2C%20%22find%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20return%20function%28scope%29%20%7B%0A%20%20%20%20%20%20%20%20var%20results%20%3D%20superfunc%28scope%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Filter%20out%20Shiny%20outputs%2C%20we%20only%20want%20the%20static%20kind%0A%20%20%20%20%20%20%20%20return%20filterByClass%28results%2C%20%22html%2Dwidget%2Doutput%22%2C%20false%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20window%2EHTMLWidgets%2Ewidgets%2Epush%28staticBinding%29%3B%0A%0A%20%20%20%20if%20%28shinyMode%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20Shiny%20is%20running%2E%20Register%20the%20definition%20as%20an%20output%20binding%2E%0A%0A%20%20%20%20%20%20%2F%2F%20Merge%20defaults%20into%20the%20definition%3B%20don%27t%20mutate%20the%20original%20definition%2E%0A%20%20%20%20%20%20%2F%2F%20The%20base%20object%20is%20a%20Shiny%20output%20binding%20if%20we%27re%20running%20in%20Shiny%20mode%2C%0A%20%20%20%20%20%20%2F%2F%20or%20an%20empty%20object%20if%20we%27re%20not%2E%0A%20%20%20%20%20%20var%20shinyBinding%20%3D%20extend%28new%20Shiny%2EOutputBinding%28%29%2C%20defaults%2C%20definition%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Wrap%20renderValue%20to%20handle%20initialization%2C%20which%20unfortunately%20isn%27t%0A%20%20%20%20%20%20%2F%2F%20supported%20natively%20by%20Shiny%20at%20the%20time%20of%20this%20writing%2E%0A%0A%20%20%20%20%20%20%2F%2F%20NB%3A%20shinyBinding%2Einitialize%20may%20be%20undefined%2C%20as%20it%27s%20optional%2E%0A%0A%20%20%20%20%20%20%2F%2F%20Rename%20initialize%20to%20make%20sure%20it%20isn%27t%20called%20by%20a%20future%20version%0A%20%20%20%20%20%20%2F%2F%20of%20Shiny%20that%20does%20support%20initialize%20directly%2E%0A%20%20%20%20%20%20shinyBinding%2E%5Fhtmlwidgets%5Finitialize%20%3D%20shinyBinding%2Einitialize%3B%0A%20%20%20%20%20%20delete%20shinyBinding%2Einitialize%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22find%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28scope%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20results%20%3D%20superfunc%28scope%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Only%20return%20elements%20that%20are%20Shiny%20outputs%2C%20not%20static%20ones%0A%20%20%20%20%20%20%20%20%20%20var%20dynamicResults%20%3D%20results%2Efilter%28%22%2Ehtml%2Dwidget%2Doutput%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20It%27s%20possible%20that%20whatever%20caused%20Shiny%20to%20think%20there%20might%20be%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20new%20dynamic%20outputs%2C%20also%20caused%20there%20to%20be%20new%20static%20outputs%2E%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Since%20there%20might%20be%20lots%20of%20different%20htmlwidgets%20bindings%2C%20we%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20schedule%20execution%20for%20later%2D%2Dno%20need%20to%20staticRender%20multiple%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20times%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28results%2Elength%20%21%3D%3D%20dynamicResults%2Elength%29%0A%20%20%20%20%20%20%20%20%20%20%20%20scheduleStaticRender%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%20dynamicResults%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22renderValue%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28el%2C%20data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Resolve%20strings%20marked%20as%20javascript%20literals%20to%20objects%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28data%2Eevals%20instanceof%20Array%29%29%20data%2Eevals%20%3D%20%5Bdata%2Eevals%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20data%2Eevals%20%26%26%20i%20%3C%20data%2Eevals%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EevaluateStringMember%28data%2Ex%2C%20data%2Eevals%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2ErenderOnNullValue%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28data%2Ex%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2Estyle%2Evisibility%20%3D%20%22hidden%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2Estyle%2Evisibility%20%3D%20%22inherit%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21elementData%28el%2C%20%22initialized%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20initSizing%28el%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20elementData%28el%2C%20%22initialized%22%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fhtmlwidgets%5Finitialize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20this%2E%5Fhtmlwidgets%5Finitialize%28el%2C%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20elementData%28el%2C%20%22init%5Fresult%22%2C%20result%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20Shiny%2ErenderDependencies%28data%2Edeps%29%3B%0A%20%20%20%20%20%20%20%20%20%20superfunc%28el%2C%20data%2Ex%2C%20elementData%28el%2C%20%22init%5Fresult%22%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22resize%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28el%2C%20width%2C%20height%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Shiny%20can%20call%20resize%20before%20initialize%2FrenderValue%20have%20been%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20called%2C%20which%20doesn%27t%20make%20sense%20for%20widgets%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28elementData%28el%2C%20%22initialized%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20superfunc%28el%2C%20width%2C%20height%2C%20elementData%28el%2C%20%22init%5Fresult%22%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20Shiny%2EoutputBindings%2Eregister%28shinyBinding%2C%20shinyBinding%2Ename%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20scheduleStaticRenderTimerId%20%3D%20null%3B%0A%20%20function%20scheduleStaticRender%28%29%20%7B%0A%20%20%20%20if%20%28%21scheduleStaticRenderTimerId%29%20%7B%0A%20%20%20%20%20%20scheduleStaticRenderTimerId%20%3D%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20scheduleStaticRenderTimerId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%20%20%7D%2C%201%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Render%20static%20widgets%20after%20the%20document%20finishes%20loading%0A%20%20%2F%2F%20Statically%20render%20all%20elements%20that%20are%20of%20this%20widget%27s%20class%0A%20%20window%2EHTMLWidgets%2EstaticRender%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20bindings%20%3D%20window%2EHTMLWidgets%2Ewidgets%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20forEach%28bindings%2C%20function%28binding%29%20%7B%0A%20%20%20%20%20%20var%20matches%20%3D%20binding%2Efind%28document%2EdocumentElement%29%3B%0A%20%20%20%20%20%20forEach%28matches%2C%20function%28el%29%20%7B%0A%20%20%20%20%20%20%20%20var%20sizeObj%20%3D%20initSizing%28el%2C%20binding%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28hasClass%28el%2C%20%22html%2Dwidget%2Dstatic%2Dbound%22%29%29%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20el%2EclassName%20%3D%20el%2EclassName%20%2B%20%22%20html%2Dwidget%2Dstatic%2Dbound%22%3B%0A%0A%20%20%20%20%20%20%20%20var%20initResult%3B%0A%20%20%20%20%20%20%20%20if%20%28binding%2Einitialize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20initResult%20%3D%20binding%2Einitialize%28el%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeObj%20%3F%20sizeObj%2EgetWidth%28%29%20%3A%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeObj%20%3F%20sizeObj%2EgetHeight%28%29%20%3A%20el%2EoffsetHeight%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28binding%2Eresize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20lastSize%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20resizeHandler%20%3D%20function%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20size%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%3A%20sizeObj%20%3F%20sizeObj%2EgetWidth%28%29%20%3A%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20h%3A%20sizeObj%20%3F%20sizeObj%2EgetHeight%28%29%20%3A%20el%2EoffsetHeight%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28size%2Ew%20%3D%3D%3D%200%20%26%26%20size%2Eh%20%3D%3D%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28size%2Ew%20%3D%3D%3D%20lastSize%2Ew%20%26%26%20size%2Eh%20%3D%3D%3D%20lastSize%2Eh%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lastSize%20%3D%20size%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20binding%2Eresize%28el%2C%20size%2Ew%2C%20size%2Eh%2C%20initResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20on%28window%2C%20%22resize%22%2C%20resizeHandler%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20needed%20for%20cases%20where%20we%27re%20running%20in%20a%20Shiny%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20app%2C%20but%20the%20widget%20itself%20is%20not%20a%20Shiny%20output%2C%20but%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20rather%20a%20simple%20static%20widget%2E%20One%20example%20of%20this%20is%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20an%20rmarkdown%20document%20that%20has%20runtime%3Ashiny%20and%20widget%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20that%20isn%27t%20in%20a%20render%20function%2E%20Shiny%20only%20knows%20to%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20call%20resize%20handlers%20for%20Shiny%20outputs%2C%20not%20for%20static%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20widgets%2C%20so%20we%20do%20it%20ourselves%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28window%2EjQuery%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EjQuery%28document%29%2Eon%28%22shown%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EjQuery%28document%29%2Eon%28%22hidden%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20needed%20for%20the%20specific%20case%20of%20ioslides%2C%20which%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20flips%20slides%20between%20display%3Anone%20and%20display%3Ablock%2E%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Ideally%20we%20would%20not%20have%20to%20have%20ioslide%2Dspecific%20code%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20here%2C%20but%20rather%20have%20ioslides%20raise%20a%20generic%20event%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20but%20the%20rmarkdown%20package%20just%20went%20to%20CRAN%20so%20the%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20window%20to%20getting%20that%20fixed%20may%20be%20long%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28window%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20It%27s%20OK%20to%20limit%20this%20to%20window%2EaddEventListener%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20browsers%20because%20ioslides%20itself%20only%20supports%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20such%20browsers%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20on%28document%2C%20%22slideenter%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20on%28document%2C%20%22slideleave%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20scriptData%20%3D%20document%2EquerySelector%28%22script%5Bdata%2Dfor%3D%27%22%20%2B%20el%2Eid%20%2B%20%22%27%5D%5Btype%3D%27application%2Fjson%27%5D%22%29%3B%0A%20%20%20%20%20%20%20%20if%20%28scriptData%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20data%20%3D%20JSON%2Eparse%28scriptData%2EtextContent%20%7C%7C%20scriptData%2Etext%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Resolve%20strings%20marked%20as%20javascript%20literals%20to%20objects%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28data%2Eevals%20instanceof%20Array%29%29%20data%2Eevals%20%3D%20%5Bdata%2Eevals%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20k%20%3D%200%3B%20data%2Eevals%20%26%26%20k%20%3C%20data%2Eevals%2Elength%3B%20k%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EevaluateStringMember%28data%2Ex%2C%20data%2Eevals%5Bk%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20binding%2ErenderValue%28el%2C%20data%2Ex%2C%20initResult%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Wait%20until%20after%20the%20document%20has%20loaded%20to%20render%20the%20widgets%2E%0A%20%20if%20%28document%2EaddEventListener%29%20%7B%0A%20%20%20%20document%2EaddEventListener%28%22DOMContentLoaded%22%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20document%2EremoveEventListener%28%22DOMContentLoaded%22%2C%20arguments%2Ecallee%2C%20false%29%3B%0A%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%7D%2C%20false%29%3B%0A%20%20%7D%20else%20if%20%28document%2EattachEvent%29%20%7B%0A%20%20%20%20document%2EattachEvent%28%22onreadystatechange%22%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20if%20%28document%2EreadyState%20%3D%3D%3D%20%22complete%22%29%20%7B%0A%20%20%20%20%20%20%20%20document%2EdetachEvent%28%22onreadystatechange%22%2C%20arguments%2Ecallee%29%3B%0A%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%0A%20%20window%2EHTMLWidgets%2EgetAttachmentUrl%20%3D%20function%28depname%2C%20key%29%20%7B%0A%20%20%20%20%2F%2F%20If%20no%20key%2C%20default%20to%20the%20first%20item%0A%20%20%20%20if%20%28typeof%28key%29%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20key%20%3D%201%3B%0A%0A%20%20%20%20var%20link%20%3D%20document%2EgetElementById%28depname%20%2B%20%22%2D%22%20%2B%20key%20%2B%20%22%2Dattachment%22%29%3B%0A%20%20%20%20if%20%28%21link%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Attachment%20%22%20%2B%20depname%20%2B%20%22%2F%22%20%2B%20key%20%2B%20%22%20not%20found%20in%20document%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20link%2EgetAttribute%28%22href%22%29%3B%0A%20%20%7D%3B%0A%0A%20%20window%2EHTMLWidgets%2EdataframeToD3%20%3D%20function%28df%29%20%7B%0A%20%20%20%20var%20names%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20length%3B%0A%20%20%20%20for%20%28var%20name%20in%20df%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28df%2EhasOwnProperty%28name%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20names%2Epush%28name%29%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%28df%5Bname%5D%29%20%21%3D%3D%20%22object%22%20%7C%7C%20typeof%28df%5Bname%5D%2Elength%29%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22All%20fields%20must%20be%20arrays%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%28length%29%20%21%3D%3D%20%22undefined%22%20%26%26%20length%20%21%3D%3D%20df%5Bname%5D%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22All%20fields%20must%20be%20arrays%20of%20the%20same%20length%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20length%20%3D%20df%5Bname%5D%2Elength%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20item%3B%0A%20%20%20%20for%20%28var%20row%20%3D%200%3B%20row%20%3C%20length%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20item%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20col%20%3D%200%3B%20col%20%3C%20names%2Elength%3B%20col%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%5Bnames%5Bcol%5D%5D%20%3D%20df%5Bnames%5Bcol%5D%5D%5Brow%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20results%2Epush%28item%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%3B%0A%0A%20%20window%2EHTMLWidgets%2EtransposeArray2D%20%3D%20function%28array%29%20%7B%0A%20%20%20%20%20%20var%20newArray%20%3D%20array%5B0%5D%2Emap%28function%28col%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20array%2Emap%28function%28row%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20row%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20return%20newArray%3B%0A%20%20%7D%3B%0A%20%20%2F%2F%20Split%20value%20at%20splitChar%2C%20but%20allow%20splitChar%20to%20be%20escaped%0A%20%20%2F%2F%20using%20escapeChar%2E%20Any%20other%20characters%20escaped%20by%20escapeChar%0A%20%20%2F%2F%20will%20be%20included%20as%20usual%20%28including%20escapeChar%20itself%29%2E%0A%20%20function%20splitWithEscape%28value%2C%20splitChar%2C%20escapeChar%29%20%7B%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20escapeMode%20%3D%20false%3B%0A%20%20%20%20var%20currentResult%20%3D%20%22%22%3B%0A%20%20%20%20for%20%28var%20pos%20%3D%200%3B%20pos%20%3C%20value%2Elength%3B%20pos%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28%21escapeMode%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28value%5Bpos%5D%20%3D%3D%3D%20splitChar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20results%2Epush%28currentResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20currentResult%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28value%5Bpos%5D%20%3D%3D%3D%20escapeChar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20escapeMode%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentResult%20%2B%3D%20value%5Bpos%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20currentResult%20%2B%3D%20value%5Bpos%5D%3B%0A%20%20%20%20%20%20%20%20escapeMode%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28currentResult%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20results%2Epush%28currentResult%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%0A%20%20%2F%2F%20Function%20authored%20by%20Yihui%2FJJ%20Allaire%0A%20%20window%2EHTMLWidgets%2EevaluateStringMember%20%3D%20function%28o%2C%20member%29%20%7B%0A%20%20%20%20var%20parts%20%3D%20splitWithEscape%28member%2C%20%27%2E%27%2C%20%27%5C%5C%27%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20l%20%3D%20parts%2Elength%3B%20i%20%3C%20l%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20part%20%3D%20parts%5Bi%5D%3B%0A%20%20%20%20%20%20%2F%2F%20part%20may%20be%20a%20character%20or%20%27numeric%27%20member%20name%0A%20%20%20%20%20%20if%20%28o%20%21%3D%3D%20null%20%26%26%20typeof%20o%20%3D%3D%3D%20%22object%22%20%26%26%20part%20in%20o%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28i%20%3D%3D%20%28l%20%2D%201%29%29%20%7B%20%2F%2F%20if%20we%20are%20at%20the%20end%20of%20the%20line%20then%20evalulate%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20o%5Bpart%5D%20%3D%3D%3D%20%22string%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20o%5Bpart%5D%20%3D%20eval%28%22%28%22%20%2B%20o%5Bpart%5D%20%2B%20%22%29%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%2F%2F%20otherwise%20continue%20to%20next%20embedded%20object%0A%20%20%20%20%20%20%20%20%20%20o%20%3D%20o%5Bpart%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%29%28%29%3B%0A%0A"></script>
<link href="data:text/css,%2ErglPlayer%20%7B%0A%20%20width%3A%20auto%3B%0A%20%20height%3A%20auto%3B%0A%7D%0A%0A%2ErglPlayer%20%2Ergl%2Dbutton%20%7B%0A%20%20width%3A%20auto%3B%0A%20%20display%3A%20inline%2Dblock%3B%0A%20%20font%2Dsize%3A%2075%25%3B%0A%7D%0A%0A%2ErglPlayer%20%2Ergl%2Dslider%20%7B%0A%20%20display%3A%20inline%2Dblock%3B%0A%20%20width%3A%2030%25%3B%0A%7D%0A%0A%2ErglPlayer%20%2Ergl%2Dlabel%20%7B%0A%20%20display%3A%20inline%3B%0A%20%20padding%2Dleft%3A%206px%3B%0A%20%20padding%2Dright%3A%206px%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript,%0ArglwidgetClass%20%3D%20function%28%29%20%7B%0A%20%20%20%20this%2Ecanvas%20%3D%20null%3B%0A%20%20%20%20this%2EuserMatrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20this%2Etypes%20%3D%20%5B%5D%3B%0A%20%20%20%20this%2EprMatrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20this%2EmvMatrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20this%2Evp%20%3D%20null%3B%0A%20%20%20%20this%2EprmvMatrix%20%3D%20null%3B%0A%20%20%20%20this%2Eorigs%20%3D%20null%3B%0A%20%20%20%20this%2Egl%20%3D%20null%3B%0A%20%20%20%20this%2Escene%20%3D%20null%3B%0A%7D%3B%0A%0A%28function%28%29%20%7B%0A%20%20%20%20this%2EmultMV%20%3D%20function%28M%2C%20v%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B%20M%2Em11%20%2A%20v%5B0%5D%20%2B%20M%2Em12%20%2A%20v%5B1%5D%20%2B%20M%2Em13%20%2A%20v%5B2%5D%20%2B%20M%2Em14%20%2A%20v%5B3%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%2Em21%20%2A%20v%5B0%5D%20%2B%20M%2Em22%20%2A%20v%5B1%5D%20%2B%20M%2Em23%20%2A%20v%5B2%5D%20%2B%20M%2Em24%20%2A%20v%5B3%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%2Em31%20%2A%20v%5B0%5D%20%2B%20M%2Em32%20%2A%20v%5B1%5D%20%2B%20M%2Em33%20%2A%20v%5B2%5D%20%2B%20M%2Em34%20%2A%20v%5B3%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%2Em41%20%2A%20v%5B0%5D%20%2B%20M%2Em42%20%2A%20v%5B1%5D%20%2B%20M%2Em43%20%2A%20v%5B2%5D%20%2B%20M%2Em44%20%2A%20v%5B3%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Evlen%20%3D%20function%28v%29%20%7B%0A%09%09%20%20return%20Math%2Esqrt%28this%2Edotprod%28v%2C%20v%29%29%3B%0A%09%09%7D%3B%0A%0A%20%20%20%20this%2Edotprod%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20return%20a%5B0%5D%2Ab%5B0%5D%20%2B%20a%5B1%5D%2Ab%5B1%5D%20%2B%20a%5B2%5D%2Ab%5B2%5D%3B%0A%20%20%20%20%7D%0A%0A%09%09this%2Exprod%20%3D%20function%28a%2C%20b%29%20%7B%0A%09%09%09return%20%5Ba%5B1%5D%2Ab%5B2%5D%20%2D%20a%5B2%5D%2Ab%5B1%5D%2C%0A%09%09%09%20%20%20%20a%5B2%5D%2Ab%5B0%5D%20%2D%20a%5B0%5D%2Ab%5B2%5D%2C%0A%09%09%09%20%20%20%20a%5B0%5D%2Ab%5B1%5D%20%2D%20a%5B1%5D%2Ab%5B0%5D%5D%3B%0A%09%09%7D%3B%0A%0A%20%20%20%20this%2Ecbind%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20return%20a%2Emap%28function%28currentValue%2C%20index%2C%20array%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20currentValue%2Econcat%28b%5Bindex%5D%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Eswap%20%3D%20function%28a%2C%20i%2C%20j%29%20%7B%0A%20%20%20%20%20%20var%20temp%20%3D%20a%5Bi%5D%3B%0A%20%20%20%20%20%20a%5Bi%5D%20%3D%20a%5Bj%5D%3B%0A%20%20%20%20%20%20a%5Bj%5D%20%3D%20temp%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Eflatten%20%3D%20function%28a%29%20%7B%0A%20%20%20%20%20%20return%20%5B%5D%2Econcat%2Eapply%28%5B%5D%2C%20a%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%20set%20element%20of%201d%20or%202d%20array%20as%20if%20it%20was%20flattened%2E%20%20Column%20major%2C%20zero%20based%21%20%2A%2F%0A%20%20%20%20this%2EsetElement%20%3D%20function%28a%2C%20i%2C%20value%29%20%7B%0A%20%20%20%20%20%20if%20%28Array%2EisArray%28a%5B0%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20var%20dim%20%3D%20a%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20Math%2Efloor%28i%2Fdim%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20row%20%3D%20i%20%25%20dim%3B%0A%20%20%20%20%20%20%20%20a%5Brow%5D%5Bcol%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20a%5Bi%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Etranspose%20%3D%20function%28a%29%20%7B%0A%20%20%20%20%20%20var%20newArray%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20n%20%3D%20a%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20m%20%3D%20a%5B0%5D%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20i%3B%0A%20%20%20%20%20%20for%28i%20%3D%200%3B%20i%20%3C%20m%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20newArray%2Epush%28%5B%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20for%28i%20%3D%200%3B%20i%20%3C%20n%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20for%28var%20j%20%3D%200%3B%20j%20%3C%20m%3B%20j%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20newArray%5Bj%5D%2Epush%28a%5Bi%5D%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20newArray%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Esumsq%20%3D%20function%28x%29%20%7B%0A%20%20%20%20%20%20var%20result%20%3D%200%2C%20i%3B%0A%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20x%2Elength%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20result%20%2B%3D%20x%5Bi%5D%2Ax%5Bi%5D%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EtoCanvasMatrix4%20%3D%20function%28mat%29%20%7B%0A%20%20%20%20%20%20if%20%28mat%20instanceof%20CanvasMatrix4%29%0A%20%20%20%20%20%20%20%20return%20mat%3B%0A%20%20%20%20%20%20var%20result%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20%20%20mat%20%3D%20this%2Eflatten%28this%2Etranspose%28mat%29%29%3B%0A%20%20%20%20%20%20result%2Eload%28mat%29%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EstringToRgb%20%3D%20function%28s%29%20%7B%0A%20%20%20%20%20%20s%20%3D%20s%2Ereplace%28%22%23%22%2C%20%22%22%29%3B%0A%20%20%20%20%20%20var%20bigint%20%3D%20parseInt%28s%2C%2016%29%3B%0A%20%20%20%20%20%20return%20%5B%28%28bigint%20%3E%3E%2016%29%20%26%20255%29%2F255%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%28bigint%20%3E%3E%208%29%20%26%20255%29%2F255%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28bigint%20%26%20255%29%2F255%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcomponentProduct%20%3D%20function%28x%2C%20y%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20y%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EalertOnce%28%22Bad%20arg%20to%20componentProduct%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20result%20%3D%20new%20Float32Array%283%29%2C%20i%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%3C3%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20result%5Bi%5D%20%3D%20x%5Bi%5D%2Ay%5Bi%5D%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetPowerOfTwo%20%3D%20function%28value%29%20%7B%0A%09%20%20%20%20var%20pow%20%3D%201%3B%0A%09%20%20%20%20while%28pow%3Cvalue%29%20%7B%0A%09%20%20%20%20%20%20pow%20%2A%3D%202%3B%0A%09%20%20%20%20%7D%0A%09%20%20%20%20return%20pow%3B%0A%09%20%20%7D%3B%0A%0A%09%20%20this%2Eunique%20%3D%20function%28arr%29%20%7B%0A%09%20%20%20%20arr%20%3D%20%5B%5D%2Econcat%28arr%29%3B%0A%09%20%20%20%20return%20arr%2Efilter%28function%28value%2C%20index%2C%20self%29%20%7B%0A%09%20%20%20%20%20%20return%20self%2EindexOf%28value%29%20%3D%3D%3D%20index%3B%0A%09%20%20%20%20%7D%29%3B%0A%09%20%20%7D%3B%0A%0A%09%20%20this%2ErepeatToLen%20%3D%20function%28arr%2C%20len%29%20%7B%0A%09%20%20%20%20arr%20%3D%20%5B%5D%2Econcat%28arr%29%3B%0A%09%20%20%20%20while%20%28arr%2Elength%20%3C%20len%2F2%29%0A%09%20%20%20%20%20%20arr%20%3D%20arr%2Econcat%28arr%29%3B%0A%09%20%20%20%20return%20arr%2Econcat%28arr%2Eslice%280%2C%20len%20%2D%20arr%2Elength%29%29%3B%0A%09%20%20%7D%3B%0A%0A%09%20%20this%2EalertOnce%20%3D%20function%28msg%29%20%7B%0A%09%20%20%20%20if%20%28typeof%20this%2Ealerted%20%21%3D%3D%20%22undefined%22%29%0A%09%20%20%20%20%20%20return%3B%0A%09%20%20%20%20this%2Ealerted%20%3D%20true%3B%0A%09%20%20%20%20alert%28msg%29%3B%0A%09%20%20%7D%3B%0A%0A%20%20%20%20this%2Ef%5Fis%5Flit%20%3D%201%3B%0A%20%20%20%20this%2Ef%5Fis%5Fsmooth%20%3D%202%3B%0A%20%20%20%20this%2Ef%5Fhas%5Ftexture%20%3D%204%3B%0A%20%20%20%20this%2Ef%5Fis%5Findexed%20%3D%208%3B%0A%20%20%20%20this%2Ef%5Fdepth%5Fsort%20%3D%2016%3B%0A%20%20%20%20this%2Ef%5Ffixed%5Fquads%20%3D%2032%3B%0A%20%20%20%20this%2Ef%5Fis%5Ftransparent%20%3D%2064%3B%0A%20%20%20%20this%2Ef%5Fis%5Flines%20%3D%20128%3B%0A%20%20%20%20this%2Ef%5Fsprites%5F3d%20%3D%20256%3B%0A%20%20%20%20this%2Ef%5Fsprite%5F3d%20%3D%20512%3B%0A%20%20%20%20this%2Ef%5Fis%5Fsubscene%20%3D%201024%3B%0A%20%20%20%20this%2Ef%5Fis%5Fclipplanes%20%3D%202048%3B%0A%0A%20%20%20%20this%2EwhichList%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20flags%20%3D%20obj%2Eflags%3B%0A%20%20%20%20%20%20%20%20if%20%28obj%2Etype%20%3D%3D%3D%20%22light%22%29%0A%20%20%20%20%20%20%20%20%20%20return%20%22lights%22%3B%0A%20%20%20%20%20%20%20%20if%20%28flags%20%26%20this%2Ef%5Fis%5Fsubscene%29%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22subscenes%22%3B%0A%20%20%20%20%20%20%20%20if%20%28flags%20%26%20this%2Ef%5Fis%5Fclipplanes%29%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22clipplanes%22%3B%0A%20%20%20%20%20%20%20%20if%20%28flags%20%26%20this%2Ef%5Fis%5Ftransparent%29%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22transparent%22%3B%0A%20%20%20%20%20%20%20%20return%20%22opaque%22%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetObj%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20id%20%21%3D%3D%20%22number%22%29%20%7B%0A%09%09%20%20%20%20this%2EalertOnce%28%22getObj%20id%20is%20%22%2Btypeof%20id%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this%2Escene%2Eobjects%5Bid%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetIdsByType%20%3D%20function%28type%2C%20subscene%29%20%7B%0A%20%20%20%20%20%20var%0A%20%20%20%20%20%20%20%20result%20%3D%20%5B%5D%2C%20i%2C%20self%20%3D%20this%3B%0A%20%20%20%20%20%20if%20%28typeof%20subscene%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20Object%2Ekeys%28this%2Escene%2Eobjects%29%2EforEach%28%0A%20%20%20%20%20%20%20%20%20%20function%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20parseInt%28key%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28self%2EgetObj%28key%29%2Etype%20%3D%3D%3D%20type%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%2Epush%28key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20ids%20%3D%20this%2EgetObj%28subscene%29%2Eobjects%3B%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20ids%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28this%2EgetObj%28ids%5Bi%5D%29%2Etype%20%3D%3D%3D%20type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%2Epush%28ids%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%09%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetMaterial%20%3D%20function%28id%2C%20property%29%20%7B%0A%20%20%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20mat%20%3D%20obj%2Ematerial%5Bproperty%5D%3B%0A%20%20%20%20%20%20if%20%28typeof%20mat%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20%20%20mat%20%3D%20this%2Escene%2Ematerial%5Bproperty%5D%3B%0A%20%20%20%20%20%20return%20mat%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinSubscene%20%3D%20function%28id%2C%20subscene%29%20%7B%0A%20%20%20%20%20%20return%20this%2EgetObj%28subscene%29%2Eobjects%2EindexOf%28id%29%20%3E%20%2D1%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EaddToSubscene%20%3D%20function%28id%2C%20subscene%29%20%7B%0A%20%20%20%20%20%20var%20thelist%2C%0A%20%20%20%20%20%20%20%20%20%20thesub%20%3D%20this%2EgetObj%28subscene%29%2C%0A%20%20%20%20%20%20%20%20%20%20ids%20%3D%20%5Bid%5D%2C%0A%20%20%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28id%29%2C%20i%3B%0A%20%20%20%20%20%20if%20%28typeof%20obj%2EnewIds%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20ids%20%3D%20ids%2Econcat%28obj%2EnewIds%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20ids%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20id%20%3D%20ids%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28thesub%2Eobjects%2EindexOf%28id%29%20%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20thelist%20%3D%20this%2EwhichList%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20thesub%2Eobjects%2Epush%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20thesub%5Bthelist%5D%2Epush%28id%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EdelFromSubscene%20%3D%20function%28id%2C%20subscene%29%20%7B%0A%20%20%20%20%20%20var%20thelist%2C%0A%20%20%20%20%20%20%20%20%20%20thesub%20%3D%20this%2EgetObj%28subscene%29%2C%0A%20%20%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20ids%20%3D%20%5Bid%5D%2C%20i%2C%20newIds%3B%0A%20%20%20%20%20%20if%20%28typeof%20obj%2EnewIds%20%21%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20ids%20%3D%20ids%2Econcat%28obj%2EnewIds%29%3B%0A%20%20%20%20%20%20for%20%28j%3D0%3B%20j%3Cids%2Elength%3Bj%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20id%20%3D%20ids%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20i%20%3D%20thesub%2Eobjects%2EindexOf%28id%29%3B%0A%20%20%20%20%20%20%20%20if%20%28i%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20thesub%2Eobjects%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20thelist%20%3D%20this%2EwhichList%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20i%20%3D%20thesub%5Bthelist%5D%2EindexOf%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20thesub%5Bthelist%5D%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EsetSubsceneEntries%20%3D%20function%28ids%2C%20subsceneid%29%20%7B%0A%20%20%20%20%20%20var%20sub%20%3D%20this%2EgetObj%28subsceneid%29%3B%0A%20%20%20%20%20%20sub%2Eobjects%20%3D%20ids%3B%0A%20%20%20%20%20%20this%2EinitSubscene%28subsceneid%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetSubsceneEntries%20%3D%20function%28subscene%29%20%7B%0A%20%20%20%20%20%20return%20this%2EgetObj%28subscene%29%2Eobjects%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetChildSubscenes%20%3D%20function%28subscene%29%20%7B%0A%20%20%20%20%20%20return%20this%2EgetObj%28subscene%29%2Esubscenes%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetVertexShader%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20flags%20%3D%20obj%2Eflags%2C%0A%09%20%20%20%20%20%20%20%20type%20%3D%20obj%2Etype%2C%0A%20%20%20%20%20%20%20%20%20%20is%5Flit%20%3D%20flags%20%26%20this%2Ef%5Fis%5Flit%2C%0A%09%09%20%20%20%20%20%20has%5Ftexture%20%3D%20flags%20%26%20this%2Ef%5Fhas%5Ftexture%2C%0A%09%09%20%20%20%20%20%20fixed%5Fquads%20%3D%20flags%20%26%20this%2Ef%5Ffixed%5Fquads%2C%0A%09%09%20%20%20%20%20%20sprites%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprites%5F3d%2C%0A%09%09%20%20%20%20%20%20sprite%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprite%5F3d%2C%0A%09%09%20%20%20%20%20%20nclipplanes%20%3D%20this%2EcountClipplanes%28%29%2C%0A%09%09%20%20%20%20%20%20result%3B%0A%0A%09%09%20%20if%20%28type%20%3D%3D%3D%20%22clipplanes%22%20%7C%7C%20sprites%5F3d%29%20return%3B%0A%0A%09%09%20%20result%20%3D%20%22%09%2F%2A%20%2A%2A%2A%2A%2A%2A%20%22%2Btype%2B%22%20object%20%22%2Bid%2B%22%20vertex%20shader%20%2A%2A%2A%2A%2A%2A%20%2A%2F%5Cn%22%2B%0A%09%09%09%22%09attribute%20vec3%20aPos%3B%5Cn%22%2B%0A%09%09%20%20%22%09attribute%20vec4%20aCol%3B%5Cn%22%2B%0A%09%09%09%22%20uniform%20mat4%20mvMatrix%3B%5Cn%22%2B%0A%09%09%09%22%20uniform%20mat4%20prMatrix%3B%5Cn%22%2B%0A%09%09%09%22%20varying%20vec4%20vCol%3B%5Cn%22%2B%0A%09%09%09%22%20varying%20vec4%20vPosition%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28is%5Flit%20%26%26%20%21fixed%5Fquads%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09attribute%20vec3%20aNorm%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20uniform%20mat4%20normMatrix%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20varying%20vec3%20vNormal%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28has%5Ftexture%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%20attribute%20vec2%20aTexcoord%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20varying%20vec2%20vTexcoord%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28type%20%3D%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09uniform%20vec2%20textScale%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28fixed%5Fquads%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09attribute%20vec2%20aOfs%3B%5Cn%22%3B%0A%09%09%09else%20if%20%28sprite%5F3d%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09uniform%20vec3%20uOrig%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20uniform%20float%20uSize%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20uniform%20mat4%20usermat%3B%5Cn%22%3B%0A%0A%09%09%09result%20%3D%20result%20%2B%20%22%09void%20main%28void%29%20%7B%5Cn%22%3B%0A%0A%09%09%09if%20%28nclipplanes%20%7C%7C%20%28%21fixed%5Fquads%20%26%26%20%21sprite%5F3d%29%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vPosition%20%3D%20mvMatrix%20%2A%20vec4%28aPos%2C%201%2E%29%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28%21fixed%5Fquads%20%26%26%20%21sprite%5F3d%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20gl%5FPosition%20%3D%20prMatrix%20%2A%20vPosition%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28type%20%3D%3D%20%22points%22%29%20%7B%0A%09%09%09%20%20var%20size%20%3D%20this%2EgetMaterial%28id%2C%20%22size%22%29%3B%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20gl%5FPointSize%20%3D%20%22%2Bsize%2EtoFixed%281%29%2B%22%3B%5Cn%22%3B%0A%09%09%09%7D%0A%0A%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vCol%20%3D%20aCol%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28is%5Flit%20%26%26%20%21fixed%5Fquads%20%26%26%20%21sprite%5F3d%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vNormal%20%3D%20normalize%28%28normMatrix%20%2A%20vec4%28aNorm%2C%201%2E%29%29%2Exyz%29%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28has%5Ftexture%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vTexcoord%20%3D%20aTexcoord%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28type%20%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vec4%20pos%20%3D%20prMatrix%20%2A%20mvMatrix%20%2A%20vec4%28aPos%2C%201%2E%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20pos%20%3D%20pos%2Fpos%2Ew%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20gl%5FPosition%20%3D%20pos%20%2B%20vec4%28aOfs%2AtextScale%2C%200%2E%2C0%2E%29%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28type%20%3D%3D%20%22sprites%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vec4%20pos%20%3D%20mvMatrix%20%2A%20vec4%28aPos%2C%201%2E%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20pos%20%3D%20pos%2Fpos%2Ew%20%2B%20vec4%28aOfs%2C%200%2E%2C%200%2E%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20gl%5FPosition%20%3D%20prMatrix%2Apos%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28sprite%5F3d%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vNormal%20%3D%20normalize%28%28normMatrix%20%2A%20vec4%28aNorm%2C%201%2E%29%29%2Exyz%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec4%20pos%20%3D%20mvMatrix%20%2A%20vec4%28uOrig%2C%201%2E%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vPosition%20%3D%20pos%2Fpos%2Ew%20%2B%20vec4%28uSize%2A%28vec4%28aPos%2C%201%2E%29%2Ausermat%29%2Exyz%2C0%2E%29%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20gl%5FPosition%20%3D%20prMatrix%20%2A%20vPosition%3B%5Cn%22%3B%0A%0A%09%09%09result%20%3D%20result%20%2B%20%22%09%7D%5Cn%22%3B%0A%09%09%09return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetFragmentShader%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20flags%20%3D%20obj%2Eflags%2C%0A%09%20%20%20%20%20%20%20%20type%20%3D%20obj%2Etype%2C%0A%20%20%20%20%20%20%20%20%20%20is%5Flit%20%3D%20flags%20%26%20this%2Ef%5Fis%5Flit%2C%0A%09%09%20%20%20%20%20%20has%5Ftexture%20%3D%20flags%20%26%20this%2Ef%5Fhas%5Ftexture%2C%0A%09%09%20%20%20%20%20%20fixed%5Fquads%20%3D%20flags%20%26%20this%2Ef%5Ffixed%5Fquads%2C%0A%09%09%20%20%20%20%20%20sprites%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprites%5F3d%2C%0A%09%09%20%20%20%20%20%20nclipplanes%20%3D%20this%2EcountClipplanes%28%29%2C%20i%2C%0A%20%20%20%20%20%20%20%20%20%20texture%5Fformat%2C%20nlights%2C%0A%20%20%20%20%20%20%20%20%20%20result%3B%0A%0A%09%09%20%20if%20%28type%20%3D%3D%3D%20%22clipplanes%22%20%7C%7C%20sprites%5F3d%29%20return%3B%0A%0A%09%09%20%20if%20%28has%5Ftexture%29%0A%09%09%09%20%20texture%5Fformat%20%3D%20this%2EgetMaterial%28id%2C%20%22textype%22%29%3B%0A%0A%09%09%20%20result%20%3D%20%22%2F%2A%20%2A%2A%2A%2A%2A%2A%20%22%2Btype%2B%22%20object%20%22%2Bid%2B%22%20fragment%20shader%20%2A%2A%2A%2A%2A%2A%20%2A%2F%5Cn%22%2B%0A%09%09%20%20%09%09%09%09%20%22%23ifdef%20GL%5FES%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%22%20%20precision%20highp%20float%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%22%23endif%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%22%20%20varying%20vec4%20vCol%3B%20%2F%2F%20carries%20alpha%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%22%20%20varying%20vec4%20vPosition%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28has%5Ftexture%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09varying%20vec2%20vTexcoord%3B%5Cn%22%2B%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20uniform%20sampler2D%20uSampler%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28is%5Flit%20%26%26%20%21fixed%5Fquads%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09varying%20vec3%20vNormal%3B%5Cn%22%3B%0A%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20nclipplanes%3B%20i%2B%2B%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09uniform%20vec4%20vClipplane%22%2Bi%2B%22%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28is%5Flit%29%20%7B%0A%09%09%09%20%20nlights%20%3D%20this%2EcountLights%28%29%3B%0A%09%09%09%20%20if%20%28nlights%29%0A%09%09%09%20%20%20%20%20%20result%20%3D%20result%20%2B%20%22%09uniform%20mat4%20mvMatrix%3B%5Cn%22%3B%0A%09%09%09%20%20else%0A%09%09%09%20%20%20%20%20%20is%5Flit%20%3D%20false%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28is%5Flit%29%20%7B%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20uniform%20vec3%20emission%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20float%20shininess%3B%5Cn%22%3B%0A%0A%09%09%09%09for%20%28i%3D0%3B%20i%20%3C%20nlights%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20uniform%20vec3%20ambient%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20vec3%20specular%22%20%2B%20i%20%2B%22%3B%20%2F%2F%20light%2Amaterial%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20vec3%20diffuse%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20vec3%20lightDir%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20bool%20viewpoint%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20uniform%20bool%20finite%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%0A%09%09%09result%20%3D%20result%20%2B%20%22%09void%20main%28void%29%20%7B%5Cn%22%3B%0A%0A%09%09%09for%20%28i%3D0%3B%20i%20%3C%20nclipplanes%3Bi%2B%2B%29%0A%09%09%09%20%20result%20%3D%20result%20%2B%20%22%09%20%20if%20%28dot%28vPosition%2C%20vClipplane%22%2Bi%2B%22%29%20%3C%200%2E0%29%20discard%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28is%5Flit%29%20%7B%0A%09%09%09%09result%20%3D%20result%20%2B%20%22%09%20%20vec3%20eye%20%3D%20normalize%28%2DvPosition%2Exyz%29%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec3%20lightdir%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec4%20colDiff%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec3%20halfVec%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec4%20lighteffect%20%3D%20vec4%28emission%2C%200%2E%29%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec3%20col%3B%5Cn%22%2B%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20float%20nDotL%3B%5Cn%22%3B%0A%09%09%09%09if%20%28fixed%5Fquads%29%20%7B%0A%09%09%09%09%09result%20%3D%20result%20%2B%20%20%20%22%09%20%20vec3%20n%20%3D%20vec3%280%2E%2C%200%2E%2C%201%2E%29%3B%5Cn%22%3B%0A%09%09%09%09%7D%0A%09%09%09%09else%20%7B%0A%09%09%09%09%09result%20%3D%20result%20%2B%20%20%20%22%09%20%20vec3%20n%20%3D%20normalize%28vNormal%29%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20n%20%3D%20%2Dfaceforward%28n%2C%20n%2C%20eye%29%3B%5Cn%22%3B%0A%09%09%09%09%7D%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20nlights%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%09result%20%3D%20result%20%2B%20%22%20%20%20colDiff%20%3D%20vec4%28vCol%2Ergb%20%2A%20diffuse%22%20%2B%20i%20%2B%20%22%2C%20vCol%2Ea%29%3B%5Cn%22%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20lightdir%20%3D%20lightDir%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20if%20%28%21viewpoint%22%20%2B%20i%20%2B%22%29%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20lightdir%20%3D%20%28mvMatrix%20%2A%20vec4%28lightdir%2C%201%2E%29%29%2Exyz%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20if%20%28%21finite%22%20%2B%20i%20%2B%20%22%29%20%7B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20halfVec%20%3D%20normalize%28lightdir%20%2B%20eye%29%3B%5Cn%22%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%7D%20else%20%7B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20lightdir%20%3D%20normalize%28lightdir%20%2D%20vPosition%2Exyz%29%3B%5Cn%22%2B%0A%09%09%09%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20halfVec%20%3D%20normalize%28lightdir%20%2B%20eye%29%3B%5Cn%22%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%7D%5Cn%22%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%09%20%20col%20%3D%20ambient%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20nDotL%20%3D%20dot%28n%2C%20lightdir%29%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20col%20%3D%20col%20%2B%20max%28nDotL%2C%200%2E%29%20%2A%20colDiff%2Ergb%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20col%20%3D%20col%20%2B%20pow%28max%28dot%28halfVec%2C%20n%29%2C%200%2E%29%2C%20shininess%29%20%2A%20specular%22%20%2B%20i%20%2B%20%22%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20lighteffect%20%3D%20lighteffect%20%2B%20vec4%28col%2C%20colDiff%2Ea%29%3B%5Cn%22%3B%0A%09%09%09%09%7D%0A%0A%09%09%20%20%7D%20else%20%7B%0A%09%09%09%09result%20%3D%20result%20%2B%20%20%20%22%20%20%20vec4%20colDiff%20%3D%20vCol%3B%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%09%20%20vec4%20lighteffect%20%3D%20colDiff%3B%5Cn%22%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28%28has%5Ftexture%20%26%26%20texture%5Fformat%20%3D%3D%3D%20%22rgba%22%29%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%29%0A%09%09%09%09result%20%3D%20result%20%2B%20%20%20%22%09%20%20vec4%20textureColor%20%3D%20lighteffect%2Atexture2D%28uSampler%2C%20vTexcoord%29%3B%5Cn%22%3B%0A%0A%09%09%09if%20%28has%5Ftexture%29%20%7B%0A%09%09%09%20%20result%20%3D%20result%20%2B%20%7B%0A%09%09%09%09%09%09rgb%3A%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec4%20textureColor%20%3D%20lighteffect%2Avec4%28texture2D%28uSampler%2C%20vTexcoord%29%2Ergb%2C%201%2E%29%3B%5Cn%22%2C%0A%09%09%09%09%09%09alpha%3A%20%20%20%20%20%20%20%20%20%20%22%20%20%20vec4%20textureColor%20%3D%20texture2D%28uSampler%2C%20vTexcoord%29%3B%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20float%20luminance%20%3D%20dot%28vec3%281%2E%2C1%2E%2C1%2E%29%2C%20textureColor%2Ergb%29%2F3%2E%3B%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20textureColor%20%3D%20%20vec4%28lighteffect%2Ergb%2C%20lighteffect%2Ea%2Aluminance%29%3B%5Cn%22%2C%0A%09%09%09%09%09%09luminance%3A%20%20%20%20%20%20%22%20%20%20vec4%20textureColor%20%3D%20vec4%28lighteffect%2Ergb%2Adot%28texture2D%28uSampler%2C%20vTexcoord%29%2Ergb%2C%20vec3%281%2E%2C1%2E%2C1%2E%29%29%2F3%2E%2C%20lighteffect%2Ea%29%3B%5Cn%22%2C%0A%09%09%09%09%09%22luminance%2Ealpha%22%3A%22%09%20%20vec4%20textureColor%20%3D%20texture2D%28uSampler%2C%20vTexcoord%29%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20float%20luminance%20%3D%20dot%28vec3%281%2E%2C1%2E%2C1%2E%29%2CtextureColor%2Ergb%29%2F3%2E%3B%5Cn%22%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20textureColor%20%3D%20vec4%28lighteffect%2Ergb%2Aluminance%2C%20lighteffect%2Ea%2AtextureColor%2Ea%29%3B%5Cn%22%0A%09%09%09%20%20%20%20%7D%5Btexture%5Fformat%5D%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20gl%5FFragColor%20%3D%20textureColor%3B%5Cn%22%3B%0A%09%09%09%7D%20else%20if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%09%09%09%20%20result%20%3D%20result%20%2B%20%20%20%22%09%20%20if%20%28textureColor%2Ea%20%3C%200%2E1%29%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20discard%3B%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20else%5Cn%22%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%20%20%20%20gl%5FFragColor%20%3D%20textureColor%3B%5Cn%22%3B%0A%09%09%09%7D%20else%0A%09%09%09%20%20result%20%3D%20result%20%2B%20%20%20%22%20%20%20gl%5FFragColor%20%3D%20lighteffect%3B%5Cn%22%3B%0A%0A%09%09%09result%20%3D%20result%20%2B%20%22%09%7D%5Cn%22%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EgetShader%20%3D%20function%28shaderType%2C%20code%29%20%7B%0A%20%20%20%20%20%20%20%20var%20gl%20%3D%20this%2Egl%2C%20shader%3B%0A%20%20%20%20%20%20%20%20shader%20%3D%20gl%2EcreateShader%28shaderType%29%3B%0A%20%20%20%20%20%20%20%20gl%2EshaderSource%28shader%2C%20code%29%3B%0A%20%20%20%20%20%20%20%20gl%2EcompileShader%28shader%29%3B%0A%20%20%20%20%20%20%20%20if%20%28gl%2EgetShaderParameter%28shader%2C%20gl%2ECOMPILE%5FSTATUS%29%20%3D%3D%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20alert%28gl%2EgetShaderInfoLog%28shader%29%29%3B%0A%20%20%20%20%20%20%20%20return%20shader%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EhandleLoadedTexture%20%3D%20function%28texture%2C%20textureCanvas%29%20%7B%0A%09%20%20%20%20var%20gl%20%3D%20this%2Egl%3B%0A%09%20%20%20%20gl%2EpixelStorei%28gl%2EUNPACK%5FFLIP%5FY%5FWEBGL%2C%20true%29%3B%0A%0A%09%20%20%20%20gl%2EbindTexture%28gl%2ETEXTURE%5F2D%2C%20texture%29%3B%0A%09%20%20%20%20gl%2EtexImage2D%28gl%2ETEXTURE%5F2D%2C%200%2C%20gl%2ERGBA%2C%20gl%2ERGBA%2C%20gl%2EUNSIGNED%5FBYTE%2C%20textureCanvas%29%3B%0A%09%20%20%20%20gl%2EtexParameteri%28gl%2ETEXTURE%5F2D%2C%20gl%2ETEXTURE%5FMAG%5FFILTER%2C%20gl%2ELINEAR%29%3B%0A%09%20%20%20%20gl%2EtexParameteri%28gl%2ETEXTURE%5F2D%2C%20gl%2ETEXTURE%5FMIN%5FFILTER%2C%20gl%2ELINEAR%5FMIPMAP%5FNEAREST%29%3B%0A%09%20%20%20%20gl%2EgenerateMipmap%28gl%2ETEXTURE%5F2D%29%3B%0A%0A%09%20%20%20%20gl%2EbindTexture%28gl%2ETEXTURE%5F2D%2C%20null%29%3B%0A%09%20%20%7D%3B%0A%0A%09%20%20this%2EloadImageToTexture%20%3D%20function%28uri%2C%20texture%29%20%7B%0A%09%20%20%20%20var%20canvas%20%3D%20this%2EtextureCanvas%2C%0A%09%20%20%20%20%20%20%20%20ctx%20%3D%20canvas%2EgetContext%28%222d%22%29%2C%0A%09%20%20%20%20%20%20%20%20image%20%3D%20new%20Image%28%29%2C%0A%09%20%20%20%20%20%20%20%20self%20%3D%20this%3B%0A%0A%09%20%20%20%20%20image%2Eonload%20%3D%20function%28%29%20%7B%0A%09%20%20%20%20%20%20%20var%20w%20%3D%20image%2Ewidth%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20h%20%3D%20image%2Eheight%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20canvasX%20%3D%20self%2EgetPowerOfTwo%28w%29%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20canvasY%20%3D%20self%2EgetPowerOfTwo%28h%29%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20gl%20%3D%20self%2Egl%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20maxTexSize%20%3D%20gl%2EgetParameter%28gl%2EMAX%5FTEXTURE%5FSIZE%29%3B%0A%09%20%20%20%20%20%20%20if%20%28maxTexSize%20%3E%204096%29%20maxTexSize%20%3D%204096%3B%0A%09%20%20%20%20%20%20%20while%20%28canvasX%20%3E%201%20%26%26%20canvasY%20%3E%201%20%26%26%20%28canvasX%20%3E%20maxTexSize%20%7C%7C%20canvasY%20%3E%20maxTexSize%29%29%20%7B%0A%09%20%20%20%20%20%20%20%20%20canvasX%20%2F%3D%202%3B%0A%09%20%20%20%20%20%20%20%20%20canvasY%20%2F%3D%202%3B%0A%09%20%20%20%20%20%20%20%7D%0A%09%20%20%20%20%20%20%20canvas%2Ewidth%20%3D%20canvasX%3B%0A%09%20%20%20%20%20%20%20canvas%2Eheight%20%3D%20canvasY%3B%0A%09%20%20%20%20%20%20%20ctx%2EimageSmoothingEnabled%20%3D%20true%3B%0A%09%20%20%20%20%20%20%20ctx%2EdrawImage%28image%2C%200%2C%200%2C%20canvasX%2C%20canvasY%29%3B%0A%09%20%20%20%20%20%20%20self%2EhandleLoadedTexture%28texture%2C%20canvas%29%3B%0A%09%20%20%20%20%20%20%20self%2EdrawScene%28%29%3B%0A%09%20%20%20%20%20%7D%3B%0A%09%20%20%20%20%20image%2Esrc%20%3D%20uri%3B%0A%09%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EdrawTextToCanvas%20%3D%20function%28text%2C%20cex%2C%20family%2C%20font%29%20%7B%0A%09%20%20%20%20%20var%20canvasX%2C%20canvasY%2C%0A%09%20%20%20%20%20%20%20%20%20textY%2C%0A%20%20%20%20%20%20%20%20%20%20%20scaling%20%3D%2020%2C%0A%09%20%20%20%20%20%20%20%20%20textColour%20%3D%20%22white%22%2C%0A%0A%09%20%20%20%20%20%20%20%20%20backgroundColour%20%3D%20%22rgba%280%2C0%2C0%2C0%29%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20canvas%20%3D%20this%2EtextureCanvas%2C%0A%09%20%20%20%20%20%20%20%20%20ctx%20%3D%20canvas%2EgetContext%28%222d%22%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20i%2C%20textHeights%20%3D%20%5B%5D%2C%20widths%20%3D%20%5B%5D%2C%20offset%20%3D%200%2C%20offsets%20%3D%20%5B%5D%2C%0A%09%20%20%20%20%20%20%20%20%20fontStrings%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20getFontString%20%3D%20function%28i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20textHeights%5Bi%5D%20%3D%20scaling%2Acex%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20var%20fontString%20%3D%20textHeights%5Bi%5D%20%2B%20%22px%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20family0%20%3D%20family%5Bi%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font0%20%3D%20font%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28family0%20%3D%3D%3D%20%22sans%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20family0%20%3D%20%22sans%2Dserif%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28family0%20%3D%3D%3D%20%22mono%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20family0%20%3D%20%22monospace%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20fontString%20%3D%20fontString%20%2B%20%22%20%22%20%2B%20family0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28font0%20%3D%3D%3D%202%20%7C%7C%20font0%20%3D%3D%3D%204%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontString%20%3D%20%22bold%20%22%20%2B%20fontString%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28font0%20%3D%3D%3D%203%20%7C%7C%20font0%20%3D%3D%3D%204%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fontString%20%3D%20%22italic%20%22%20%2B%20fontString%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20return%20fontString%3B%0A%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20cex%20%3D%20this%2ErepeatToLen%28cex%2C%20text%2Elength%29%3B%0A%20%20%20%20%20%20%20family%20%3D%20this%2ErepeatToLen%28family%2C%20text%2Elength%29%3B%0A%20%20%20%20%20%20%20font%20%3D%20this%2ErepeatToLen%28font%2C%20text%2Elength%29%3B%0A%0A%09%20%20%20%20%20canvasX%20%3D%201%3B%0A%09%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20text%2Elength%3B%20i%2B%2B%29%20%20%7B%0A%09%20%20%20%20%20%20%20ctx%2Efont%20%3D%20fontStrings%5Bi%5D%20%3D%20getFontString%28i%29%3B%0A%09%20%20%20%20%20%20%20widths%5Bi%5D%20%3D%20ctx%2EmeasureText%28text%5Bi%5D%29%2Ewidth%3B%0A%09%20%20%20%20%20%20%20offset%20%3D%20offsets%5Bi%5D%20%3D%20offset%20%2B%202%2AtextHeights%5Bi%5D%3B%0A%09%20%20%20%20%20%20%20canvasX%20%3D%20%28widths%5Bi%5D%20%3E%20canvasX%29%20%3F%20widths%5Bi%5D%20%3A%20canvasX%3B%0A%09%20%20%20%20%20%7D%0A%09%20%20%20%20%20canvasX%20%3D%20this%2EgetPowerOfTwo%28canvasX%29%3B%0A%09%20%20%20%20%20canvasY%20%3D%20this%2EgetPowerOfTwo%28offset%29%3B%0A%0A%09%20%20%20%20%20canvas%2Ewidth%20%3D%20canvasX%3B%0A%09%20%20%20%20%20canvas%2Eheight%20%3D%20canvasY%3B%0A%0A%09%20%20%20%20%20ctx%2EfillStyle%20%3D%20backgroundColour%3B%0A%09%20%20%20%20%20ctx%2EfillRect%280%2C%200%2C%20ctx%2Ecanvas%2Ewidth%2C%20ctx%2Ecanvas%2Eheight%29%3B%0A%0A%09%20%20%20%20%20ctx%2EtextBaseline%20%3D%20%22alphabetic%22%3B%0A%09%20%20%20%20%20for%28i%20%3D%200%3B%20i%20%3C%20text%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%20%20%20%20%20%20%20textY%20%3D%20offsets%5Bi%5D%3B%0A%09%20%20%20%20%20%20%20ctx%2Efont%20%3D%20fontStrings%5Bi%5D%3B%0A%09%20%20%20%20%20%20%20ctx%2EfillStyle%20%3D%20textColour%3B%0A%09%20%20%20%20%20%20%20ctx%2EtextAlign%20%3D%20%22left%22%3B%0A%09%20%20%20%20%20%20%20ctx%2EfillText%28text%5Bi%5D%2C%200%2C%20%20textY%29%3B%0A%09%20%20%20%20%20%7D%0A%09%20%20%20%20%20return%20%7BcanvasX%3AcanvasX%2C%20canvasY%3AcanvasY%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20widths%3Awidths%2C%20textHeights%3AtextHeights%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20offsets%3Aoffsets%7D%3B%0A%09%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EsetViewport%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20%20var%20gl%20%3D%20this%2Egl%2C%0A%09%20%20%20%20%20%20%20vp%20%3D%20this%2EgetObj%28id%29%2Epar3d%2Eviewport%2C%0A%09%20%20%20%20%20%20%20x%20%3D%20vp%2Ex%2Athis%2Ecanvas%2Ewidth%2C%0A%09%20%20%20%20%20%20%20y%20%3D%20vp%2Ey%2Athis%2Ecanvas%2Eheight%2C%0A%09%20%20%20%20%20%20%20width%20%3D%20vp%2Ewidth%2Athis%2Ecanvas%2Ewidth%2C%0A%09%20%20%20%20%20%20%20height%20%3D%20vp%2Eheight%2Athis%2Ecanvas%2Eheight%3B%0A%09%20%20%20%20%20this%2Evp%20%3D%20%7Bx%3Ax%2C%20y%3Ay%2C%20width%3Awidth%2C%20height%3Aheight%7D%3B%0A%09%20%20%20%20%20gl%2Eviewport%28x%2C%20y%2C%20width%2C%20height%29%3B%0A%09%20%20%20%20%20gl%2Escissor%28x%2C%20y%2C%20width%2C%20height%29%3B%0A%09%20%20%20%7D%3B%0A%0A%09%20%20this%2EsetprMatrix%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20%20var%20subscene%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20embedding%20%3D%20subscene%2Eembeddings%2Eprojection%3B%0A%20%20%20%20%20%20%20if%20%28embedding%20%3D%3D%3D%20%22replace%22%29%0A%20%20%20%20%20%20%20%20%20this%2EprMatrix%2EmakeIdentity%28%29%3B%0A%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20this%2EsetprMatrix%28subscene%2Eparent%29%3B%0A%20%20%20%20%20%20%20if%20%28embedding%20%3D%3D%3D%20%22inherit%22%29%0A%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%2F%2F%20This%20is%20based%20on%20the%20Frustum%3A%3Aenclose%20code%20from%20geom%2Ecpp%0A%20%20%20%20%20%20%20var%20bbox%20%3D%20subscene%2Epar3d%2Ebbox%2C%0A%20%20%20%20%20%20%20%20%20%20%20scale%20%3D%20subscene%2Epar3d%2Escale%2C%0A%20%20%20%20%20%20%20%20%20%20%20ranges%20%3D%20%5B%28bbox%5B1%5D%2Dbbox%5B0%5D%29%2Ascale%5B0%5D%2F2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28bbox%5B3%5D%2Dbbox%5B2%5D%29%2Ascale%5B1%5D%2F2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28bbox%5B5%5D%2Dbbox%5B4%5D%29%2Ascale%5B2%5D%2F2%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20radius%20%3D%20Math%2Esqrt%28this%2Esumsq%28ranges%29%29%2A1%2E1%3B%20%2F%2F%20A%20bit%20bigger%20to%20handle%20labels%0A%20%20%20%20%20%20%20if%20%28radius%20%3C%3D%200%29%20radius%20%3D%201%3B%0A%20%20%20%20%20%20%20var%20observer%20%3D%20subscene%2Epar3d%2Eobserver%2C%0A%20%20%20%20%20%20%20%20%20%20%20distance%20%3D%20observer%5B2%5D%2C%0A%09%20%20%20%20%20%20%20%20%20t%20%3D%20Math%2Etan%28subscene%2Epar3d%2EFOV%2AMath%2EPI%2F360%29%2C%0A%09%20%20%20%20%20%20%20%20%20near%20%3D%20distance%20%2D%20radius%2C%0A%09%20%20%20%20%20%20%20%20%20far%20%3D%20distance%20%2B%20radius%2C%0A%09%20%20%20%20%20%20%20%20%20hlen%20%3D%20t%2Anear%2C%0A%09%20%20%20%20%20%20%20%20%20aspect%20%3D%20this%2Evp%2Ewidth%2Fthis%2Evp%2Eheight%2C%0A%09%20%20%20%20%20%20%20%20%20z%20%3D%20subscene%2Epar3d%2Ezoom%3B%0A%09%20%20%20%20%20if%20%28aspect%20%3E%201%29%0A%09%20%20%20%20%20%20%20this%2EprMatrix%2Efrustum%28%2Dhlen%2Aaspect%2Az%2C%20hlen%2Aaspect%2Az%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Dhlen%2Az%2C%20hlen%2Az%2C%20near%2C%20far%29%3B%0A%09%20%20%20%20%20else%0A%09%20%20%20%20%20%20%20this%2EprMatrix%2Efrustum%28%2Dhlen%2Az%2C%20hlen%2Az%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Dhlen%2Az%2Faspect%2C%20hlen%2Az%2Faspect%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20near%2C%20far%29%3B%0A%09%20%20%20%7D%3B%0A%0A%09%20%20this%2EsetmvMatrix%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20%20var%20observer%20%3D%20this%2EgetObj%28id%29%2Epar3d%2Eobserver%3B%0A%09%20%20%20%20%20this%2EmvMatrix%2EmakeIdentity%28%29%3B%0A%09%20%20%20%20%20this%2EsetmodelMatrix%28id%29%3B%0A%09%20%20%20%20%20this%2EmvMatrix%2Etranslate%28%2Dobserver%5B0%5D%2C%20%2Dobserver%5B1%5D%2C%20%2Dobserver%5B2%5D%29%3B%0A%0A%09%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EsetmodelMatrix%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20var%20subscene%20%3D%20this%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20embedding%20%3D%20subscene%2Eembeddings%2Emodel%3B%0A%09%20%20%20%20if%20%28embedding%20%21%3D%3D%20%22inherit%22%29%20%7B%0A%09%20%20%20%20%20%20var%20scale%20%3D%20subscene%2Epar3d%2Escale%2C%0A%09%20%20%20%20%20%20%20%20%20%20bbox%20%3D%20subscene%2Epar3d%2Ebbox%2C%0A%09%20%20%20%20%20%20%20%20%20%20center%20%3D%20%5B%28bbox%5B0%5D%2Bbbox%5B1%5D%29%2F2%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28bbox%5B2%5D%2Bbbox%5B3%5D%29%2F2%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28bbox%5B4%5D%2Bbbox%5B5%5D%29%2F2%5D%3B%0A%09%20%20%20%20%20%20%20this%2EmvMatrix%2Etranslate%28%2Dcenter%5B0%5D%2C%20%2Dcenter%5B1%5D%2C%20%2Dcenter%5B2%5D%29%3B%0A%09%20%20%20%20%20%20%20this%2EmvMatrix%2Escale%28scale%5B0%5D%2C%20scale%5B1%5D%2C%20scale%5B2%5D%29%3B%0A%09%20%20%20%20%20%20%20this%2EmvMatrix%2EmultRight%28%20subscene%2Epar3d%2EuserMatrix%20%29%3B%0A%09%20%20%20%20%20%7D%0A%09%20%20%20%20%20if%20%28embedding%20%21%3D%3D%20%22replace%22%29%0A%09%20%20%20%20%20%20%20this%2EsetmodelMatrix%28subscene%2Eparent%29%3B%0A%09%20%20%20%7D%3B%0A%0A%09%20%20this%2EsetnormMatrix%20%3D%20function%28subsceneid%29%20%7B%0A%09%20%20%20%20%20var%20self%20%3D%20this%2C%0A%09%20%20%20%20%20recurse%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20%20%20%20var%20sub%20%3D%20self%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20embedding%20%3D%20sub%2Eembeddings%2Emodel%3B%0A%20%20%20%20%20%20%20%20%20if%20%28embedding%20%21%3D%3D%20%22inherit%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20var%20scale%20%3D%20sub%2Epar3d%2Escale%3B%0A%20%20%20%20%20%20%20%20%20%20%20self%2EnormMatrix%2Escale%281%2Fscale%5B0%5D%2C%201%2Fscale%5B1%5D%2C%201%2Fscale%5B2%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20self%2EnormMatrix%2EmultRight%28sub%2Epar3d%2EuserMatrix%29%3B%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20if%20%28embedding%20%21%3D%3D%20%22replace%22%29%0A%20%20%20%20%20%20%20%20%20%20%20recurse%28sub%2Eparent%29%3B%0A%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20self%2EnormMatrix%2EmakeIdentity%28%29%3B%0A%20%20%20%20%20%20%20recurse%28subsceneid%29%3B%0A%09%20%20%20%7D%3B%0A%0A%09%20%20this%2EsetprmvMatrix%20%3D%20function%28%29%20%7B%0A%09%20%20%20%20%20this%2EprmvMatrix%20%3D%20new%20CanvasMatrix4%28%20this%2EmvMatrix%20%29%3B%0A%09%20%20%20%20%20this%2EprmvMatrix%2EmultRight%28%20this%2EprMatrix%20%29%3B%0A%09%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcountClipplanes%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20this%2EcountObjs%28%22clipplanes%22%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcountLights%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20this%2EcountObjs%28%22light%22%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcountObjs%20%3D%20function%28type%29%20%7B%0A%20%20%20%20%20%20var%20self%20%3D%20this%2C%0A%20%20%20%20%20%20%20%20%20%20bound%20%3D%200%3B%0A%0A%20%20%20%20%20%20Object%2Ekeys%28this%2Escene%2Eobjects%29%2EforEach%28%0A%20%20%20%20%20%20%20%20function%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28self%2EgetObj%28parseInt%28key%2C%2010%29%29%2Etype%20%3D%3D%3D%20type%29%0A%20%20%20%20%20%20%20%20%20%20%20%20bound%20%3D%20bound%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20return%20bound%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinitSubscene%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20var%20sub%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20i%2C%20obj%3B%0A%0A%20%20%20%20%20%20if%20%28sub%2Etype%20%21%3D%3D%20%22subscene%22%29%0A%20%20%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20%20%20sub%2Epar3d%2EuserMatrix%20%3D%20this%2EtoCanvasMatrix4%28sub%2Epar3d%2EuserMatrix%29%3B%0A%20%20%20%20%20%20sub%2Epar3d%2Elisteners%20%3D%20%5B%5D%2Econcat%28sub%2Epar3d%2Elisteners%29%3B%0A%20%20%20%20%20%20sub%2EbackgroundId%20%3D%20undefined%3B%0A%20%20%20%20%20%20sub%2Esubscenes%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20sub%2Eclipplanes%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20sub%2Etransparent%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20sub%2Eopaque%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20sub%2Elights%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20sub%2Eobjects%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28sub%2Eobjects%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20obj%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20sub%2Eobjects%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20i%2D%2D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28obj%2Etype%20%3D%3D%3D%20%22background%22%29%0A%20%20%20%20%20%20%20%20%20%20sub%2EbackgroundId%20%3D%20obj%2Eid%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20sub%5Bthis%2EwhichList%28obj%2Eid%29%5D%2Epush%28obj%2Eid%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcopyObj%20%3D%20function%28id%2C%20reuse%29%20%7B%0A%20%20%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%09%20%20prev%20%3D%20document%2EgetElementById%28reuse%29%2Erglinstance%2C%0A%20%20%20%20%20%20%09%20%20prevobj%20%3D%20prev%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20fields%20%3D%20%5B%22flags%22%2C%20%22type%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22colors%22%2C%20%22vertices%22%2C%20%22centers%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22normals%22%2C%20%22offsets%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22texts%22%2C%20%22cex%22%2C%20%22family%22%2C%20%22font%22%2C%20%22adj%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22material%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22radii%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22texcoords%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22userMatrix%22%2C%20%22ids%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dim%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22par3d%22%2C%20%22userMatrix%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22viewpoint%22%2C%20%22finite%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20i%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20fields%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20prevobj%5Bfields%5Bi%5D%5D%20%21%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20%20%20obj%5Bfields%5Bi%5D%5D%20%3D%20prevobj%5Bfields%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EplaneUpdateTriangles%20%3D%20function%28id%2C%20bbox%29%20%7B%0A%20%20%20%20%20%20var%20perms%20%3D%20%5B%5B0%2C0%2C1%5D%2C%20%5B1%2C2%2C2%5D%2C%20%5B2%2C1%2C0%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20x%2C%20xrow%2C%20elem%2C%20A%2C%20d%2C%20nhits%2C%20i%2C%20j%2C%20k%2C%20u%2C%20v%2C%20w%2C%20intersect%2C%20which%2C%20v0%2C%20v2%2C%20vx%2C%20reverse%2C%0A%20%20%20%20%20%20%20%20%20%20face1%20%3D%20%5B%5D%2C%20face2%20%3D%20%5B%5D%2C%20normals%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%20%20%20%20%20%20%20%20%20%20nPlanes%20%3D%20obj%2Enormals%2Elength%3B%0A%20%20%20%20%20%20obj%2Ebbox%20%3D%20bbox%3B%0A%20%20%20%20%20%20obj%2Evertices%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20obj%2Einitialized%20%3D%20false%3B%0A%20%20%20%20%20%20for%20%28elem%20%3D%200%3B%20elem%20%3C%20nPlanes%3B%20elem%2B%2B%29%20%7B%0A%2F%2F%20%20%20%20Vertex%20Av%20%3D%20normal%2EgetRecycled%28elem%29%3B%0A%20%20%20%20%20%20%20%20x%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20A%20%3D%20obj%2Enormals%5Belem%5D%3B%0A%20%20%20%20%20%20%20%20d%20%3D%20obj%2Eoffsets%5Belem%5D%5B0%5D%3B%0A%20%20%20%20%20%20%20%20nhits%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%3C3%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%20%20for%20%28j%3D0%3B%20j%3C2%3B%20j%2B%2B%29%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28k%3D0%3B%20k%3C2%3B%20k%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20u%20%3D%20perms%5B0%5D%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20v%20%3D%20perms%5B1%5D%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20perms%5B2%5D%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28A%5Bw%5D%20%21%3D%200%2E0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20intersect%20%3D%20%2D%28d%20%2B%20A%5Bu%5D%2Abbox%5Bj%2B2%2Au%5D%20%2B%20A%5Bv%5D%2Abbox%5Bk%2B2%2Av%5D%29%2FA%5Bw%5D%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bbox%5B2%2Aw%5D%20%3C%20intersect%20%26%26%20intersect%20%3C%20bbox%5B1%2B2%2Aw%5D%29%20%7B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20xrow%20%3D%20%5B%5D%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20xrow%5Bu%5D%20%3D%20bbox%5Bj%2B2%2Au%5D%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20xrow%5Bv%5D%20%3D%20bbox%5Bk%2B2%2Av%5D%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20xrow%5Bw%5D%20%3D%20intersect%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%2Epush%28xrow%29%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20face1%5Bnhits%5D%20%3D%20j%20%2B%202%2Au%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20face2%5Bnhits%5D%20%3D%20k%20%2B%202%2Av%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20nhits%2B%2B%3B%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%09%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nhits%20%3E%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20Re%2Dorder%20the%20intersections%20so%20the%20triangles%20work%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%3Cnhits%2D2%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20which%20%3D%200%3B%20%2F%2A%20initialize%20to%20suppress%20warning%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28j%3Di%2B1%3B%20j%3Cnhits%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28face1%5Bi%5D%20%3D%3D%20face1%5Bj%5D%20%7C%7C%20face1%5Bi%5D%20%3D%3D%20face2%5Bj%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20face2%5Bi%5D%20%3D%3D%20face1%5Bj%5D%20%7C%7C%20face2%5Bi%5D%20%3D%3D%20face2%5Bj%5D%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20which%20%3D%20j%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28which%20%3E%20i%2B1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eswap%28x%2C%20i%2B1%2C%20which%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eswap%28face1%2C%20i%2B1%2C%20which%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eswap%28face2%2C%20i%2B1%2C%20which%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nhits%20%3E%3D%203%29%20%7B%0A%20%20%20%20%20%20%2F%2A%20Put%20in%20order%20so%20that%20the%20normal%20points%20out%20the%20FRONT%20of%20the%20faces%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20v0%20%3D%20%5Bx%5B0%5D%5B0%5D%20%2D%20x%5B1%5D%5B0%5D%20%2C%20x%5B0%5D%5B1%5D%20%2D%20x%5B1%5D%5B1%5D%2C%20x%5B0%5D%5B2%5D%20%2D%20x%5B1%5D%5B2%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20v2%20%3D%20%5Bx%5B2%5D%5B0%5D%20%2D%20x%5B1%5D%5B0%5D%20%2C%20x%5B2%5D%5B1%5D%20%2D%20x%5B1%5D%5B1%5D%2C%20x%5B2%5D%5B2%5D%20%2D%20x%5B1%5D%5B2%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20cross%2Dproduct%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20vx%20%3D%20this%2Exprod%28v0%2C%20v2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20reverse%20%3D%20this%2Edotprod%28vx%2C%20A%29%20%3E%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%3Cnhits%2D2%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evertices%2Epush%28x%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normals%2Epush%28A%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28j%3D1%3B%20j%3C3%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evertices%2Epush%28x%5Bi%20%2B%20%28reverse%20%3F%203%2Dj%20%3A%20j%29%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normals%2Epush%28A%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20obj%2Epnormals%20%3D%20normals%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinitObj%20%3D%20function%28id%29%20%7B%0A%09%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20flags%20%3D%20obj%2Eflags%2C%0A%09%20%20%20%20%20%20%20%20type%20%3D%20obj%2Etype%2C%0A%09%20%20%20%20%20%20%20%20is%5Findexed%20%3D%20flags%20%26%20this%2Ef%5Fis%5Findexed%2C%0A%20%20%20%20%20%20%20%20%20%20is%5Flit%20%3D%20flags%20%26%20this%2Ef%5Fis%5Flit%2C%0A%09%09%20%20%20%20%20%20has%5Ftexture%20%3D%20flags%20%26%20this%2Ef%5Fhas%5Ftexture%2C%0A%09%09%20%20%20%20%20%20fixed%5Fquads%20%3D%20flags%20%26%20this%2Ef%5Ffixed%5Fquads%2C%0A%09%09%20%20%20%20%20%20depth%5Fsort%20%3D%20flags%20%26%20this%2Ef%5Fdepth%5Fsort%2C%0A%09%09%20%20%20%20%20%20sprites%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprites%5F3d%2C%0A%09%09%20%20%20%20%20%20sprite%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprite%5F3d%2C%0A%09%09%20%20%20%20%20%20gl%20%3D%20this%2Egl%2C%0A%20%20%20%20%20%20%20%20%20%20texinfo%2C%20drawtype%2C%20nclipplanes%2C%20f%2C%20frowsize%2C%20nrows%2C%0A%20%20%20%20%20%20%20%20%20%20i%2Cj%2Cv%2C%20mat%2C%20uri%2C%20matobj%3B%0A%0A%20%20%20%20if%20%28typeof%20id%20%21%3D%3D%20%22number%22%29%20%7B%0A%20%20%20%20%20%20this%2EalertOnce%28%22initObj%20id%20is%20%22%2Btypeof%20id%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20obj%2Einitialized%20%3D%20true%3B%0A%0A%20%20%20%20if%20%28type%20%3D%3D%3D%20%22background%22%20%7C%7C%20type%20%3D%3D%3D%20%22bboxdeco%22%20%7C%7C%20type%20%3D%3D%3D%20%22subscene%22%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20if%20%28type%20%3D%3D%3D%20%22light%22%29%20%7B%0A%20%20%20%20%20%20obj%2Eambient%20%3D%20new%20Float32Array%28obj%2Ecolors%5B0%5D%2Eslice%280%2C3%29%29%3B%0A%20%20%20%20%20%20obj%2Ediffuse%20%3D%20new%20Float32Array%28obj%2Ecolors%5B1%5D%2Eslice%280%2C3%29%29%3B%0A%20%20%20%20%20%20obj%2Especular%20%3D%20new%20Float32Array%28obj%2Ecolors%5B2%5D%2Eslice%280%2C3%29%29%3B%0A%20%20%20%20%20%20obj%2ElightDir%20%3D%20new%20Float32Array%28obj%2Evertices%5B0%5D%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28type%20%3D%3D%3D%20%22clipplanes%22%29%20%7B%0A%20%20%20%20%20%20obj%2EvClipplane%20%3D%20this%2Eflatten%28this%2Ecbind%28obj%2Enormals%2C%20obj%2Eoffsets%29%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%09%09if%20%28%21sprites%5F3d%29%20%7B%0A%09%09%09obj%2Eprog%20%3D%20gl%2EcreateProgram%28%29%3B%0A%09%09%09gl%2EattachShader%28obj%2Eprog%2C%20this%2EgetShader%28%20gl%2EVERTEX%5FSHADER%2C%0A%09%09%09%20%20this%2EgetVertexShader%28id%29%20%29%29%3B%0A%09%09%09gl%2EattachShader%28obj%2Eprog%2C%20this%2EgetShader%28%20gl%2EFRAGMENT%5FSHADER%2C%0A%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EgetFragmentShader%28id%29%20%29%29%3B%0A%09%09%09%2F%2F%20%20Force%20aPos%20to%20location%200%2C%20aCol%20to%20location%201%0A%09%09%09gl%2EbindAttribLocation%28obj%2Eprog%2C%200%2C%20%22aPos%22%29%3B%0A%09%09%09gl%2EbindAttribLocation%28obj%2Eprog%2C%201%2C%20%22aCol%22%29%3B%0A%09%09%09gl%2ElinkProgram%28obj%2Eprog%29%3B%0A%20%20%20%20%20%20var%20linked%20%3D%20gl%2EgetProgramParameter%28obj%2Eprog%2C%20gl%2ELINK%5FSTATUS%29%3B%0A%20%20%20%20%20%20if%20%28%21linked%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20An%20error%20occurred%20while%20linking%0A%20%20%20%20%20%20%20%20var%20lastError%20%3D%20gl%2EgetProgramInfoLog%28program%29%3B%0A%20%20%20%20%20%20%20%20console%2Ewarn%28%22Error%20in%20program%20linking%3A%22%20%2B%20lastError%29%3B%0A%0A%20%20%20%20%20%20%20%20gl%2EdeleteProgram%28program%29%3B%0A%20%20%20%20%20%20%7D%0A%09%09%7D%0A%0A%09%09if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%20%20%20%20%20%20texinfo%20%3D%20this%2EdrawTextToCanvas%28obj%2Etexts%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eflatten%28obj%2Ecex%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eflatten%28obj%2Efamily%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eflatten%28obj%2Efamily%29%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28fixed%5Fquads%20%26%26%20%21sprites%5F3d%29%20%7B%0A%09%09%20%20obj%2EofsLoc%20%3D%20gl%2EgetAttribLocation%28obj%2Eprog%2C%20%22aOfs%22%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28sprite%5F3d%29%20%7B%0A%09%09%09obj%2EorigLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22uOrig%22%29%3B%0A%09%09%09obj%2EsizeLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22uSize%22%29%3B%0A%09%09%09obj%2EusermatLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22usermat%22%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28has%5Ftexture%20%7C%7C%20type%20%3D%3D%20%22text%22%29%20%7B%0A%09%09%20%20obj%2Etexture%20%3D%20gl%2EcreateTexture%28%29%3B%0A%09%09%09obj%2EtexLoc%20%3D%20gl%2EgetAttribLocation%28obj%2Eprog%2C%20%22aTexcoord%22%29%3B%0A%09%09%09obj%2Esampler%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22uSampler%22%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28has%5Ftexture%29%20%7B%0A%09%09%20%20mat%20%3D%20obj%2Ematerial%3B%0A%09%09%20%20if%20%28typeof%20mat%2Euri%20%21%3D%3D%20%22undefined%22%29%0A%09%09%20%20%20%20uri%20%3D%20mat%2Euri%3B%0A%09%09%20%20else%20if%20%28typeof%20mat%2EuriElementId%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20matobj%20%3D%20this%2EgetObj%28mat%2EuriId%29%3B%0A%09%09%20%20%20%20if%20%28typeof%20matobj%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20%20%20uri%20%3D%20matobj%2Ematerial%2Euri%3B%0A%09%09%20%20%20%20%7D%20else%20%7B%0A%09%09%20%20%20%20%20%20uri%20%3D%20%22%22%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%20else%0A%09%09%20%20%20%20uri%20%3D%20document%2EgetElementById%28mat%2EuriElementId%29%2Erglinstance%2EgetObj%28mat%2EuriId%29%2Ematerial%2Euri%3B%0A%0A%09%09%09this%2EloadImageToTexture%28uri%2C%20obj%2Etexture%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%09%09%20%20this%2EhandleLoadedTexture%28obj%2Etexture%2C%20this%2EtextureCanvas%29%3B%0A%09%09%7D%0A%0A%20%20%20%20v%20%3D%20obj%2Evertices%3B%0A%20%20%20%20obj%2EvertexCount%20%3D%20v%2Elength%3B%0A%20%20%20%20if%20%28%21obj%2EvertexCount%29%20return%3B%0A%0A%20%20%20%20var%20stride%20%3D%203%2C%20nc%2C%20cofs%2C%20nofs%2C%20radofs%2C%20oofs%2C%20tofs%2C%20vnew%2C%20v1%3B%0A%0A%20%20%20%20nc%20%3D%20obj%2EcolorCount%20%3D%20obj%2Ecolors%2Elength%3B%0A%20%20%20%20if%20%28nc%20%3E%201%29%20%7B%0A%20%20%20%20%09cofs%20%3D%20stride%3B%0A%20%20%20%20%09stride%20%3D%20stride%20%2B%204%3B%0A%20%20%20%20%09v%20%3D%20this%2Ecbind%28v%2C%20obj%2Ecolors%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%09cofs%20%3D%20%2D1%3B%0A%20%20%20%20%09obj%2Eonecolor%20%3D%20this%2Eflatten%28obj%2Ecolors%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20obj%2Enormals%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%09nofs%20%3D%20stride%3B%0A%20%20%20%20%09stride%20%3D%20stride%20%2B%203%3B%0A%20%20%20%20%09v%20%3D%20this%2Ecbind%28v%2C%20typeof%20obj%2Epnormals%20%21%3D%3D%20%22undefined%22%20%3F%20obj%2Epnormals%20%3A%20obj%2Enormals%29%3B%0A%20%20%20%20%7D%20else%0A%20%20%20%20%09nofs%20%3D%20%2D1%3B%0A%0A%20%20%20%20if%20%28typeof%20obj%2Eradii%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%09radofs%20%3D%20stride%3B%0A%20%20%20%20%09stride%20%3D%20stride%20%2B%201%3B%0A%20%20%20%20%09if%20%28obj%2Eradii%2Elength%20%3D%3D%3D%20v%2Elength%29%20%7B%0A%20%20%20%20%09%20%20v%20%3D%20this%2Ecbind%28v%2C%20obj%2Eradii%29%3B%0A%20%20%20%20%09%7D%20else%20if%20%28obj%2Eradii%2Elength%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%09%20%20v%20%3D%20v%2Emap%28function%28row%2C%20i%2C%20arr%29%20%7B%20return%20row%2Econcat%28obj%2Eradii%5B0%5D%29%3B%7D%29%3B%0A%20%20%20%20%09%7D%0A%20%20%20%20%7D%20else%0A%20%20%20%20%09radofs%20%3D%20%2D1%3B%0A%0A%20%20%20%20if%20%28type%20%3D%3D%20%22sprites%22%20%26%26%20%21sprites%5F3d%29%20%7B%0A%20%20%20%20%20%20tofs%20%3D%20stride%3B%0A%20%20%20%20%20%20stride%20%2B%3D%202%3B%0A%20%20%20%20%09oofs%20%3D%20stride%3B%0A%20%20%20%20%09stride%20%2B%3D%202%3B%0A%20%20%20%20%20%20vnew%20%3D%20new%20Array%284%2Av%2Elength%29%3B%0A%20%20%20%20%20%20var%20size%20%3D%20obj%2Eradii%2C%20s%20%3D%20size%5B0%5D%2F2%3B%0A%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20v%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28size%2Elength%20%3E%201%29%0A%20%20%20%20%20%20%20%20%20%20s%20%3D%20size%5Bi%5D%2F2%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%5D%20%20%3D%20v%5Bi%5D%2Econcat%28%5B0%2C0%2C%2Ds%2C%2Ds%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B1%5D%3D%20v%5Bi%5D%2Econcat%28%5B1%2C0%2C%20s%2C%2Ds%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B2%5D%3D%20v%5Bi%5D%2Econcat%28%5B1%2C1%2C%20s%2C%20s%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B3%5D%3D%20v%5Bi%5D%2Econcat%28%5B0%2C1%2C%2Ds%2C%20s%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20v%20%3D%20vnew%3B%0A%20%20%20%20%20%20obj%2EvertexCount%20%3D%20v%2Elength%3B%0A%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%20%20%20%20%20%20tofs%20%3D%20stride%3B%0A%20%20%20%20%20%20stride%20%2B%3D%202%3B%0A%20%20%20%20%20%20oofs%20%3D%20stride%3B%0A%20%20%20%20%20%20stride%20%2B%3D%202%3B%0A%20%20%20%20%20%20vnew%20%3D%20new%20Array%284%2Av%2Elength%29%3B%0A%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20v%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%5D%20%20%3D%20v%5Bi%5D%2Econcat%28%5B0%2C%2D0%2E5%5D%29%2Econcat%28obj%2Eadj%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B1%5D%3D%20v%5Bi%5D%2Econcat%28%5B1%2C%2D0%2E5%5D%29%2Econcat%28obj%2Eadj%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B2%5D%3D%20v%5Bi%5D%2Econcat%28%5B1%2C%201%2E5%5D%29%2Econcat%28obj%2Eadj%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2B3%5D%3D%20v%5Bi%5D%2Econcat%28%5B0%2C%201%2E5%5D%29%2Econcat%28obj%2Eadj%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20for%20%28j%3D0%3B%20j%20%3C%204%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20v1%20%3D%20vnew%5B4%2Ai%2Bj%5D%3B%0A%20%20%20%20%20%20%20%20%20%20v1%5Btofs%2B2%5D%20%3D%202%2A%28v1%5Btofs%5D%2Dv1%5Btofs%2B2%5D%29%2Atexinfo%2Ewidths%5Bi%5D%3B%0A%09%20%20%20%20%20%20%20%20v1%5Btofs%2B3%5D%20%3D%202%2A%28v1%5Btofs%2B1%5D%2Dv1%5Btofs%2B3%5D%29%2Atexinfo%2EtextHeights%5Bi%5D%3B%0A%09%20%20%20%20%20%20%20%20v1%5Btofs%5D%20%2A%3D%20texinfo%2Ewidths%5Bi%5D%2Ftexinfo%2EcanvasX%3B%0A%09%20%20%20%20%20%20%20%20v1%5Btofs%2B1%5D%20%3D%201%2E0%2D%28texinfo%2Eoffsets%5Bi%5D%20%2D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20v1%5Btofs%2B1%5D%2Atexinfo%2EtextHeights%5Bi%5D%29%2Ftexinfo%2EcanvasY%3B%0A%09%20%20%20%20%20%20%20%20vnew%5B4%2Ai%2Bj%5D%20%3D%20v1%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20v%20%3D%20vnew%3B%0A%20%20%20%20%20%20obj%2EvertexCount%20%3D%20v%2Elength%3B%0A%20%20%20%20%7D%20else%20if%20%28typeof%20obj%2Etexcoords%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%09tofs%20%3D%20stride%3B%0A%20%20%20%20%09stride%20%2B%3D%202%3B%0A%20%20%20%20%09oofs%20%3D%20%2D1%3B%0A%20%20%20%20%09v%20%3D%20this%2Ecbind%28v%2C%20obj%2Etexcoords%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%09tofs%20%3D%20%2D1%3B%0A%20%20%20%20%20%20oofs%20%3D%20%2D1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28stride%20%21%3D%3D%20v%5B0%5D%2Elength%29%20%7B%0A%20%20%20%20%20%20this%2EalertOnce%28%22problem%20in%20stride%20calculation%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20obj%2EvOffsets%20%3D%20%7Bvofs%3A0%2C%20cofs%3Acofs%2C%20nofs%3Anofs%2C%20radofs%3Aradofs%2C%20oofs%3Aoofs%2C%20tofs%3Atofs%2C%20stride%3Astride%7D%3B%0A%0A%20%20%20%20obj%2Evalues%20%3D%20new%20Float32Array%28this%2Eflatten%28v%29%29%3B%0A%0A%20%20%20%20if%20%28sprites%5F3d%29%20%7B%0A%09%09%09obj%2EuserMatrix%20%3D%20new%20CanvasMatrix4%28obj%2EuserMatrix%29%3B%0A%09%09%09obj%2Eobjects%20%3D%20this%2Eflatten%28%5B%5D%2Econcat%28obj%2Eids%29%29%3B%0A%09%09%09is%5Flit%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28is%5Flit%20%26%26%20%21fixed%5Fquads%29%20%7B%0A%09%09%09%20obj%2EnormLoc%20%3D%20gl%2EgetAttribLocation%28obj%2Eprog%2C%20%22aNorm%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20nclipplanes%20%3D%20this%2EcountClipplanes%28%29%3B%0A%09%09if%20%28nclipplanes%20%26%26%20%21sprites%5F3d%29%20%7B%0A%09%09%20%20obj%2EclipLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20for%20%28i%3D0%3B%20i%20%3C%20nclipplanes%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20obj%2EclipLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%22vClipplane%22%20%2B%20i%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28is%5Flit%29%20%7B%0A%09%09%20%20obj%2EemissionLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22emission%22%29%3B%0A%09%09%20%20obj%2Eemission%20%3D%20new%20Float32Array%28this%2EstringToRgb%28this%2EgetMaterial%28id%2C%20%22emission%22%29%29%29%3B%0A%09%09%20%20obj%2EshininessLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22shininess%22%29%3B%0A%09%09%20%20obj%2Eshininess%20%3D%20this%2EgetMaterial%28id%2C%20%22shininess%22%29%3B%0A%09%09%20%20obj%2Enlights%20%3D%20this%2EcountLights%28%29%3B%0A%09%09%20%20obj%2EambientLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20obj%2Eambient%20%3D%20new%20Float32Array%28this%2EstringToRgb%28this%2EgetMaterial%28id%2C%20%22ambient%22%29%29%29%3B%0A%09%09%20%20obj%2EspecularLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20obj%2Especular%20%3D%20new%20Float32Array%28this%2EstringToRgb%28this%2EgetMaterial%28id%2C%20%22specular%22%29%29%29%3B%0A%09%09%20%20obj%2EdiffuseLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20obj%2ElightDirLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20obj%2EviewpointLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20obj%2EfiniteLoc%20%3D%20%5B%5D%3B%0A%09%09%20%20for%20%28i%3D0%3B%20i%20%3C%20obj%2Enlights%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20obj%2EambientLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22ambient%22%20%2B%20i%29%3B%0A%09%09%20%20%20%20obj%2EspecularLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22specular%22%20%2B%20i%29%3B%0A%09%09%20%20%20%20obj%2EdiffuseLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22diffuse%22%20%2B%20i%29%3B%0A%09%09%20%20%20%20obj%2ElightDirLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22lightDir%22%20%2B%20i%29%3B%0A%09%09%20%20%20%20obj%2EviewpointLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22viewpoint%22%20%2B%20i%29%3B%0A%09%09%20%20%20%20obj%2EfiniteLoc%5Bi%5D%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22finite%22%20%2B%20i%29%3B%0A%09%09%20%20%7D%0A%09%09%7D%0A%0A%09%09if%20%28is%5Findexed%29%20%7B%0A%20%20%20%20%20%20if%20%28%28type%20%3D%3D%3D%20%22quads%22%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20type%20%3D%3D%3D%20%22sprites%22%29%20%26%26%20%21sprites%5F3d%29%20%7B%0A%20%20%20%20%20%20%20%20nrows%20%3D%20Math%2Efloor%28obj%2EvertexCount%2F4%29%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20Array%286%2Anrows%29%3B%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20nrows%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%5D%20%3D%204%2Ai%3B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%2B1%5D%20%3D%204%2Ai%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%2B2%5D%20%3D%204%2Ai%20%2B%202%3B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%2B3%5D%20%3D%204%2Ai%3B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%2B4%5D%20%3D%204%2Ai%20%2B%202%3B%0A%20%20%20%20%20%20%20%20%20%20f%5B6%2Ai%2B5%5D%20%3D%204%2Ai%20%2B%203%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20frowsize%20%3D%206%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20%22triangles%22%29%20%7B%0A%20%20%20%20%20%20%20%20nrows%20%3D%20Math%2Efloor%28obj%2EvertexCount%2F3%29%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20Array%283%2Anrows%29%3B%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20f%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20f%5Bi%5D%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20frowsize%20%3D%203%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20%22spheres%22%29%20%7B%0A%20%20%20%20%20%20%20%20nrows%20%3D%20obj%2EvertexCount%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20Array%28nrows%29%3B%0A%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20f%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20f%5Bi%5D%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20frowsize%20%3D%201%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20%22surface%22%29%20%7B%0A%20%20%20%20%20%20%20%20var%20dim%20%3D%20obj%2Edim%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nx%20%3D%20dim%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nz%20%3D%20dim%5B1%5D%3B%0A%20%20%20%20%20%20%20%20f%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28j%3D0%3B%20j%3Cnx%2D1%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%3Cnz%2D1%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%2Epush%28j%20%2B%20nx%2Ai%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%20nx%2A%28i%2B1%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%201%20%2B%20nx%2A%28i%2B1%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%20nx%2Ai%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%201%20%2B%20nx%2A%28i%2B1%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%2B%201%20%2B%20nx%2Ai%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20frowsize%20%3D%206%3B%0A%20%20%20%20%20%20%7D%0A%09%09%20%20obj%2Ef%20%3D%20new%20Uint16Array%28f%29%3B%0A%09%09%09if%20%28depth%5Fsort%29%20%7B%0A%09%09%09%09drawtype%20%3D%20%22DYNAMIC%5FDRAW%22%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09drawtype%20%3D%20%22STATIC%5FDRAW%22%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09if%20%28type%20%21%3D%3D%20%22spheres%22%20%26%26%20%21sprites%5F3d%29%20%7B%0A%09%09%20%20obj%2Ebuf%20%3D%20gl%2EcreateBuffer%28%29%3B%0A%09%09%09gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20obj%2Ebuf%29%3B%0A%09%09%09gl%2EbufferData%28gl%2EARRAY%5FBUFFER%2C%20obj%2Evalues%2C%20gl%2ESTATIC%5FDRAW%29%3B%20%2F%2F%0A%09%09%7D%0A%0A%09%09if%20%28is%5Findexed%20%26%26%20type%20%21%3D%3D%20%22spheres%22%20%26%26%20%21sprites%5F3d%29%20%7B%0A%09%09%09obj%2Eibuf%20%3D%20gl%2EcreateBuffer%28%29%3B%0A%09%09%09gl%2EbindBuffer%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20obj%2Eibuf%29%3B%0A%09%09%09gl%2EbufferData%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20obj%2Ef%2C%20gl%5Bdrawtype%5D%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28%21sprites%5F3d%29%20%7B%0A%09%09%09obj%2EmvMatLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22mvMatrix%22%29%3B%0A%09%09%09obj%2EprMatLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22prMatrix%22%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%09%09%09obj%2EtextScaleLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22textScale%22%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28is%5Flit%20%26%26%20%21sprites%5F3d%29%20%7B%0A%09%09%09obj%2EnormMatLoc%20%3D%20gl%2EgetUniformLocation%28obj%2Eprog%2C%20%22normMatrix%22%29%3B%0A%09%09%7D%0A%20%20%7D%3B%0A%0A%20%20%20%20this%2EsetDepthTest%20%3D%20function%28id%29%20%7B%0A%20%20%20%20%20%20var%20gl%20%3D%20this%2Egl%2C%0A%20%20%20%20%20%20%20%20%20%20tests%20%3D%20%7Bnever%3A%20gl%2ENEVER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20less%3A%20%20gl%2ELESS%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20equal%3A%20gl%2EEQUAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lequal%3Agl%2ELEQUAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20greater%3A%20gl%2EGREATER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20notequal%3A%20gl%2ENOTEQUAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gequal%3A%20gl%2EGEQUAL%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20always%3A%20gl%2EALWAYS%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20test%20%3D%20tests%5Bthis%2EgetMaterial%28id%2C%20%22depth%5Ftest%22%29%5D%3B%0A%20%20%20%20%20%20gl%2EdepthFunc%28test%29%3B%0A%20%20%20%20%7D%3B%0A%0A%09%20%20this%2Emode4type%20%3D%20%7Bpoints%20%3A%20%22POINTS%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20linestrip%20%3A%20%22LINE%5FSTRIP%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20abclines%20%3A%20%22LINES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20lines%20%3A%20%22LINES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20sprites%20%3A%20%22TRIANGLES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20planes%20%3A%20%22TRIANGLES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20text%20%3A%20%22TRIANGLES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20quads%20%3A%20%22TRIANGLES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20surface%20%3A%20%22TRIANGLES%22%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20triangles%20%3A%20%22TRIANGLES%22%7D%3B%0A%0A%09%20%20this%2EdrawObj%20%3D%20function%28id%2C%20subsceneid%29%20%7B%0A%09%20%20%20%20var%20obj%20%3D%20this%2EgetObj%28id%29%2C%0A%09%20%20%20%20%20%20%20%20subscene%20%3D%20this%2EgetObj%28subsceneid%29%2C%0A%09%20%20%20%20%20%20%20%20flags%20%3D%20obj%2Eflags%2C%0A%09%20%20%20%20%20%20%20%20type%20%3D%20obj%2Etype%2C%0A%09%20%20%20%20%20%20%20%20is%5Findexed%20%3D%20flags%20%26%20this%2Ef%5Fis%5Findexed%2C%0A%20%20%20%20%20%20%20%20%20%20is%5Flit%20%3D%20flags%20%26%20this%2Ef%5Fis%5Flit%2C%0A%09%09%20%20%20%20%20%20has%5Ftexture%20%3D%20flags%20%26%20this%2Ef%5Fhas%5Ftexture%2C%0A%09%09%20%20%20%20%20%20fixed%5Fquads%20%3D%20flags%20%26%20this%2Ef%5Ffixed%5Fquads%2C%0A%09%09%20%20%20%20%20%20depth%5Fsort%20%3D%20flags%20%26%20this%2Ef%5Fdepth%5Fsort%2C%0A%09%09%20%20%20%20%20%20sprites%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprites%5F3d%2C%0A%09%09%20%20%20%20%20%20sprite%5F3d%20%3D%20flags%20%26%20this%2Ef%5Fsprite%5F3d%2C%0A%09%09%20%20%20%20%20%20is%5Flines%20%3D%20flags%20%26%20this%2Ef%5Fis%5Flines%2C%0A%09%09%20%20%20%20%20%20gl%20%3D%20this%2Egl%2C%0A%09%09%20%20%20%20%20%20sphereMV%2C%20baseofs%2C%20ofs%2C%20sscale%2C%20i%2C%20count%2C%20light%2C%0A%09%09%20%20%20%20%20%20faces%3B%0A%0A%09%09%20%20if%20%28typeof%20id%20%21%3D%3D%20%22number%22%29%20%7B%0A%09%09%20%20%20%20this%2EalertOnce%28%22drawObj%20id%20is%20%22%2Btypeof%20id%29%3B%0A%09%09%20%20%7D%0A%0A%09%09%09if%20%28type%20%3D%3D%3D%20%22planes%22%29%20%7B%0A%09%09%09%20%20if%20%28obj%2Ebbox%20%21%3D%3D%20subscene%2Epar3d%2Ebbox%20%7C%7C%20%21obj%2Einitialized%29%20%7B%0A%09%09%09%20%20%20%20this%2EplaneUpdateTriangles%28id%2C%20subscene%2Epar3d%2Ebbox%29%3B%0A%09%09%09%20%20%7D%0A%09%09%09%7D%0A%0A%20%20%20%20%20%20if%20%28%21obj%2Einitialized%29%0A%20%20%20%20%20%20%20%20this%2EinitObj%28id%29%3B%0A%0A%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%22light%22%20%7C%7C%20type%20%3D%3D%3D%20%22bboxdeco%22%29%0A%20%20%20%20%20%20%20%20return%3B%0A%0A%09%09%20%20if%20%28type%20%3D%3D%3D%20%22clipplanes%22%29%20%7B%0A%09%09%09%20%20count%20%3D%20obj%2Eoffsets%2Elength%3B%0A%09%09%09%20%20var%20IMVClip%20%3D%20%5B%5D%3B%0A%09%09%09%20%20for%20%28i%3D0%3B%20i%20%3C%20count%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20IMVClip%5Bi%5D%20%3D%20this%2EmultMV%28this%2EinvMatrix%2C%20obj%2EvClipplane%2Eslice%284%2Ai%2C%204%2A%28i%2B1%29%29%29%3B%0A%20%09%09%09%20%20%7D%0A%20%09%09%09%20%20obj%2EIMVClip%20%3D%20IMVClip%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%09%09%09%7D%0A%0A%20%20%20%20%20%20this%2EsetDepthTest%28id%29%3B%0A%0A%20%20%20%20%20%20if%20%28sprites%5F3d%29%20%7B%0A%09%09%09%20%20var%20norigs%20%3D%20obj%2Evertices%2Elength%2C%0A%09%09%09%20%20%20%20%20%20savenorm%20%3D%20new%20CanvasMatrix4%28this%2EnormMatrix%29%3B%0A%09%09%09%20%20this%2Eorigs%20%3D%20obj%2Evertices%3B%0A%09%09%09%09this%2Eusermat%20%3D%20new%20Float32Array%28obj%2EuserMatrix%2EgetAsArray%28%29%29%3B%0A%09%09%09%09this%2Eradii%20%3D%20obj%2Eradii%3B%0A%09%09%09%09this%2EnormMatrix%20%3D%20subscene%2EspriteNormmat%3B%0A%09%09%09%09for%20%28this%2EiOrig%3D0%3B%20this%2EiOrig%20%3C%20norigs%3B%20this%2EiOrig%2B%2B%29%20%7B%0A%09%09%09%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20obj%2Eobjects%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%09%20%20this%2EdrawObj%28obj%2Eobjects%5Bi%5D%2C%20subsceneid%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09this%2EnormMatrix%20%3D%20savenorm%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09gl%2EuseProgram%28obj%2Eprog%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28sprite%5F3d%29%20%7B%0A%09%09%09%20%20gl%2Euniform3fv%28obj%2EorigLoc%2C%20new%20Float32Array%28this%2Eorigs%5Bthis%2EiOrig%5D%29%29%3B%0A%09%09%09%20%20if%20%28this%2Eradii%2Elength%20%3E%201%29%20%7B%0A%09%09%09%09%20%20gl%2Euniform1f%28obj%2EsizeLoc%2C%20this%2Eradii%5Bthis%2EiOrig%5D%5B0%5D%29%3B%0A%09%09%09%20%20%7D%20else%20%7B%0A%09%09%09%20%20%20%20gl%2Euniform1f%28obj%2EsizeLoc%2C%20this%2Eradii%5B0%5D%5B0%5D%29%3B%0A%09%09%09%20%20%7D%0A%09%09%09%09gl%2EuniformMatrix4fv%28obj%2EusermatLoc%2C%20false%2C%20this%2Eusermat%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28type%20%3D%3D%3D%20%22spheres%22%29%20%7B%0A%09%09%09%20%20gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20this%2Esphere%2Ebuf%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20obj%2Ebuf%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28is%5Findexed%20%26%26%20type%20%21%3D%3D%20%22spheres%22%29%20%7B%0A%09%09%09%20%20gl%2EbindBuffer%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20obj%2Eibuf%29%3B%0A%09%09%09%7D%20else%20if%20%28type%20%3D%3D%3D%20%22spheres%22%29%20%7B%0A%09%09%09%09gl%2EbindBuffer%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20this%2Esphere%2Eibuf%29%3B%0A%09%09%09%7D%0A%0A%09%09%09gl%2EuniformMatrix4fv%28%20obj%2EprMatLoc%2C%20false%2C%20new%20Float32Array%28this%2EprMatrix%2EgetAsArray%28%29%29%20%29%3B%0A%09%09%09gl%2EuniformMatrix4fv%28%20obj%2EmvMatLoc%2C%20false%2C%20new%20Float32Array%28this%2EmvMatrix%2EgetAsArray%28%29%29%20%29%3B%0A%20%20%20%20%20%20var%20clipcheck%20%3D%200%2C%0A%20%20%20%20%20%20%20%20%20%20clipplaneids%20%3D%20subscene%2Eclipplanes%2C%0A%20%20%20%20%20%20%20%20%20%20clip%2C%20j%3B%0A%09%09%09for%20%28i%3D0%3B%20i%20%3C%20clipplaneids%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20clip%20%3D%20this%2EgetObj%28clipplaneids%5Bi%5D%29%3B%0A%09%09%09%20%20for%20%28j%3D0%3B%20j%20%3C%20clip%2Eoffsets%2Elength%3B%20j%2B%2B%29%20%7B%0A%09%09%09%20%20%20%20gl%2Euniform4fv%28obj%2EclipLoc%5Bclipcheck%20%2B%20j%5D%2C%20clip%2EIMVClip%5Bj%5D%29%3B%0A%09%09%09%20%20%7D%0A%09%09%09%20%20clipcheck%20%2B%3D%20clip%2Eoffsets%2Elength%3B%0A%09%09%09%7D%0A%09%09%09if%20%28typeof%20obj%2EclipLoc%20%21%3D%3D%20%22undefined%22%29%0A%09%09%09%20%20for%20%28i%3Dclipcheck%3B%20i%20%3C%20obj%2EclipLoc%2Elength%3B%20i%2B%2B%29%0A%09%09%09%20%20%20%20gl%2Euniform4f%28obj%2EclipLoc%5Bi%5D%2C%200%2C0%2C0%2C0%29%3B%0A%0A%09%09%09if%20%28is%5Flit%29%20%7B%0A%09%09%09%20%20gl%2EuniformMatrix4fv%28%20obj%2EnormMatLoc%2C%20false%2C%20new%20Float32Array%28this%2EnormMatrix%2EgetAsArray%28%29%29%20%29%3B%0A%09%09%09%20%20gl%2Euniform3fv%28%20obj%2EemissionLoc%2C%20obj%2Eemission%29%3B%0A%09%09%09%20%20gl%2Euniform1f%28%20obj%2EshininessLoc%2C%20obj%2Eshininess%29%3B%0A%09%09%09%20%20for%20%28i%3D0%3B%20i%20%3C%20subscene%2Elights%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20%20%20light%20%3D%20this%2EgetObj%28subscene%2Elights%5Bi%5D%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3fv%28%20obj%2EambientLoc%5Bi%5D%2C%20this%2EcomponentProduct%28light%2Eambient%2C%20obj%2Eambient%29%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3fv%28%20obj%2EspecularLoc%5Bi%5D%2C%20this%2EcomponentProduct%28light%2Especular%2C%20obj%2Especular%29%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3fv%28%20obj%2EdiffuseLoc%5Bi%5D%2C%20light%2Ediffuse%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3fv%28%20obj%2ElightDirLoc%5Bi%5D%2C%20light%2ElightDir%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform1i%28%20obj%2EviewpointLoc%5Bi%5D%2C%20light%2Eviewpoint%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform1i%28%20obj%2EfiniteLoc%5Bi%5D%2C%20light%2Efinite%29%3B%0A%09%09%09%20%20%7D%0A%09%09%09%20%20for%20%28i%3Dsubscene%2Elights%2Elength%3B%20i%20%3C%20obj%2Enlights%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20%20%20gl%2Euniform3f%28%20obj%2EambientLoc%5Bi%5D%2C%200%2C0%2C0%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3f%28%20obj%2EspecularLoc%5Bi%5D%2C%200%2C0%2C0%29%3B%0A%09%09%09%20%20%20%20gl%2Euniform3f%28%20obj%2EdiffuseLoc%5Bi%5D%2C%200%2C0%2C0%29%3B%0A%09%09%09%20%20%7D%0A%09%09%09%7D%0A%0A%09%09%09if%20%28type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%09%09%09%09gl%2Euniform2f%28%20obj%2EtextScaleLoc%2C%200%2E75%2Fthis%2Evp%2Ewidth%2C%200%2E75%2Fthis%2Evp%2Eheight%29%3B%0A%09%09%09%7D%0A%0A%09%09%09gl%2EenableVertexAttribArray%28%20this%2EposLoc%20%29%3B%0A%0A%09%09%09var%20nc%20%3D%20obj%2EcolorCount%3B%0A%20%20%20%20%20%20count%20%3D%20obj%2EvertexCount%3B%0A%09%09%09if%20%28depth%5Fsort%29%20%7B%0A%09%09%09%09%09%09var%20nfaces%20%3D%20obj%2Ecenters%2Elength%2C%0A%09%09%09%09%09%09%20%20%20%20frowsize%2C%20z%2C%20w%3B%0A%09%09%09%09%09%09if%20%28sprites%5F3d%29%20frowsize%20%3D%201%3B%0A%09%09%09%09%09%09else%20if%20%28type%20%3D%3D%3D%20%22triangles%22%29%20frowsize%20%3D%203%3B%0A%09%09%09%09%09%09else%20frowsize%20%3D%206%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20depths%20%3D%20new%20Float32Array%28nfaces%29%3B%0A%09%09%09%09%09%09faces%20%3D%20new%20Array%28nfaces%29%3B%0A%09%09%09%09%09%09for%28i%3D0%3B%20i%3Cnfaces%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%09%09%09z%20%3D%20this%2EprmvMatrix%2Em13%2Aobj%2Ecenters%5B3%2Ai%5D%20%2B%0A%09%09%09%09%09%09%09%20%20%20%20this%2EprmvMatrix%2Em23%2Aobj%2Ecenters%5B3%2Ai%2B1%5D%20%2B%0A%09%09%09%09%09%09%20%20%20%20%20%20this%2EprmvMatrix%2Em33%2Aobj%2Ecenters%5B3%2Ai%2B2%5D%20%2B%0A%09%09%09%09%09%20%20%20%20%20%20%20%20this%2EprmvMatrix%2Em43%3B%0A%09%09%09%09%09%09%09w%20%3D%20this%2EprmvMatrix%2Em14%2Aobj%2Ecenters%5B3%2Ai%5D%20%2B%0A%09%09%09%09%20%20%09%09%09%20%20this%2EprmvMatrix%2Em24%2Aobj%2Ecenters%5B3%2Ai%2B1%5D%20%2B%0A%09%09%09%09%09%20%20%09%09%20%20this%2EprmvMatrix%2Em34%2Aobj%2Ecenters%5B3%2Ai%2B2%5D%20%2B%0A%09%09%09%09%09%09%20%20%09%20%20this%2EprmvMatrix%2Em44%3B%0A%09%09%09%09%09%09%09depths%5Bi%5D%20%3D%20z%2Fw%3B%0A%09%09%09%09%09%09%09faces%5Bi%5D%20%3D%20i%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09var%20depthsort%20%3D%20function%28i%2Cj%29%20%7B%20return%20depths%5Bj%5D%20%2D%20depths%5Bi%5D%3B%20%7D%3B%0A%09%09%09%09%09%09faces%2Esort%28depthsort%29%3B%0A%0A%09%09%09%09%09%09if%20%28type%20%21%3D%3D%20%22spheres%22%29%20%7B%0A%09%09%09%09%09%09%20%20var%20f%20%3D%20new%20Uint16Array%28obj%2Ef%2Elength%29%3B%0A%09%09%09%09%09%09%09for%20%28i%3D0%3B%20i%3Cnfaces%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%09%20%20%09%20%20for%20%28j%3D0%3B%20j%3Cfrowsize%3B%20j%2B%2B%29%20%7B%0A%09%09%09%09%09%09%09%20%20%20%20f%5Bfrowsize%2Ai%20%2B%20j%5D%20%3D%20obj%2Ef%5Bfrowsize%2Afaces%5Bi%5D%20%2B%20j%5D%3B%0A%09%09%09%09%09%09%09%20%20%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09gl%2EbufferData%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20f%2C%20gl%2EDYNAMIC%5FDRAW%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%0A%09%09%09if%20%28type%20%3D%3D%3D%20%22spheres%22%29%20%7B%0A%09%09%09%09subscene%20%3D%20this%2EgetObj%28subsceneid%29%3B%0A%09%09%09%09var%20scale%20%3D%20subscene%2Epar3d%2Escale%2C%0A%09%09%09%09%09%09scount%20%3D%20count%3B%0A%09%09%09%09gl%2EvertexAttribPointer%28this%2EposLoc%2C%20%203%2C%20gl%2EFLOAT%2C%20false%2C%20this%2Esphere%2EsphereStride%2C%20%200%29%3B%0A%09%09%09%09gl%2EenableVertexAttribArray%28obj%2EnormLoc%20%29%3B%0A%09%09%09%09gl%2EvertexAttribPointer%28obj%2EnormLoc%2C%20%203%2C%20gl%2EFLOAT%2C%20false%2C%20this%2Esphere%2EsphereStride%2C%20%200%29%3B%0A%09%09%09%09gl%2EdisableVertexAttribArray%28%20this%2EcolLoc%20%29%3B%0A%09%09%09%09var%20sphereNorm%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%09%09%09%09sphereNorm%2Escale%28scale%5B0%5D%2C%20scale%5B1%5D%2C%20scale%5B2%5D%29%3B%0A%09%09%09%09sphereNorm%2EmultRight%28this%2EnormMatrix%29%3B%0A%09%09%09%09gl%2EuniformMatrix4fv%28%20obj%2EnormMatLoc%2C%20false%2C%20new%20Float32Array%28sphereNorm%2EgetAsArray%28%29%29%20%29%3B%0A%0A%09%09%09%20%20if%20%28nc%20%3D%3D%201%29%20%7B%0A%09%09%09%09%20%20gl%2EvertexAttrib4fv%28%20this%2EcolLoc%2C%20new%20Float32Array%28obj%2Eonecolor%29%29%3B%0A%09%09%09%20%20%7D%0A%0A%09%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20scount%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20%20%20sphereMV%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%0A%09%09%09%20%20%09if%20%28depth%5Fsort%29%20%7B%0A%09%09%09%09%20%20%20%20baseofs%20%3D%20faces%5Bi%5D%2Aobj%2EvOffsets%2Estride%3B%0A%09%09%09%09%20%20%7D%20else%20%7B%0A%09%09%09%09%20%20%20%20baseofs%20%3D%20i%2Aobj%2EvOffsets%2Estride%3B%0A%09%09%09%09%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20ofs%20%3D%20baseofs%20%2B%20obj%2EvOffsets%2Eradofs%3B%0A%09%09%09%09%20%20sscale%20%3D%20obj%2Evalues%5Bofs%5D%3B%0A%0A%09%09%09%09%20%20sphereMV%2Escale%28sscale%2Fscale%5B0%5D%2C%20sscale%2Fscale%5B1%5D%2C%20sscale%2Fscale%5B2%5D%29%3B%0A%09%09%09%09%20%20sphereMV%2Etranslate%28obj%2Evalues%5Bbaseofs%5D%2C%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evalues%5Bbaseofs%2B1%5D%2C%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evalues%5Bbaseofs%2B2%5D%29%3B%0A%09%09%09%09%20%20sphereMV%2EmultRight%28this%2EmvMatrix%29%3B%0A%09%09%09%09%20%20gl%2EuniformMatrix4fv%28%20obj%2EmvMatLoc%2C%20false%2C%20new%20Float32Array%28sphereMV%2EgetAsArray%28%29%29%20%29%3B%0A%0A%09%09%09%09%20%20if%20%28nc%20%3E%201%29%20%7B%0A%09%09%09%09%20%20%20%20ofs%20%3D%20baseofs%20%2B%20obj%2EvOffsets%2Ecofs%3B%0A%09%09%09%09%09%20%20gl%2EvertexAttrib4f%28%20this%2EcolLoc%2C%20obj%2Evalues%5Bofs%5D%2C%0A%09%09%09%09%09%20%20%20%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evalues%5Bofs%2B1%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evalues%5Bofs%2B2%5D%2C%0A%09%09%09%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%2Evalues%5Bofs%2B3%5D%20%29%3B%0A%09%09%09%09%20%20%7D%0A%09%09%09%09%20%20gl%2EdrawElements%28gl%2ETRIANGLES%2C%20this%2Esphere%2EsphereCount%2C%20gl%2EUNSIGNED%5FSHORT%2C%200%29%3B%0A%0A%09%09%09%20%20%7D%0A%09%09%09%20%20return%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09if%20%28obj%2EcolorCount%20%3D%3D%3D%201%29%20%7B%0A%09%09%09%09%09gl%2EdisableVertexAttribArray%28%20this%2EcolLoc%20%29%3B%0A%09%09%09%09%20%20gl%2EvertexAttrib4fv%28%20this%2EcolLoc%2C%20new%20Float32Array%28obj%2Eonecolor%29%29%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09gl%2EenableVertexAttribArray%28%20this%2EcolLoc%20%29%3B%0A%09%09%09%09%09gl%2EvertexAttribPointer%28this%2EcolLoc%2C%204%2C%20gl%2EFLOAT%2C%20false%2C%204%2Aobj%2EvOffsets%2Estride%2C%204%2Aobj%2EvOffsets%2Ecofs%29%3B%0A%09%09%09%09%7D%0A%20%20%20%20%20%20%7D%0A%0A%09%09%09if%20%28is%5Flit%20%26%26%20obj%2EvOffsets%2Enofs%20%3E%200%29%20%7B%0A%09%09%09%09gl%2EenableVertexAttribArray%28%20obj%2EnormLoc%20%29%3B%0A%09%09%09%09gl%2EvertexAttribPointer%28obj%2EnormLoc%2C%203%2C%20gl%2EFLOAT%2C%20false%2C%204%2Aobj%2EvOffsets%2Estride%2C%204%2Aobj%2EvOffsets%2Enofs%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28has%5Ftexture%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%29%20%7B%0A%09%09%09%09gl%2EenableVertexAttribArray%28%20obj%2EtexLoc%20%29%3B%0A%09%09%09%09gl%2EvertexAttribPointer%28obj%2EtexLoc%2C%202%2C%20gl%2EFLOAT%2C%20false%2C%204%2Aobj%2EvOffsets%2Estride%2C%204%2Aobj%2EvOffsets%2Etofs%29%3B%0A%09%09%09%09gl%2EactiveTexture%28gl%2ETEXTURE0%29%3B%0A%09%09%09%09gl%2EbindTexture%28gl%2ETEXTURE%5F2D%2C%20obj%2Etexture%29%3B%0A%09%09%09%09gl%2Euniform1i%28%20obj%2Esampler%2C%200%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28fixed%5Fquads%29%20%7B%0A%09%09%09%09gl%2EenableVertexAttribArray%28%20obj%2EofsLoc%20%29%3B%0A%09%09%09%09gl%2EvertexAttribPointer%28obj%2EofsLoc%2C%202%2C%20gl%2EFLOAT%2C%20false%2C%204%2Aobj%2EvOffsets%2Estride%2C%204%2Aobj%2EvOffsets%2Eoofs%29%3B%0A%09%09%09%7D%0A%0A%09%09%09var%20mode%20%3D%20this%2Emode4type%5Btype%5D%3B%0A%0A%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%22sprites%22%20%7C%7C%20type%20%3D%3D%3D%20%22text%22%20%7C%7C%20type%20%3D%3D%3D%20%22quads%22%29%20%7B%0A%20%20%20%20%20%20%20%20count%20%3D%20count%20%2A%206%2F4%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%20%3D%3D%3D%20%22surface%22%29%20%7B%0A%09%09%09%09count%20%3D%20obj%2Ef%2Elength%3B%0A%20%20%20%20%20%20%7D%0A%0A%09%09%09if%20%28is%5Flines%29%20%7B%0A%09%09%09%09gl%2ElineWidth%28%20this%2EgetMaterial%28id%2C%20%22lwd%22%29%20%29%3B%0A%09%09%09%7D%0A%0A%09%09%09gl%2EvertexAttribPointer%28this%2EposLoc%2C%20%203%2C%20gl%2EFLOAT%2C%20false%2C%204%2Aobj%2EvOffsets%2Estride%2C%20%204%2Aobj%2EvOffsets%2Evofs%29%3B%0A%0A%09%09%09if%20%28is%5Findexed%29%20%7B%0A%09%09%09%20%20gl%2EdrawElements%28gl%5Bmode%5D%2C%20count%2C%20gl%2EUNSIGNED%5FSHORT%2C%200%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%20%20gl%2EdrawArrays%28gl%5Bmode%5D%2C%200%2C%20count%29%3B%0A%09%09%09%7D%0A%09%20%7D%3B%0A%0A%09%20%20this%2EdrawSubscene%20%3D%20function%28subsceneid%29%20%7B%0A%09%09%20%20var%20gl%20%3D%20this%2Egl%2C%0A%09%09%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28subsceneid%29%2C%0A%09%09%20%20%20%20%20%20objects%20%3D%20this%2Escene%2Eobjects%2C%0A%09%09%20%20%20%20%20%20subids%20%3D%20obj%2Eobjects%2C%0A%09%09%20%20%20%20%20%20subscene%5Fhas%5Ffaces%20%3D%20false%2C%0A%09%09%20%20%20%20%20%20subscene%5Fneeds%5Fsorting%20%3D%20false%2C%0A%09%09%20%20%20%20%20%20flags%2C%20i%3B%0A%20%20%20%20%20%20if%20%28obj%2Epar3d%2EskipRedraw%29%0A%20%20%20%20%20%20%20%20return%3B%0A%09%09%20%20for%20%28i%3D0%3B%20i%20%3C%20subids%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20flags%20%3D%20objects%5Bsubids%5Bi%5D%5D%2Eflags%3B%0A%09%09%20%20%20%20if%20%28typeof%20flags%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20%20%20subscene%5Fhas%5Ffaces%20%7C%3D%20%28flags%20%26%20this%2Ef%5Fis%5Flit%29%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%20%21%28flags%20%26%20this%2Ef%5Ffixed%5Fquads%29%3B%0A%09%09%20%20%20%20%20%20subscene%5Fneeds%5Fsorting%20%7C%3D%20%28flags%20%26%20this%2Ef%5Fdepth%5Fsort%29%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%0A%0A%09%09%20%20var%20bgid%20%3D%20obj%2EbackgroundId%2C%0A%09%09%20%20%20%20%20%20bg%3B%0A%0A%20%20%20%20%20%20this%2EsetViewport%28subsceneid%29%3B%0A%20%20%20%20%20%20if%20%28typeof%20bgid%20%21%3D%3D%20%22undefined%22%20%26%26%20objects%5Bbgid%5D%2Ecolors%2Elength%29%20%7B%0A%09%09%09%20%20bg%20%3D%20objects%5Bbgid%5D%2Ecolors%5B0%5D%3B%0A%09%09%09%20%20gl%2EclearColor%28bg%5B0%5D%2C%20bg%5B1%5D%2C%20bg%5B2%5D%2C%20bg%5B3%5D%29%3B%0A%09%09%09%20%20gl%2Eclear%28gl%2ECOLOR%5FBUFFER%5FBIT%20%7C%20gl%2EDEPTH%5FBUFFER%5FBIT%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%09%09%09if%20%28subids%2Elength%29%20%7B%0A%09%09%09%20%20this%2EsetprMatrix%28subsceneid%29%3B%0A%09%09%09%20%20this%2EsetmvMatrix%28subsceneid%29%3B%0A%0A%09%09%09%09if%20%28subscene%5Fhas%5Ffaces%29%20%7B%0A%09%09%09%09%20%20this%2EsetnormMatrix%28subsceneid%29%3B%0A%09%09%09%09%20%20if%20%28%28obj%2Eflags%20%26%20this%2Ef%5Fsprites%5F3d%29%20%26%26%0A%09%09%09%09%20%20%20%20%20%20typeof%20obj%2EspriteNormmat%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%09%09%20%20%20%20obj%2EspriteNormmat%20%3D%20new%20CanvasMatrix4%28this%2EnormMatrix%29%3B%0A%09%09%09%09%20%20%7D%0A%09%09%09%09%7D%0A%0A%09%09%09%09if%20%28subscene%5Fneeds%5Fsorting%29%0A%09%09%09%09%20%20this%2EsetprmvMatrix%28%29%3B%0A%0A%09%09%09%09var%20clipids%20%3D%20obj%2Eclipplanes%3B%0A%09%09%09%09if%20%28clipids%2Elength%20%3E%200%29%20%7B%0A%09%09%09%09%20%20this%2EinvMatrix%20%3D%20new%20CanvasMatrix4%28this%2EmvMatrix%29%3B%0A%09%09%09%09%20%20this%2EinvMatrix%2Einvert%28%29%3B%0A%09%09%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20clipids%2Elength%3B%20i%2B%2B%29%0A%09%09%09%09%20%20%20%20this%2EdrawObj%28clipids%5Bi%5D%2C%20subsceneid%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09subids%20%3D%20obj%2Eopaque%3B%0A%09%09%09%09if%20%28subids%2Elength%20%3E%200%29%20%7B%0A%09%09%09%09%20%20gl%2EdepthMask%28true%29%3B%0A%09%09%09%09%20%20gl%2Edisable%28gl%2EBLEND%29%3B%0A%09%09%09%09%20%20for%20%28i%20%3D%200%3B%20subids%20%26%26%20i%20%3C%20subids%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20%20%20this%2EdrawObj%28subids%5Bi%5D%2C%20subsceneid%29%3B%0A%09%09%09%09%20%20%7D%0A%09%09%09%09%7D%0A%09%09%09%09subids%20%3D%20obj%2Etransparent%3B%0A%09%09%09%09if%20%28subids%2Elength%20%3E%200%29%20%7B%0A%09%09%09%09%20%20gl%2EdepthMask%28false%29%3B%0A%09%09%09%09%20%20gl%2EblendFuncSeparate%28gl%2ESRC%5FALPHA%2C%20gl%2EONE%5FMINUS%5FSRC%5FALPHA%2C%0A%09%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gl%2EONE%2C%20gl%2EONE%29%3B%0A%09%09%09%09%20%20gl%2Eenable%28gl%2EBLEND%29%3B%0A%09%09%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20subids%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20%20%20this%2EdrawObj%28subids%5Bi%5D%2C%20subsceneid%29%3B%0A%09%09%09%09%20%20%7D%0A%09%09%09%09%7D%0A%09%09%09%09subids%20%3D%20obj%2Esubscenes%3B%0A%09%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20subids%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20this%2EdrawSubscene%28subids%5Bi%5D%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%20%20%7D%3B%0A%0A%20%20%20%20this%2ErelMouseCoords%20%3D%20function%28event%29%20%7B%0A%09%09%20%20var%20totalOffsetX%20%3D%200%2C%0A%09%09%20%20totalOffsetY%20%3D%200%2C%0A%09%09%20%20currentElement%20%3D%20this%2Ecanvas%3B%0A%0A%09%09%20%20do%20%7B%0A%09%09%20%20%20%20totalOffsetX%20%2B%3D%20currentElement%2EoffsetLeft%3B%0A%09%09%20%20%20%20totalOffsetY%20%2B%3D%20currentElement%2EoffsetTop%3B%0A%09%09%20%20%20%20currentElement%20%3D%20currentElement%2EoffsetParent%3B%0A%09%09%20%20%7D%0A%09%09%20%20while%28currentElement%29%3B%0A%0A%09%09%20%20var%20canvasX%20%3D%20event%2EpageX%20%2D%20totalOffsetX%2C%0A%09%09%20%20%20%20%20%20canvasY%20%3D%20event%2EpageY%20%2D%20totalOffsetY%3B%0A%0A%09%09%20%20return%20%7Bx%3AcanvasX%2C%20y%3AcanvasY%7D%3B%0A%09%09%7D%3B%0A%0A%20%20%20%20this%2EsetMouseHandlers%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20var%20self%20%3D%20this%2C%20activeSubscene%2C%20handler%2C%0A%20%20%20%20%20%20%20%20%20%20handlers%20%3D%20%7B%7D%2C%20drag%20%3D%200%3B%0A%0A%20%20%20%20handlers%2ErotBase%20%3D%200%3B%0A%0A%09%09this%2EscreenToVector%20%3D%20function%28x%2C%20y%29%20%7B%0A%09%09%20%20var%20viewport%20%3D%20this%2EgetObj%28activeSubscene%29%2Epar3d%2Eviewport%2C%0A%09%09%20%20%20%20width%20%3D%20viewport%2Ewidth%2Athis%2Ecanvas%2Ewidth%2C%0A%09%09%09%20%20height%20%3D%20viewport%2Eheight%2Athis%2Ecanvas%2Eheight%2C%0A%09%09%09%20%20radius%20%3D%20Math%2Emax%28width%2C%20height%29%2F2%2E0%2C%0A%09%09%09%20%20cx%20%3D%20width%2F2%2E0%2C%0A%09%09%09%20%20cy%20%3D%20height%2F2%2E0%2C%0A%09%09%09%20%20px%20%3D%20%28x%2Dcx%29%2Fradius%2C%0A%09%09%09%20%20py%20%3D%20%28y%2Dcy%29%2Fradius%2C%0A%09%09%09%20%20plen%20%3D%20Math%2Esqrt%28px%2Apx%2Bpy%2Apy%29%3B%0A%09%09%09if%20%28plen%20%3E%201%2Ee%2D6%29%20%7B%0A%09%09%09%20%20px%20%3D%20px%2Fplen%3B%0A%09%09%09%20%20py%20%3D%20py%2Fplen%3B%0A%09%09%09%7D%0A%09%09%09var%20angle%20%3D%20%28Math%2ESQRT2%20%2D%20plen%29%2FMath%2ESQRT2%2AMath%2EPI%2F2%2C%0A%09%09%09%20%20z%20%3D%20Math%2Esin%28angle%29%2C%0A%09%09%09%20%20zlen%20%3D%20Math%2Esqrt%281%2E0%20%2D%20z%2Az%29%3B%0A%09%09%09px%20%3D%20px%20%2A%20zlen%3B%0A%09%09%09py%20%3D%20py%20%2A%20zlen%3B%0A%09%09%09return%20%5Bpx%2C%20py%2C%20z%5D%3B%0A%09%09%7D%3B%0A%0A%09%09handlers%2Etrackballdown%20%3D%20function%28x%2Cy%29%20%7B%0A%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeModel%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22model%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeModel%2Epar3d%2Elisteners%3B%0A%09%09%09handlers%2ErotBase%20%3D%20this%2EscreenToVector%28x%2C%20y%29%3B%0A%09%09%09this%2EsaveMat%20%3D%20%5B%5D%3B%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2EsaveMat%20%3D%20new%20CanvasMatrix4%28activeSub%2Epar3d%2EuserMatrix%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%0A%09%09handlers%2Etrackballmove%20%3D%20function%28x%2Cy%29%20%7B%0A%09%09%09var%20rotCurrent%20%3D%20this%2EscreenToVector%28x%2Cy%29%2C%0A%09%09%09%20%20%20%20rotBase%20%3D%20handlers%2ErotBase%2C%0A%09%09%09%09dot%20%3D%20rotBase%5B0%5D%2ArotCurrent%5B0%5D%20%2B%0A%09%09%09%09%09%09%20%20rotBase%5B1%5D%2ArotCurrent%5B1%5D%20%2B%0A%09%09%09%20%20%09%20%20%20%09rotBase%5B2%5D%2ArotCurrent%5B2%5D%2C%0A%09%09%09%09angle%20%3D%20Math%2Eacos%28%20dot%2Fthis%2Evlen%28rotBase%29%2Fthis%2Evlen%28rotCurrent%29%20%29%2A180%2E0%2FMath%2EPI%2C%0A%09%09%09%09axis%20%3D%20this%2Exprod%28rotBase%2C%20rotCurrent%29%2C%0A%09%09%09%09objects%20%3D%20this%2Escene%2Eobjects%2C%0A%09%09%09%09activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%09activeModel%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22model%22%29%29%2C%0A%09%09%09%09l%20%3D%20activeModel%2Epar3d%2Elisteners%2C%0A%09%09%09%09i%3B%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2Epar3d%2EuserMatrix%2Eload%28objects%5Bl%5Bi%5D%5D%2EsaveMat%29%3B%0A%09%09%09%09activeSub%2Epar3d%2EuserMatrix%2Erotate%28angle%2C%20axis%5B0%5D%2C%20axis%5B1%5D%2C%20axis%5B2%5D%29%3B%0A%09%09%09%7D%0A%09%09%09this%2EdrawScene%28%29%3B%0A%09%09%7D%3B%0A%09%09handlers%2Etrackballend%20%3D%200%3B%0A%0A%20%20%20%20handlers%2Eaxisdown%20%3D%20function%28x%2Cy%29%20%7B%0A%09%09%20%20handlers%2ErotBase%20%3D%20this%2EscreenToVector%28x%2C%20this%2Ecanvas%2Eheight%2F2%29%3B%0A%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeModel%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22model%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeModel%2Epar3d%2Elisteners%3B%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2EsaveMat%20%3D%20new%20CanvasMatrix4%28activeSub%2Epar3d%2EuserMatrix%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%0A%09%09handlers%2Eaxismove%20%3D%20function%28x%2Cy%29%20%7B%0A%09%09%20%20var%20rotCurrent%20%3D%20this%2EscreenToVector%28x%2C%20this%2Ecanvas%2Eheight%2F2%29%2C%0A%09%09%20%20%20%20%20%20rotBase%20%3D%20handlers%2ErotBase%2C%0A%09%09%09%09%09angle%20%3D%20%28rotCurrent%5B0%5D%20%2D%20rotBase%5B0%5D%29%2A180%2FMath%2EPI%2C%0A%09%09%09%20%20%20%20rotMat%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%09%09%09rotMat%2Erotate%28angle%2C%20handlers%2Eaxis%5B0%5D%2C%20handlers%2Eaxis%5B1%5D%2C%20handlers%2Eaxis%5B2%5D%29%3B%0A%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeModel%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22model%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeModel%2Epar3d%2Elisteners%3B%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2Epar3d%2EuserMatrix%2Eload%28activeSub%2EsaveMat%29%3B%0A%09%09%09%20%20activeSub%2Epar3d%2EuserMatrix%2EmultLeft%28rotMat%29%3B%0A%09%09%09%7D%0A%09%09%09this%2EdrawScene%28%29%3B%0A%09%09%7D%3B%0A%20%20%20%20handlers%2Eaxisend%20%3D%200%3B%0A%0A%20%20%20%20handlers%2Ey0zoom%20%3D%200%3B%0A%09%09handlers%2Ezoom0%20%3D%200%3B%0A%09%09handlers%2Ezoomdown%20%3D%20function%28x%2C%20y%29%20%7B%0A%09%09%20%20var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%20%20%20%20%20%20%20%20activeProjection%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22projection%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeProjection%2Epar3d%2Elisteners%3B%0A%09%09%20%20handlers%2Ey0zoom%20%3D%20y%3B%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2Ezoom0%20%3D%20Math%2Elog%28activeSub%2Epar3d%2Ezoom%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%20%20%20%20handlers%2Ezoommove%20%3D%20function%28x%2C%20y%29%20%7B%0A%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeProjection%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22projection%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeProjection%2Epar3d%2Elisteners%3B%0A%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%20%20activeSub%2Epar3d%2Ezoom%20%3D%20Math%2Eexp%28activeSub%2Ezoom0%20%2B%20%28y%2Dhandlers%2Ey0zoom%29%2Fthis%2Ecanvas%2Eheight%29%3B%0A%09%09%09%7D%0A%09%09%09%09this%2EdrawScene%28%29%3B%0A%09%09%20%20%7D%3B%0A%20%20%20%20handlers%2Ezoomend%20%3D%200%3B%0A%0A%20%20%20%20handlers%2Ey0fov%20%3D%200%3B%0A%09%09handlers%2Efovdown%20%3D%20function%28x%2C%20y%29%20%7B%0A%09%09%09%20%20handlers%2Ey0fov%20%3D%20y%3B%0A%09%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeProjection%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22projection%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeProjection%2Epar3d%2Elisteners%3B%0A%09%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%09%20%20activeSub%2Efov0%20%3D%20activeSub%2Epar3d%2EFOV%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%3B%0A%20%20%20%20handlers%2Efovmove%20%3D%20function%28x%2C%20y%29%20%7B%0A%09%09%09var%20activeSub%20%3D%20this%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20activeProjection%20%3D%20this%2EgetObj%28this%2Euseid%28activeSub%2Eid%2C%20%22projection%22%29%29%2C%0A%09%09%09%20%20i%2C%20l%20%3D%20activeProjection%2Epar3d%2Elisteners%3B%0A%09%09%09%09for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09%09%20%20activeSub%20%3D%20this%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%09%09%20%20activeSub%2Epar3d%2EFOV%20%3D%20Math%2Emax%281%2C%20Math%2Emin%28179%2C%20activeSub%2Efov0%20%2B%0A%09%09%09%09%20%20%20%20%20180%2A%28y%2Dhandlers%2Ey0fov%29%2Fthis%2Ecanvas%2Eheight%29%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09this%2EdrawScene%28%29%3B%0A%09%09%09%7D%3B%0A%20%20%20%20handlers%2Efovend%20%3D%200%3B%0A%0A%09%09%20%20this%2Ecanvas%2Eonmousedown%20%3D%20function%20%28%20ev%20%29%7B%0A%09%09%20%20%20%20if%20%28%21ev%2Ewhich%29%20%2F%2F%20Use%20w3c%20defns%20in%20preference%20to%20MS%0A%09%09%20%20%20%20switch%20%28ev%2Ebutton%29%20%7B%0A%09%09%20%20%20%20%20%20case%200%3A%20ev%2Ewhich%20%3D%201%3B%20break%3B%0A%09%09%20%20%20%20%20%20case%201%3A%0A%09%09%20%20%20%20%20%20case%204%3A%20ev%2Ewhich%20%3D%202%3B%20break%3B%0A%09%09%20%20%20%20%20%20case%202%3A%20ev%2Ewhich%20%3D%203%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%20%20drag%20%3D%20%5B%22left%22%2C%20%22middle%22%2C%20%22right%22%5D%5Bev%2Ewhich%2D1%5D%3B%0A%09%09%20%20%20%20var%20coords%20%3D%20self%2ErelMouseCoords%28ev%29%3B%0A%09%09%20%20%20%20coords%2Ey%20%3D%20self%2Ecanvas%2Eheight%2Dcoords%2Ey%3B%0A%09%09%20%20%20%20activeSubscene%20%3D%20self%2EwhichSubscene%28coords%29%3B%0A%09%09%20%20%20%20var%20sub%20%3D%20self%2EgetObj%28activeSubscene%29%2C%20f%3B%0A%09%09%20%20%20%20handler%20%3D%20sub%2Epar3d%2EmouseMode%5Bdrag%5D%3B%0A%09%09%20%20%20%20switch%20%28handler%29%20%7B%0A%09%09%20%20%20%20case%20%22xAxis%22%3A%0A%09%09%20%20%20%20%20%20handler%20%3D%20%22axis%22%3B%0A%09%09%20%20%20%20%20%20handlers%2Eaxis%20%3D%20%5B1%2E0%2C%200%2E0%2C%200%2E0%5D%3B%0A%09%09%20%20%20%20%20%20break%3B%0A%09%09%20%20%20%20case%20%22yAxis%22%3A%0A%09%09%20%20%20%20%20%20handler%20%3D%20%22axis%22%3B%0A%09%09%20%20%20%20%20%20handlers%2Eaxis%20%3D%20%5B0%2E0%2C%201%2E0%2C%200%2E0%5D%3B%0A%09%09%20%20%20%20%20%20break%3B%0A%09%09%20%20%20%20case%20%22zAxis%22%3A%0A%09%09%20%20%20%20%20%20handler%20%3D%20%22axis%22%3B%0A%09%09%20%20%20%20%20%20handlers%2Eaxis%20%3D%20%5B0%2E0%2C%200%2E0%2C%201%2E0%5D%3B%0A%09%09%20%20%20%20%20%20break%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%20%20f%20%3D%20handlers%5Bhandler%20%2B%20%22down%22%5D%3B%0A%09%09%20%20%20%20if%20%28f%29%20%7B%0A%09%09%20%20%20%20%20%20coords%20%3D%20self%2EtranslateCoords%28activeSubscene%2C%20coords%29%3B%0A%09%09%20%20%20%20%20%20f%2Ecall%28self%2C%20coords%2Ex%2C%20coords%2Ey%29%3B%0A%09%09%20%20%20%20%20%20ev%2EpreventDefault%28%29%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%3B%0A%0A%09%09%20%20this%2Ecanvas%2Eonmouseup%20%3D%20function%20%28%20ev%20%29%7B%0A%09%09%20%20%20%20if%20%28%20drag%20%3D%3D%3D%200%20%29%20return%3B%0A%09%09%20%20%20%20var%20f%20%3D%20handlers%5Bhandler%20%2B%20%22up%22%5D%3B%0A%09%09%20%20%20%20if%20%28f%29%0A%09%09%20%20%20%20%20%20f%28%29%3B%0A%09%09%20%20%20%20drag%20%3D%200%3B%0A%09%09%20%20%7D%3B%0A%0A%09%09%20%20this%2Ecanvas%2Eonmouseout%20%3D%20this%2Ecanvas%2Eonmouseup%3B%0A%0A%09%09%20%20this%2Ecanvas%2Eonmousemove%20%3D%20function%20%28%20ev%20%29%20%7B%0A%09%09%20%20%20%20if%20%28%20drag%20%3D%3D%3D%200%20%29%20return%3B%0A%09%09%20%20%20%20var%20f%20%3D%20handlers%5Bhandler%20%2B%20%22move%22%5D%3B%0A%09%09%20%20%20%20if%20%28f%29%20%7B%0A%09%09%20%20%20%20%20%20var%20coords%20%3D%20self%2ErelMouseCoords%28ev%29%3B%0A%09%09%20%20%20%20%20%20coords%2Ey%20%3D%20self%2Ecanvas%2Eheight%20%2D%20coords%2Ey%3B%0A%09%09%20%20%20%20%20%20coords%20%3D%20self%2EtranslateCoords%28activeSubscene%2C%20coords%29%3B%0A%09%09%20%20%20%20%20%20f%2Ecall%28self%2C%20coords%2Ex%2C%20coords%2Ey%29%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%3B%0A%0A%09%09%20%20handlers%2EwheelHandler%20%3D%20function%28ev%29%20%7B%0A%09%09%20%20%20%20var%20del%20%3D%201%2E02%2C%20i%3B%0A%09%09%20%20%20%20if%20%28ev%2EshiftKey%29%20del%20%3D%201%2E002%3B%0A%09%09%20%20%20%20var%20ds%20%3D%20%28%28ev%2Edetail%20%7C%7C%20ev%2EwheelDelta%29%20%3E%200%29%20%3F%20del%20%3A%20%281%20%2F%20del%29%3B%0A%09%09%20%20%20%20if%20%28typeof%20activeSubscene%20%3D%3D%3D%20%22undefined%22%29%0A%09%09%20%20%20%20%20%20activeSubscene%20%3D%20self%2Escene%2ErootSubscene%3B%0A%09%09%09%20%20var%20activeSub%20%3D%20self%2EgetObj%28activeSubscene%29%2C%0A%09%09%09%20%20%20%20%20%20activeProjection%20%3D%20self%2EgetObj%28self%2Euseid%28activeSub%2Eid%2C%20%22projection%22%29%29%2C%0A%09%09%09%20%20%20%20%20%20l%20%3D%20activeProjection%2Epar3d%2Elisteners%3B%0A%0A%09%09%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20l%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20%20%20activeSub%20%3D%20self%2EgetObj%28l%5Bi%5D%29%3B%0A%09%09%20%20%20%20%20%20activeSub%2Epar3d%2Ezoom%20%2A%3D%20ds%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%20%20self%2EdrawScene%28%29%3B%0A%09%09%20%20%20%20ev%2EpreventDefault%28%29%3B%0A%09%09%20%20%7D%3B%0A%0A%09%09%20%20this%2Ecanvas%2EaddEventListener%28%22DOMMouseScroll%22%2C%20handlers%2EwheelHandler%2C%20false%29%3B%0A%09%09%20%20this%2Ecanvas%2EaddEventListener%28%22mousewheel%22%2C%20handlers%2EwheelHandler%2C%20false%29%3B%0A%09%09%7D%3B%0A%0A%09%09this%2Euseid%20%3D%20function%28subsceneid%2C%20type%29%20%7B%0A%09%09%20%20var%20sub%20%3D%20this%2EgetObj%28subsceneid%29%3B%0A%09%09%20%20if%20%28sub%2Eembeddings%5Btype%5D%20%3D%3D%3D%20%22inherit%22%29%0A%09%09%20%20%20%20return%28this%2Euseid%28sub%2Eparent%2C%20type%29%29%3B%0A%09%09%20%20else%0A%09%09%20%20%20%20return%20subsceneid%3B%0A%09%09%7D%3B%0A%0A%09%09this%2EinViewport%20%3D%20function%28coords%2C%20subsceneid%29%20%7B%0A%09%09%20%20var%20viewport%20%3D%20this%2EgetObj%28subsceneid%29%2Epar3d%2Eviewport%2C%0A%09%09%20%20%20%20x0%20%3D%20coords%2Ex%20%2D%20viewport%2Ex%2Athis%2Ecanvas%2Ewidth%2C%0A%09%09%20%20%20%20y0%20%3D%20coords%2Ey%20%2D%20viewport%2Ey%2Athis%2Ecanvas%2Eheight%3B%0A%09%09%20%20return%200%20%3C%3D%20x0%20%26%26%20x0%20%3C%3D%20viewport%2Ewidth%2Athis%2Ecanvas%2Ewidth%20%26%26%0A%09%09%20%20%20%20%20%20%20%20%200%20%3C%3D%20y0%20%26%26%20y0%20%3C%3D%20viewport%2Eheight%2Athis%2Ecanvas%2Eheight%3B%0A%09%09%7D%3B%0A%0A%20%20%20%20this%2EwhichSubscene%20%3D%20function%28coords%29%20%7B%0A%20%20%20%20%20%20var%20self%20%3D%20this%2C%0A%20%20%20%20%20%20%20%20%20%20recurse%20%3D%20function%28subsceneid%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20subscenes%20%3D%20self%2EgetChildSubscenes%28subsceneid%29%2C%20i%2C%20id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20subscenes%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%20%3D%20recurse%28subscenes%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%28id%29%20%21%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28self%2EinViewport%28coords%2C%20subsceneid%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%28subsceneid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20rootid%20%3D%20this%2Escene%2ErootSubscene%2C%0A%20%20%20%20%20%20%20%20%20%20result%20%3D%20recurse%28rootid%29%3B%0A%20%20%20%20%20%20if%20%28typeof%28result%29%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20result%20%3D%20rootid%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EtranslateCoords%20%3D%20function%28subsceneid%2C%20coords%29%20%7B%0A%20%20%20%20%20%20var%20viewport%20%3D%20this%2EgetObj%28subsceneid%29%2Epar3d%2Eviewport%3B%0A%20%20%20%20%20%20return%20%7Bx%3A%20coords%2Ex%20%2D%20viewport%2Ex%2Athis%2Ecanvas%2Ewidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20coords%2Ey%20%2D%20viewport%2Ey%2Athis%2Ecanvas%2Eheight%7D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinitSphere%20%3D%20function%28verts%29%20%7B%0A%20%20%20%20%20%20var%20gl%20%3D%20this%2Egl%2C%20reuse%20%3D%20verts%2Ereuse%2C%20result%3B%0A%20%20%20%20%20%20if%20%28typeof%20reuse%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20var%20prev%20%3D%20document%2EgetElementById%28reuse%29%2Erglinstance%2Esphere%3B%0A%20%20%20%20%20%20%20%20result%20%3D%20%7Bvb%3A%20prev%2Evb%2C%20it%3A%20prev%2Eit%7D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20result%20%3D%20%7Bvb%3A%20new%20Float32Array%28this%2Eflatten%28this%2Etranspose%28verts%2Evb%29%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20it%3A%20new%20Uint16Array%28this%2Eflatten%28this%2Etranspose%28verts%2Eit%29%29%29%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20result%2EsphereStride%20%3D%2012%3B%0A%20%20%20%20%20%20result%2EsphereCount%20%3D%20result%2Eit%2Elength%3B%0A%09%20%20%20%20result%2Ebuf%20%3D%20gl%2EcreateBuffer%28%29%3B%0A%09%20%20%20%20gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20result%2Ebuf%29%3B%0A%09%20%20%20%20gl%2EbufferData%28gl%2EARRAY%5FBUFFER%2C%20result%2Evb%2C%20gl%2ESTATIC%5FDRAW%29%3B%0A%09%20%20%20%20result%2Eibuf%20%3D%20gl%2EcreateBuffer%28%29%3B%0A%09%20%20%20%20gl%2EbindBuffer%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20result%2Eibuf%29%3B%0A%09%20%20%20%20gl%2EbufferData%28gl%2EELEMENT%5FARRAY%5FBUFFER%2C%20result%2Eit%2C%20gl%2ESTATIC%5FDRAW%29%3B%0A%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%0A%09%09this%2Einitialize%20%3D%20function%28el%2C%20x%29%20%7B%0A%09%09%20%20this%2EtextureCanvas%20%3D%20document%2EcreateElement%28%22canvas%22%29%3B%0A%09%09%20%20this%2EtextureCanvas%2Estyle%2Edisplay%20%3D%20%22block%22%3B%0A%09%09%20%20this%2Escene%20%3D%20x%3B%0A%09%20%20%20%20this%2EnormMatrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%09%20%20%20%20this%2EsaveMat%20%3D%20%7B%7D%3B%0A%09%20%20%20%20this%2Edistance%20%3D%20null%3B%0A%09%20%20%20%20this%2EposLoc%20%3D%200%3B%0A%09%20%20%20%20this%2EcolLoc%20%3D%201%3B%0A%09%20%20%20%20if%20%28el%29%20%7B%0A%09%20%20%20%20%20%20el%2Erglinstance%20%3D%20this%3B%0A%09%20%20%20%20%20%20this%2EinitCanvas%28el%29%3B%0A%09%20%20%20%20%7D%0A%09%09%7D%3B%0A%0A%09%09this%2EinitCanvas%20%3D%20function%28el%29%20%7B%0A%09%09%20%20this%2Ecanvas%20%3D%20document%2EcreateElement%28%22canvas%22%29%3B%0A%09%09%20%20this%2Eresize%28el%29%3B%0A%09%09%20%20while%20%28el%2EfirstChild%29%20%7B%0A%20%20%20%20%20%20%20%20el%2EremoveChild%28el%2EfirstChild%29%3B%0A%20%20%20%20%20%20%7D%0A%09%09%20%20el%2EappendChild%28this%2Ecanvas%29%3B%0A%09%09%20%20this%2EinitGL0%28%29%3B%0A%09%09%20%20if%20%28%21this%2Egl%29%0A%09%09%20%20%20%20return%3B%0A%09%20%20%20%20var%20objs%20%3D%20this%2Escene%2Eobjects%2C%0A%09%20%20%20%20%20%20%20%20self%20%3D%20this%3B%0A%09%20%20%20%20this%2Esphere%20%3D%20this%2EinitSphere%28this%2Escene%2EsphereVerts%29%3B%0A%09%20%20%20%20Object%2Ekeys%28objs%29%2EforEach%28function%28key%29%7B%0A%09%20%20%20%20%20%20var%20id%20%3D%20parseInt%28key%2C%2010%29%2C%0A%09%20%20%20%20%20%20%20%20%20%20obj%20%3D%20self%2EgetObj%28id%29%3B%0A%09%20%20%20%20%20%20if%20%28typeof%20obj%2Ereuse%20%21%3D%3D%20%22undefined%22%29%0A%09%20%20%20%20%20%20%20%20self%2EcopyObj%28id%2C%20obj%2Ereuse%29%3B%0A%09%20%20%20%20%7D%29%3B%0A%09%20%20%20%20Object%2Ekeys%28objs%29%2EforEach%28function%28key%29%7B%0A%09%20%20%20%20%20%20self%2EinitSubscene%28parseInt%28key%2C%2010%29%29%3B%0A%09%20%20%20%20%7D%29%3B%0A%09%20%20%20%20Object%2Ekeys%28objs%29%2EforEach%28function%28key%29%7B%0A%09%09%20%20%20%20self%2EinitObj%28parseInt%28key%2C%2010%29%29%3B%0A%09%09%20%20%7D%29%3B%0A%09%09%20%20this%2EsetMouseHandlers%28%29%3B%0A%09%09%7D%3B%0A%0A%09%09%2F%2A%20this%20is%20only%20used%20by%20%2EwriteWebGL%3B%20rglwidget%20has%0A%09%09%20%20%20no%20debug%20element%20and%20does%20the%20drawing%20in%20rglwidget%2Ejs%20%2A%2F%0A%0A%09%09this%2Estart%20%3D%20function%28%29%20%7B%0A%09%09%20%20if%20%28typeof%20this%2Eprefix%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20this%2Edebugelement%20%3D%20document%2EgetElementById%28this%2Eprefix%20%2B%20%22debug%22%29%3B%0A%09%20%20%20%20%20%20this%2Edebug%28%22%22%29%3B%0A%09%09%20%20%7D%0A%09%09%20%20this%2Edrag%20%3D%200%3B%0A%09%09%20%20this%2EdrawScene%28%29%3B%0A%09%09%7D%3B%0A%0A%09%09this%2Edebug%20%3D%20function%28msg%2C%20img%29%20%7B%0A%09%09%20%20if%20%28typeof%20this%2Edebugelement%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20this%2Edebugelement%2EinnerHTML%20%3D%20msg%3B%0A%09%09%20%20%20%20if%20%28typeof%20img%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20%20%20this%2Edebugelement%2EinsertBefore%28img%2C%20this%2Edebugelement%2EfirstChild%29%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%20else%0A%09%09%20%20%20%20alert%28msg%29%3B%0A%09%09%7D%3B%0A%0A%20%20%20%20this%2EgetSnapshot%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20var%20img%3B%0A%09%20%20%20%20if%20%28typeof%20this%2Escene%2Esnapshot%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%20%20%20%20%20%20img%20%3D%20document%2EcreateElement%28%22img%22%29%3B%0A%09%20%20%20%20%20%20img%2Esrc%20%3D%20this%2Escene%2Esnapshot%3B%0A%09%20%20%20%20%20%20img%2Ealt%20%3D%20%22Snapshot%22%3B%0A%09%20%20%20%20%7D%0A%09%20%20%20%20return%20img%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinitGL0%20%3D%20function%28%29%20%7B%0A%09%20%20%20%20if%20%28%21window%2EWebGLRenderingContext%29%7B%0A%09%20%20%20%20%20%20this%2Edebug%28%22Your%20browser%20does%20not%20support%20WebGL%2E%20See%20%3Ca%20href%3D%5C%22http%3A%2F%2Fget%2Ewebgl%2Eorg%5C%22%3Ehttp%3A%2F%2Fget%2Ewebgl%2Eorg%3C%2Fa%3E%22%2C%20this%2EgetSnapshot%28%29%29%3B%0A%09%20%20%20%20%20%20return%3B%0A%09%20%20%20%20%7D%0A%09%20%20%20%20try%20%7B%0A%09%20%20%20%20%20%20this%2EinitGL%28%29%3B%0A%09%20%20%20%20%7D%0A%09%20%20%20%20catch%28e%29%20%7B%7D%0A%09%20%20%20%20if%20%28%20%21this%2Egl%20%29%20%7B%0A%09%20%20%20%20%20%20this%2Edebug%28%22Your%20browser%20appears%20to%20support%20WebGL%2C%20but%20did%20not%20create%20a%20WebGL%20context%2E%20%20See%20%3Ca%20href%3D%5C%22http%3A%2F%2Fget%2Ewebgl%2Eorg%5C%22%3Ehttp%3A%2F%2Fget%2Ewebgl%2Eorg%3C%2Fa%3E%22%2C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20this%2EgetSnapshot%28%29%29%3B%0A%09%20%20%20%20%20%20return%3B%0A%09%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EinitGL%20%3D%20function%28%29%20%7B%0A%09%20%20%20this%2Egl%20%3D%20this%2Ecanvas%2EgetContext%28%22webgl%22%29%20%7C%7C%0A%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecanvas%2EgetContext%28%22experimental%2Dwebgl%22%29%3B%0A%09%20%7D%3B%0A%0A%20%20%20%20this%2Eresize%20%3D%20function%28el%29%20%7B%0A%20%20%20%20%20%20this%2Ecanvas%2Ewidth%20%3D%20el%2Ewidth%3B%0A%20%20%20%20%20%20this%2Ecanvas%2Eheight%20%3D%20el%2Eheight%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EdrawScene%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20var%20gl%20%3D%20this%2Egl%3B%0A%20%20%20%20%20%20if%20%28%21gl%29%0A%20%20%20%20%20%20%20%20this%2EalertOnce%28%22No%20WebGL%20context%2E%22%29%3B%0A%20%20%20%20%20%20gl%2Eenable%28gl%2EDEPTH%5FTEST%29%3B%0A%09%20%20%20%20gl%2EdepthFunc%28gl%2ELEQUAL%29%3B%0A%09%20%20%20%20gl%2EclearDepth%281%2E0%29%3B%0A%09%20%20%20%20gl%2EclearColor%281%2C1%2C1%2C1%29%3B%0A%20%20%20%20%20%20gl%2Eclear%28gl%2ECOLOR%5FBUFFER%5FBIT%20%7C%20gl%2EDEPTH%5FBUFFER%5FBIT%29%3B%0A%09%09%09this%2EdrawSubscene%28this%2Escene%2ErootSubscene%29%3B%0A%09%09%09this%2Edrawing%20%3D%20false%3B%0A%09%09%7D%3B%0A%0A%09%09this%2EsubsetSetter%20%3D%20function%28el%2C%20control%29%20%7B%0A%09%09%20%20if%20%28typeof%20control%2Esubscenes%20%3D%3D%3D%20%22undefined%22%20%7C%7C%0A%09%09%20%20%20%20%20%20control%2Esubscenes%20%3D%3D%3D%20null%29%0A%20%20%20%20%20%20%20%20control%2Esubscenes%20%3D%20this%2Escene%2ErootSubscene%3B%0A%20%20%20%20%20%20var%20value%20%3D%20Math%2Eround%28control%2Evalue%29%2C%0A%20%20%20%20%20%20%20%20%20%20subscenes%20%3D%20%5B%5D%2Econcat%28control%2Esubscenes%29%2C%0A%20%20%20%20%20%20%20%20%20%20i%2C%20j%2C%20entries%2C%20subsceneid%2C%0A%20%20%20%20%20%20%20%20%20%20ismissing%20%3D%20function%28x%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20control%2Efullset%2EindexOf%28x%29%20%3C%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20tointeger%20%3D%20function%28x%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseInt%28x%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20subscenes%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20subsceneid%20%3D%20subscenes%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20this%2EgetObj%28subsceneid%29%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20%20%20this%2EalertOnce%28%22typeof%20object%20is%20undefined%22%29%3B%0A%20%20%20%20%20%20%20%20entries%20%3D%20this%2EgetObj%28subsceneid%29%2Eobjects%3B%0A%20%20%20%20%20%20%20%20entries%20%3D%20entries%2Efilter%28ismissing%29%3B%0A%20%20%20%20%20%20%20%20if%20%28control%2Eaccumulate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28j%3D0%3B%20j%3C%3Dvalue%3B%20j%2B%2B%29%0A%20%20%20%20%20%20%20%20%20%20%20%20entries%20%3D%20entries%2Econcat%28control%2Esubsets%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20entries%20%3D%20entries%2Econcat%28control%2Esubsets%5Bvalue%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20entries%20%3D%20entries%2Emap%28tointeger%29%3B%0A%20%20%20%20%20%20%20%20this%2EsetSubsceneEntries%28this%2Eunique%28entries%29%2C%20subsceneid%29%3B%0A%20%20%20%20%20%20%7D%0A%09%09%7D%3B%0A%0A%09%09this%2EpropertySetter%20%3D%20function%28el%2C%20control%29%20%20%7B%0A%09%09%20%20var%20value%20%3D%20control%2Evalue%2C%0A%09%09%20%20%20%20%20%20values%20%3D%20%5B%5D%2Econcat%28control%2Evalues%29%2C%0A%09%09%20%20%20%20%20%20svals%20%3D%20%5B%5D%2Econcat%28control%2Eparam%29%2C%0A%09%09%20%20%20%20%20%20direct%20%3D%20values%5B0%5D%20%3D%3D%3D%20null%2C%0A%09%09%20%20%20%20%20%20entries%20%3D%20%5B%5D%2Econcat%28control%2Eentries%29%2C%0A%09%09%20%20%20%20%20%20ncol%20%3D%20entries%2Elength%2C%0A%09%09%20%20%20%20%20%20nrow%20%3D%20values%2Elength%2Fncol%2C%0A%09%09%20%20%20%20%20%20properties%20%3D%20this%2ErepeatToLen%28control%2Eproperties%2C%20ncol%29%2C%0A%09%09%20%20%20%20%20%20objids%20%3D%20this%2ErepeatToLen%28control%2Eobjids%2C%20ncol%29%2C%0A%09%09%20%20%20%20%20%20property%20%3D%20properties%5B0%5D%2C%20objid%20%3D%20objids%5B0%5D%2C%0A%09%09%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28objid%29%2C%0A%09%09%20%20%20%20%20%20propvals%2C%20i%2C%20v1%2C%20v2%2C%20p%2C%20entry%2C%20gl%2C%20needsBinding%2C%0A%09%09%20%20%20%20%20%20newprop%2C%20newid%2C%0A%0A%09%09%20%20%20%20%20%20getPropvals%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28property%20%3D%3D%3D%20%22userMatrix%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20obj%2EuserMatrix%2EgetAsArray%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20obj%5Bproperty%5D%3B%0A%09%09%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20if%20%28direct%20%26%26%20typeof%20value%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20%20%20if%20%28control%2Einterp%29%20%7B%0A%20%20%20%20%20%20%20%20values%20%3D%20values%2Eslice%280%2C%20ncol%29%2Econcat%28values%29%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20concat%28values%2Eslice%28ncol%2A%28nrow%2D1%29%2C%20ncol%2Anrow%29%29%3B%0A%20%20%20%20%20%20%20%20svals%20%3D%20%5B%2DInfinity%5D%2Econcat%28svals%29%2Econcat%28Infinity%29%3B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%201%3B%20i%20%3C%20svals%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28value%20%3C%3D%20svals%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28svals%5Bi%5D%20%3D%3D%3D%20Infinity%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%20%28svals%5Bi%5D%20%2D%20value%29%2F%28svals%5Bi%5D%20%2D%20svals%5Bi%2D1%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21direct%29%20%7B%0A%20%20%20%20%20%20%20%20value%20%3D%20Math%2Eround%28value%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20propvals%20%3D%20getPropvals%28%29%3B%0A%0A%20%20%20%20%20%20for%20%28j%3D0%3B%20j%3Centries%2Elength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20entry%20%3D%20entries%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20newprop%20%3D%20properties%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20newid%20%3D%20objids%5Bj%5D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28newprop%20%21%3D%20property%20%7C%7C%20newid%20%21%3D%20objid%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20property%20%3D%20newprop%3B%0A%20%20%20%20%20%20%20%20%20%20objid%20%3D%20newid%3B%0A%20%20%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28objid%29%3B%0A%20%20%20%20%20%20%20%20%20%20propvals%20%3D%20getPropvals%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28control%2Einterp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20v1%20%3D%20values%5Bncol%2A%28i%2D1%29%20%2B%20j%5D%3B%0A%20%20%20%20%20%20%20%20%20%20v2%20%3D%20values%5Bncol%2Ai%20%2B%20j%5D%3B%0A%20%20%20%20%20%20%20%20%20%20this%2EsetElement%28propvals%2C%20entry%2C%20p%2Av1%20%2B%20%281%2Dp%29%2Av2%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21direct%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EsetElement%28propvals%2C%20entry%2C%20values%5Bncol%2Avalue%20%2B%20j%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EsetElement%28propvals%2C%20entry%2C%20value%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20needsBinding%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28j%3D0%3B%20j%20%3C%20entries%2Elength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28properties%5Bj%5D%20%3D%3D%3D%20%22values%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20needsBinding%2EindexOf%28objids%5Bj%5D%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20needsBinding%2Epush%28objids%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28j%3D0%3B%20j%20%3C%20needsBinding%2Elength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20gl%20%3D%20this%2Egl%3B%0A%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28needsBinding%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20obj%2Ebuf%29%3B%0A%20%20%20%20%20%20%20%20gl%2EbufferData%28gl%2EARRAY%5FBUFFER%2C%20obj%2Evalues%2C%20gl%2ESTATIC%5FDRAW%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EvertexSetter%20%3D%20function%28el%2C%20control%29%20%20%7B%0A%20%20%20%20%20%20var%20svals%20%3D%20%5B%5D%2Econcat%28control%2Eparam%29%2C%0A%20%20%20%20%20%20%20%20%20%20j%2C%20k%2C%20p%2C%20propvals%2C%20stride%2C%20ofs%2C%20obj%2C%0A%20%20%20%20%20%20%20%20%20%20attrib%2C%0A%20%20%20%20%20%20%20%20%20%20ofss%20%20%20%20%3D%20%7Bx%3A%22vofs%22%2C%20y%3A%22vofs%22%2C%20z%3A%22vofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20red%3A%22cofs%22%2C%20green%3A%22cofs%22%2C%20blue%3A%22cofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alpha%3A%22cofs%22%2C%20radii%3A%22radofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nx%3A%22nofs%22%2C%20ny%3A%22nofs%22%2C%20nz%3A%22nofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A%22oofs%22%2C%20oy%3A%22oofs%22%2C%20oz%3A%22oofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ts%3A%22tofs%22%2C%20tt%3A%22tofs%22%7D%2C%0A%20%20%20%20%20%20%20%20%20%20pos%20%20%20%20%20%3D%20%7Bx%3A0%2C%20y%3A1%2C%20z%3A2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20red%3A0%2C%20green%3A1%2C%20blue%3A2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alpha%3A3%2Cradii%3A0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nx%3A0%2C%20ny%3A1%2C%20nz%3A2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ox%3A0%2C%20oy%3A1%2C%20oz%3A2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ts%3A0%2C%20tt%3A1%7D%2C%0A%20%20%09%20%20%20%20values%20%3D%20control%2Evalues%2C%0A%09%09%20%20%20%20direct%20%3D%20values%20%3D%3D%3D%20null%2C%0A%09%09%20%20%20%20ncol%2C%0A%20%20%20%20%20%20%20%20interp%20%3D%20control%2Einterp%2C%0A%20%20%20%20%20%20%20%20vertices%20%3D%20%5B%5D%2Econcat%28control%2Evertices%29%2C%0A%20%20%20%20%20%20%20%20attributes%20%3D%20%5B%5D%2Econcat%28control%2Eattributes%29%2C%0A%20%20%20%20%20%20%20%20value%20%3D%20control%2Evalue%3B%0A%0A%20%20%20%20%20%20ncol%20%3D%20Math%2Emax%28vertices%2Elength%2C%20attributes%2Elength%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21ncol%29%0A%20%20%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20%20%20vertices%20%3D%20this%2ErepeatToLen%28vertices%2C%20ncol%29%3B%0A%20%20%20%20%20%20attributes%20%3D%20this%2ErepeatToLen%28attributes%2C%20ncol%29%3B%0A%0A%20%20%20%20%20%20if%20%28direct%29%0A%20%20%20%20%20%20%20%20interp%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%2F%2A%20JSON%20doesn%27t%20pass%20Infinity%20%2A%2F%0A%20%20%20%20%20%20svals%5B0%5D%20%3D%20%2DInfinity%3B%0A%20%20%20%20%20%20svals%5Bsvals%2Elength%20%2D%201%5D%20%3D%20Infinity%3B%0A%0A%20%20%20%20%20%20for%20%28j%20%3D%201%3B%20j%20%3C%20svals%2Elength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28value%20%3C%3D%20svals%5Bj%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28interp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28svals%5Bj%5D%20%3D%3D%3D%20Infinity%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%20%28svals%5Bj%5D%20%2D%20value%29%2F%28svals%5Bj%5D%20%2D%20svals%5Bj%2D1%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28svals%5Bj%5D%20%2D%20value%20%3E%20value%20%2D%20svals%5Bj%2D1%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%20j%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28control%2Eobjid%29%3B%0A%20%20%20%20%20%20propvals%20%3D%20obj%2Evalues%3B%0A%20%20%20%20%20%20for%20%28k%3D0%3B%20k%3Cncol%3B%20k%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20attrib%20%3D%20attributes%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20vertex%20%3D%20vertices%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20ofs%20%3D%20obj%2EvOffsets%5Bofss%5Battrib%5D%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28ofs%20%3C%200%29%0A%20%20%20%20%20%20%20%20%20%20this%2EalertOnce%28%22Attribute%20%27%22%2Battrib%2B%22%27%20not%20found%20in%20object%20%22%2Bcontrol%2Eobjid%29%3B%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20stride%20%3D%20obj%2EvOffsets%2Estride%3B%0A%20%20%20%20%20%20%20%20%20%20ofs%20%3D%20vertex%2Astride%20%2B%20ofs%20%2B%20pos%5Battrib%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28direct%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20propvals%5Bofs%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28interp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20propvals%5Bofs%5D%20%3D%20p%2Avalues%5Bj%2D1%5D%5Bk%5D%20%2B%20%281%2Dp%29%2Avalues%5Bj%5D%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20propvals%5Bofs%5D%20%3D%20values%5Bj%5D%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20obj%2Ebuf%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20var%20gl%20%3D%20this%2Egl%3B%0A%20%20%20%20%20%20%20%20gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20obj%2Ebuf%29%3B%0A%20%20%20%20%20%20%20%20gl%2EbufferData%28gl%2EARRAY%5FBUFFER%2C%20propvals%2C%20gl%2ESTATIC%5FDRAW%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EageSetter%20%3D%20function%28el%2C%20control%29%20%7B%0A%20%20%20%20%20%20var%20objids%20%3D%20%5B%5D%2Econcat%28control%2Eobjids%29%2C%0A%20%20%20%20%20%20%20%20%20%20nobjs%20%3D%20objids%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20time%20%3D%20control%2Evalue%2C%0A%20%20%20%20%20%20%20%20%20%20births%20%3D%20%5B%5D%2Econcat%28control%2Ebirths%29%2C%0A%20%20%20%20%20%20%20%20%20%20ages%20%3D%20%5B%5D%2Econcat%28control%2Eages%29%2C%0A%20%20%20%20%20%20%20%20%20%20steps%20%3D%20births%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20j%20%3D%20Array%28steps%29%2C%0A%20%20%20%20%20%20%20%20%20%20p%20%3D%20Array%28steps%29%2C%0A%20%20%20%20%20%20%20%20%20%20i%2C%20k%2C%20age%2C%20j0%2C%20propvals%2C%20stride%2C%20ofs%2C%20objid%2C%20obj%2C%0A%20%20%20%20%20%20%20%20%20%20attrib%2C%20dim%2C%0A%20%20%20%20%20%20%20%20%20%20attribs%20%3D%20%5B%22colors%22%2C%20%22alpha%22%2C%20%22radii%22%2C%20%22vertices%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22normals%22%2C%20%22origins%22%2C%20%22texcoords%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22x%22%2C%20%22y%22%2C%20%22z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22red%22%2C%20%22green%22%2C%20%22blue%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20ofss%20%20%20%20%3D%20%5B%22cofs%22%2C%20%22cofs%22%2C%20%22radofs%22%2C%20%22vofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22nofs%22%2C%20%22oofs%22%2C%20%22tofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22vofs%22%2C%20%22vofs%22%2C%20%22vofs%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cofs%22%2C%20%22cofs%22%2C%20%22cofs%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20dims%20%20%20%20%3D%20%5B3%2C1%2C1%2C3%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%203%2C2%2C2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201%2C1%2C1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201%2C1%2C1%5D%2C%0A%20%20%20%20%20%20%20%20%20%20pos%20%20%20%20%20%3D%20%5B0%2C3%2C0%2C0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C0%2C0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C1%2C2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%200%2C1%2C2%5D%3B%0A%20%20%20%20%20%20%2F%2A%20Infinity%20doesn%27t%20make%20it%20through%20JSON%20%2A%2F%0A%20%20%20%20%20%20ages%5B0%5D%20%3D%20%2DInfinity%3B%0A%20%20%20%20%20%20ages%5Bages%2Elength%2D1%5D%20%3D%20Infinity%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20steps%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28births%5Bi%5D%20%21%3D%3D%20null%29%20%7B%20%20%2F%2F%20NA%20in%20R%20becomes%20null%0A%20%20%20%20%20%20%20%20%20%20age%20%3D%20time%20%2D%20births%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28j0%20%3D%201%3B%20age%20%3E%20ages%5Bj0%5D%3B%20j0%2B%2B%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28ages%5Bj0%5D%20%3D%3D%20Infinity%29%0A%20%20%20%20%20%20%20%20%20%20%20%20p%5Bi%5D%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20else%20if%20%28ages%5Bj0%5D%20%3E%20ages%5Bj0%2D1%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20p%5Bi%5D%20%3D%20%28ages%5Bj0%5D%20%2D%20age%29%2F%28ages%5Bj0%5D%20%2D%20ages%5Bj0%2D1%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20p%5Bi%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20j%5Bi%5D%20%3D%20j0%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28l%20%3D%200%3B%20l%20%3C%20nobjs%3B%20l%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20objid%20%3D%20objids%5Bl%5D%3B%0A%20%20%20%20%20%20%20%20obj%20%3D%20this%2EgetObj%28objid%29%3B%0A%20%20%20%20%20%20%20%20propvals%20%3D%20obj%2Evalues%3B%0A%20%20%20%20%20%20%20%20stride%20%3D%20obj%2EvOffsets%2Estride%3B%0A%20%20%20%20%20%20%20%20for%20%28k%20%3D%200%3B%20k%20%3C%20attribs%2Elength%3B%20k%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20attrib%20%3D%20control%5Battribs%5Bk%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20attrib%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ofs%20%3D%20obj%2EvOffsets%5Bofss%5Bk%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ofs%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dim%20%3D%20dims%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ofs%20%3D%20ofs%20%2B%20pos%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20steps%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28births%5Bi%5D%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28d%3D0%3B%20d%20%3C%20dim%3B%20d%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20propvals%5Bi%2Astride%20%2B%20ofs%20%2B%20d%5D%20%3D%20p%5Bi%5D%2Aattrib%5Bdim%2A%28j%5Bi%5D%2D1%29%20%2B%20d%5D%20%2B%20%281%2Dp%5Bi%5D%29%2Aattrib%5Bdim%2Aj%5Bi%5D%20%2B%20d%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EalertOnce%28%22%5C%27%22%2Battribs%5Bk%5D%2B%22%5C%27%20property%20not%20found%20in%20object%20%22%2Bobjid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20obj%2Evalues%20%3D%20propvals%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20obj%2Ebuf%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20gl%20%3D%20this%2Egl%3B%0A%20%20%20%20%20%20%20%20%20%20gl%2EbindBuffer%28gl%2EARRAY%5FBUFFER%2C%20obj%2Ebuf%29%3B%0A%20%20%20%20%20%20%20%20%20%20gl%2EbufferData%28gl%2EARRAY%5FBUFFER%2C%20obj%2Evalues%2C%20gl%2ESTATIC%5FDRAW%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%09%09%7D%3B%0A%0A%09%09this%2EoldBridge%20%3D%20function%28el%2C%20control%29%20%7B%0A%09%09%20%20var%20attrname%2C%20global%20%3D%20window%5Bcontrol%2Eprefix%20%2B%20%22rgl%22%5D%3B%0A%09%09%20%20if%20%28typeof%20global%20%21%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20%20%20for%20%28attrname%20in%20global%29%0A%20%20%20%20%20%20%20%20%20%20this%5Battrname%5D%20%3D%20global%5Battrname%5D%3B%0A%20%20%20%20%20%20window%5Bcontrol%2Eprefix%20%2B%20%22rgl%22%5D%20%3D%20this%3B%0A%09%09%7D%3B%0A%0A%09%09this%2EPlayer%20%3D%20function%28el%2C%20control%29%20%7B%0A%09%09%20%20var%0A%09%09%20%20%20%20self%20%3D%20this%2C%0A%09%09%20%20%20%20components%20%3D%20%5B%5D%2Econcat%28control%2Ecomponents%29%2C%0A%0A%09%09%20%20%20%20Tick%20%3D%20function%28%29%20%7B%20%2F%2A%20%22this%22%20will%20be%20a%20timer%20%2A%2F%0A%09%09%20%20%20%20%20%20var%20i%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20nominal%20%3D%20this%2Evalue%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20slider%20%3D%20this%2ESlider%2C%0A%09%09%20%20%20%20%20%20%09%20%20labels%20%3D%20this%2EoutputLabels%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20output%20%3D%20this%2EOutput%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20step%3B%0A%09%09%20%20%20%20%20%20if%20%28typeof%20slider%20%21%3D%3D%20%22undefined%22%20%26%26%20nominal%20%21%3D%20slider%2Evalue%29%0A%09%09%20%20%20%20%20%20%20%20slider%2Evalue%20%3D%20nominal%3B%0A%09%09%20%20%20%20%20%20if%20%28typeof%20output%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20%20%20%20%20step%20%3D%20Math%2Eround%28%28nominal%20%2D%20output%2EsliderMin%29%2Foutput%2EsliderStep%29%3B%0A%09%09%20%20%20%20%20%20%20%20if%20%28labels%20%21%3D%3D%20null%29%20%7B%0A%09%09%20%20%20%20%20%20%20%20%20%20output%2EinnerHTML%20%3D%20labels%5Bstep%5D%3B%0A%09%09%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%09%09%20%20%20%20%20%20%20%20%20%20step%20%3D%20step%2Aoutput%2EsliderStep%20%2B%20output%2EsliderMin%3B%0A%09%09%20%20%20%20%20%20%20%20%20%20output%2EinnerHTML%20%3D%20step%2EtoPrecision%28output%2EoutputPrecision%29%3B%0A%09%09%20%20%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20%20%20for%20%28i%3D0%3B%20i%20%3C%20this%2Eactions%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20%20%20%20%20this%2Eactions%5Bi%5D%2Evalue%20%3D%20nominal%3B%0A%09%09%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20%20%20self%2EapplyControls%28el%2C%20this%2Eactions%2C%20false%29%3B%0A%09%09%20%20%20%20%20%20self%2EdrawScene%28%29%3B%0A%09%09%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20OnSliderInput%20%3D%20function%28%29%20%7B%20%2F%2A%20%22this%22%20will%20be%20the%20slider%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20this%2Ergltimer%2Evalue%20%3D%20Number%28this%2Evalue%29%3B%0A%09%09%20%20%20%20%20%20this%2Ergltimer%2ETick%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%09%09%20%20%20%20addSlider%20%3D%20function%28min%2C%20max%2C%20step%2C%20value%29%20%7B%0A%09%09%20%20%20%20%20%20var%20slider%20%3D%20document%2EcreateElement%28%22input%22%29%3B%0A%09%09%20%20%20%20%20%20slider%2Etype%20%3D%20%22range%22%3B%0A%09%09%20%20%20%20%20%20slider%2Emin%20%3D%20min%3B%0A%09%09%20%20%20%20%20%20slider%2Emax%20%3D%20max%3B%0A%09%09%20%20%20%20%20%20slider%2Estep%20%3D%20step%3B%0A%09%09%20%20%20%20%20%20slider%2Evalue%20%3D%20value%3B%0A%09%09%20%20%20%20%20%20slider%2Eoninput%20%3D%20OnSliderInput%3B%0A%09%09%20%20%20%20%20%20slider%2EsliderActions%20%3D%20control%2Eactions%3B%0A%09%09%20%20%20%20%20%20slider%2EsliderScene%20%3D%20this%3B%0A%09%09%20%20%20%20%20%20slider%2EclassName%20%3D%20%22rgl%2Dslider%22%3B%0A%09%09%20%20%20%20%20%20slider%2Eid%20%3D%20el%2Eid%20%2B%20%22%2Dslider%22%3B%0A%09%09%20%20%20%20%20%20el%2Ergltimer%2ESlider%20%3D%20slider%3B%0A%09%09%20%20%20%20%20%20slider%2Ergltimer%20%3D%20el%2Ergltimer%3B%0A%09%09%20%20%20%20%20%20el%2EappendChild%28slider%29%3B%0A%09%09%20%20%20%20%7D%2C%0A%0A%09%09%20%20%20%20addLabel%20%3D%20function%28labels%2C%20min%2C%20step%2C%20precision%29%20%7B%0A%09%09%20%20%20%20%20%20var%20output%20%3D%20document%2EcreateElement%28%22output%22%29%3B%0A%09%09%20%20%20%20%20%20output%2EsliderMin%20%3D%20min%3B%0A%09%09%20%20%20%20%20%20output%2EsliderStep%20%3D%20step%3B%0A%09%09%20%20%20%20%20%20output%2EoutputPrecision%20%3D%20precision%3B%0A%09%09%20%20%20%20%20%20output%2EclassName%20%3D%20%22rgl%2Dlabel%22%3B%0A%09%09%20%20%20%20%20%20output%2Eid%20%3D%20el%2Eid%20%2B%20%22%2Dlabel%22%3B%0A%09%09%20%20%20%20%20%20el%2Ergltimer%2EOutput%20%3D%20output%3B%0A%09%09%20%20%20%20%20%20el%2Ergltimer%2EoutputLabels%20%3D%20labels%3B%0A%09%09%20%20%20%20%20%20el%2EappendChild%28output%29%3B%0A%09%09%20%20%20%20%7D%2C%0A%0A%09%09%20%20%20%20addButton%20%3D%20function%28label%29%20%7B%0A%09%09%20%20%20%20%20%20var%20button%20%3D%20document%2EcreateElement%28%22input%22%29%2C%0A%09%09%20%20%20%20%20%20%09%09onclicks%20%3D%20%7BReverse%3A%20function%28%29%20%7B%20this%2Ergltimer%2Ereverse%28%29%3B%7D%2C%0A%09%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Play%3A%20function%28%29%20%7B%20this%2Ergltimer%2Eplay%28%29%3B%0A%09%20%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Evalue%20%3D%20this%2Ergltimer%2Eenabled%20%3F%20%22Pause%22%20%3A%20%22Play%22%3B%20%7D%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Slower%3A%20function%28%29%20%7B%20this%2Ergltimer%2Eslower%28%29%3B%20%7D%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Faster%3A%20function%28%29%20%7B%20this%2Ergltimer%2Efaster%28%29%3B%20%7D%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Reset%3A%20function%28%29%20%7B%20this%2Ergltimer%2Ereset%28%29%3B%20%7D%7D%3B%0A%09%09%20%20%20%20%20%20button%2Ergltimer%20%3D%20el%2Ergltimer%3B%0A%09%09%20%20%20%20%20%20button%2Etype%20%3D%20%22button%22%3B%0A%09%09%20%20%20%20%20%20button%2Evalue%20%3D%20label%3B%0A%09%09%20%20%20%20%20%20if%20%28label%20%3D%3D%3D%20%22Play%22%29%0A%09%09%20%20%20%20%20%20%20%20button%2Ergltimer%2EPlayButton%20%3D%20button%3B%0A%09%09%20%20%20%20%20%20button%2Eonclick%20%3D%20onclicks%5Blabel%5D%3B%0A%09%09%20%20%20%20%20%20button%2EclassName%20%3D%20%22rgl%2Dbutton%22%3B%0A%09%09%20%20%20%20%20%20button%2Eid%20%3D%20el%2Eid%20%2B%20%22%2D%22%20%2B%20label%3B%0A%20%20%20%20%20%20%20%20%20%20el%2EappendChild%28button%29%3B%0A%09%09%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20control%2Ereinit%20%21%3D%3D%20%22null%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20control%2Eactions%2Ereinit%20%3D%20control%2Ereinit%3B%0A%20%20%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20el%2Ergltimer%20%3D%20new%20rgltimerClass%28Tick%2C%20control%2Estart%2C%20control%2Einterval%2C%20control%2Estop%2C%20control%2Evalue%2C%20control%2Erate%2C%20control%2Eloop%2C%20control%2Eactions%29%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%3D0%3B%20i%20%3C%20components%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20switch%28components%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%22Slider%22%3A%20addSlider%28control%2Estart%2C%20control%2Estop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20control%2Estep%2C%20control%2Evalue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%22Label%22%3A%20addLabel%28control%2Elabels%2C%20control%2Estart%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20control%2Estep%2C%20control%2Eprecision%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20addButton%28components%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20el%2Ergltimer%2ETick%28%29%3B%0A%09%09%7D%3B%0A%0A%09%09this%2EapplyControls%20%3D%20function%28el%2C%20x%2C%20draw%29%20%7B%0A%09%09%20%20var%20self%20%3D%20this%2C%20reinit%20%3D%20x%2Ereinit%2C%20i%2C%20obj%2C%20control%2C%20type%3B%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20x%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20control%20%3D%20x%5Bi%5D%3B%0A%09%09%20%20%20%20type%20%3D%20control%2Etype%3B%0A%09%09%20%20%20%20self%5Btype%5D%28el%2C%20control%29%3B%0A%09%09%20%20%7D%3B%0A%09%09%20%20if%20%28typeof%20reinit%20%21%3D%3D%20%22undefined%22%20%26%26%20reinit%20%21%3D%3D%20null%29%20%7B%0A%09%09%20%20%20%20reinit%20%3D%20%5B%5D%2Econcat%28reinit%29%3B%0A%09%09%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20reinit%2Elength%3B%20i%2B%2B%29%0A%09%09%20%20%20%20%20%20self%2EgetObj%28reinit%5Bi%5D%29%2Einitialized%20%3D%20false%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20draw%20%3D%3D%3D%20%22undefined%22%20%7C%7C%20draw%29%0A%09%09%20%20%20%20self%2EdrawScene%28%29%3B%0A%09%09%7D%3B%0A%0A%09%09this%2EsceneChangeHandler%20%3D%20function%28message%29%20%7B%0A%09%09%20%20var%20self%20%3D%20document%2EgetElementById%28message%2EelementId%29%2Erglinstance%2C%0A%09%09%20%20%20%20%20%20objs%20%3D%20message%2Eobjects%2C%20mat%20%3D%20message%2Ematerial%2C%0A%09%09%20%20%20%20%20%20root%20%3D%20message%2ErootSubscene%2C%0A%09%09%20%20%20%20%20%20initSubs%20%3D%20message%2EinitSubscenes%2C%0A%09%09%20%20%20%20%20%20redraw%20%3D%20message%2EredrawScene%2C%0A%09%09%20%20%20%20%20%20skipRedraw%20%3D%20message%2EskipRedraw%2C%0A%09%09%20%20%20%20%20%20deletes%2C%20subs%2C%20allsubs%20%3D%20%5B%5D%2C%20obj%2C%20i%2Cj%3B%0A%09%09%20%20if%20%28typeof%20message%2Edelete%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20deletes%20%3D%20%5B%5D%2Econcat%28message%2Edelete%29%3B%0A%09%09%20%20%20%20if%20%28typeof%20message%2EdelfromSubscenes%20%21%3D%3D%20%22undefined%22%29%0A%09%09%20%20%20%20%20%20subs%20%3D%20%5B%5D%2Econcat%28message%2EdelfromSubscenes%29%3B%0A%09%09%20%20%20%20else%0A%09%09%20%20%20%20%20%20subs%20%3D%20%5B%5D%3B%0A%09%09%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20deletes%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20%20%20for%20%28j%20%3D%200%3B%20j%20%3C%20subs%2Elength%3B%20j%2B%2B%29%20%7B%0A%09%09%20%20%20%20%20%20%20%20self%2EdelFromSubscene%28deletes%5Bi%5D%2C%20subs%5Bj%5D%29%3B%0A%09%09%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20%20%20delete%20self%2Escene%2Eobjects%5Bdeletes%5Bi%5D%5D%3B%0A%09%09%20%20%20%20%7D%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20objs%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20Object%2Ekeys%28objs%29%2EforEach%28function%28key%29%7B%0A%09%09%20%20%20%20%20%20key%20%3D%20parseInt%28key%2C%2010%29%3B%0A%09%09%20%20%20%20%20%20self%2Escene%2Eobjects%5Bkey%5D%20%3D%20objs%5Bkey%5D%3B%0A%09%09%20%20%20%20%20%20self%2EinitObj%28key%29%3B%0A%09%09%20%20%20%20%20%20var%20obj%20%3D%20self%2EgetObj%28key%29%2C%0A%09%09%20%20%20%20%20%20%20%20%20%20subs%20%3D%20%5B%5D%2Econcat%28obj%2EinSubscenes%29%2C%20k%3B%0A%09%09%20%20%20%20%20%20allsubs%20%3D%20allsubs%2Econcat%28subs%29%3B%0A%09%09%20%20%20%20%20%20for%20%28k%20%3D%200%3B%20k%20%3C%20subs%2Elength%3B%20k%2B%2B%29%0A%09%09%20%20%20%20%20%20%20%20self%2EaddToSubscene%28key%2C%20subs%5Bk%5D%29%3B%0A%09%09%20%20%20%20%7D%29%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20mat%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20self%2Escene%2Ematerial%20%3D%20mat%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20root%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20self%2Escene%2ErootSubscene%20%3D%20root%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20initSubs%20%21%3D%3D%20%22undefined%22%29%0A%09%09%20%20%20%20allsubs%20%3D%20allsubs%2Econcat%28initSubs%29%3B%0A%09%09%20%20allsubs%20%3D%20self%2Eunique%28allsubs%29%3B%0A%09%09%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20allsubs%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%20%20%20%20self%2EinitSubscene%28allsubs%5Bi%5D%29%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28typeof%20skipRedraw%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09%20%20%20%20root%20%3D%20self%2EgetObj%28self%2Escene%2ErootSubscene%29%3B%0A%09%09%20%20%20%20root%2Epar3d%2EskipRedraw%20%3D%20skipRedraw%3B%0A%09%09%20%20%7D%0A%09%09%20%20if%20%28redraw%29%0A%09%20%20%20%20%20%20self%2EdrawScene%28%29%3B%0A%09%09%7D%3B%0A%7D%29%2Ecall%28rglwidgetClass%2Eprototype%29%3B%0A%0ArgltimerClass%20%3D%20function%28Tick%2C%20startTime%2C%20interval%2C%20stopTime%2C%20value%2C%20rate%2C%20loop%2C%20actions%29%20%7B%0A%20%20this%2Eenabled%20%3D%20false%3B%0A%20%20this%2EtimerId%20%3D%200%3B%0A%20%20this%2EstartTime%20%3D%20startTime%3B%20%20%20%20%20%20%20%20%20%2F%2A%20nominal%20start%20time%20in%20seconds%20%2A%2F%0A%20%20this%2Evalue%20%3D%20value%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20current%20nominal%20time%20%2A%2F%0A%20%20this%2Einterval%20%3D%20interval%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20seconds%20between%20updates%20%2A%2F%0A%20%20this%2EstopTime%20%3D%20stopTime%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20nominal%20stop%20time%20%2A%2F%0A%20%20this%2Erate%20%3D%20rate%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20nominal%20units%20per%20second%20%2A%2F%0A%20%20this%2Eloop%20%3D%20loop%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20%22none%22%2C%20%22cycle%22%2C%20or%20%22oscillate%22%20%2A%2F%0A%20%20this%2ErealStart%20%3D%20undefined%3B%20%20%20%20%20%20%20%20%20%2F%2A%20real%20world%20start%20time%20%2A%2F%0A%20%20this%2Emultiplier%20%3D%201%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20multiplier%20for%20fast%2Dforward%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20or%20reverse%20%2A%2F%0A%20%20this%2Eactions%20%3D%20actions%3B%0A%20%20this%2ETick%20%3D%20Tick%3B%0A%7D%3B%0A%0A%28function%28%29%20%7B%0A%0A%20%20this%2Eplay%20%3D%20function%28%29%20%7B%0A%20%20%20%20if%20%28this%2Eenabled%29%20%7B%0A%20%20%20%20%20%20this%2Eenabled%20%3D%20false%3B%0A%20%20%20%20%20%20window%2EclearInterval%28this%2EtimerId%29%3B%0A%20%20%20%20%20%20this%2EtimerId%20%3D%200%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20tick%20%3D%20function%28self%29%20%7B%0A%20%20%20%20%20%20var%20now%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20self%2Evalue%20%3D%20self%2Emultiplier%2Aself%2Erate%2A%28now%20%2D%20self%2ErealStart%29%2F1000%20%2B%20self%2EstartTime%3B%0A%20%20%20%20%20%20if%20%28self%2Evalue%20%3E%20self%2EstopTime%20%7C%7C%20self%2Evalue%20%3C%20self%2EstartTime%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21self%2Eloop%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20self%2Ereset%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20cycle%20%3D%20self%2EstopTime%20%2D%20self%2EstartTime%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newval%20%3D%20%28self%2Evalue%20%2D%20self%2EstartTime%29%20%25%20cycle%20%2B%20self%2EstartTime%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28newval%20%3C%20self%2EstartTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newval%20%2B%3D%20cycle%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20self%2ErealStart%20%2B%3D%20%28self%2Evalue%20%2D%20newval%29%2A1000%2Fself%2Emultiplier%2Fself%2Erate%3B%0A%20%20%20%20%20%20%20%20%20%20self%2Evalue%20%3D%20newval%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20self%2ETick%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20self%2ETick%28self%2Evalue%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%20%20%20%20this%2ErealStart%20%3D%20new%20Date%28%29%20%2D%201000%2A%28this%2Evalue%20%2D%20this%2EstartTime%29%2Fthis%2Erate%2Fthis%2Emultiplier%3B%0A%20%20%20%20this%2EtimerId%20%3D%20window%2EsetInterval%28tick%2C%201000%2Athis%2Einterval%2C%20this%29%3B%0A%20%20%20%20this%2Eenabled%20%3D%20true%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Ereset%20%3D%20function%28%29%20%7B%0A%20%20%20%20this%2Evalue%20%3D%20this%2EstartTime%3B%0A%20%20%20%20this%2Enewmultiplier%281%29%3B%0A%20%20%20%20if%20%28typeof%20this%2ETick%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20this%2ETick%28this%2Evalue%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2Eenabled%29%0A%20%20%20%20%20%20this%2Eplay%28%29%3B%20%20%2F%2A%20really%20pause%2E%2E%2E%20%2A%2F%0A%20%20%20%20if%20%28typeof%20this%2EPlayButton%20%21%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20this%2EPlayButton%2Evalue%20%3D%20%22Play%22%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Efaster%20%3D%20function%28%29%20%7B%0A%20%20%20%20this%2Enewmultiplier%28Math%2ESQRT2%2Athis%2Emultiplier%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Eslower%20%3D%20function%28%29%20%7B%0A%20%20%20%20this%2Enewmultiplier%28this%2Emultiplier%2FMath%2ESQRT2%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Ereverse%20%3D%20function%28%29%20%7B%0A%20%20%20%20this%2Enewmultiplier%28%2Dthis%2Emultiplier%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Enewmultiplier%20%3D%20function%28newmult%29%20%7B%0A%20%20%20%20if%20%28newmult%20%21%3D%20this%2Emultiplier%29%20%7B%0A%20%20%20%20%20%20this%2ErealStart%20%2B%3D%201000%2A%28this%2Evalue%20%2D%20this%2EstartTime%29%2Fthis%2Erate%2A%281%2Fthis%2Emultiplier%20%2D%201%2Fnewmult%29%3B%0A%20%20%20%20%20%20this%2Emultiplier%20%3D%20newmult%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%7D%29%2Ecall%28rgltimerClass%2Eprototype%29%3B%0A"></script>
<script src="data:application/x-javascript,%2F%2A%0A%20%2A%20Copyright%20%28C%29%202009%20Apple%20Inc%2E%20All%20Rights%20Reserved%2E%0A%20%2A%0A%20%2A%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%2A%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%0A%20%2A%20are%20met%3A%0A%20%2A%201%2E%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%0A%20%2A%20%20%20%20notice%2C%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%2A%202%2E%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%0A%20%2A%20%20%20%20notice%2C%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%0A%20%2A%20%20%20%20documentation%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%2A%0A%20%2A%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20APPLE%20INC%2E%20%60%60AS%20IS%27%27%20AND%20ANY%0A%20%2A%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%2A%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%0A%20%2A%20PURPOSE%20ARE%20DISCLAIMED%2E%20%20IN%20NO%20EVENT%20SHALL%20APPLE%20INC%2E%20OR%0A%20%2A%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%0A%20%2A%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%0A%20%2A%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%20DATA%2C%20OR%0A%20%2A%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%2A%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%0A%20%2A%20%28INCLUDING%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%0A%20%2A%20OF%20THIS%20SOFTWARE%2C%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%20%0A%20%2A%2F%0A%2F%2A%0A%20%20%20%20CanvasMatrix4%20class%0A%20%20%20%20%0A%20%20%20%20This%20class%20implements%20a%204x4%20matrix%2E%20It%20has%20functions%20which%0A%20%20%20%20duplicate%20the%20functionality%20of%20the%20OpenGL%20matrix%20stack%20and%0A%20%20%20%20glut%20functions%2E%0A%20%20%20%20%0A%20%20%20%20IDL%3A%0A%20%20%20%20%0A%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20Constructor%28in%20CanvasMatrix4%20matrix%29%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20copy%20passed%20matrix%20into%20new%20CanvasMatrix4%0A%20%20%20%20%20%20%20%20Constructor%28in%20sequence%3Cfloat%3E%20array%29%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20create%20new%20CanvasMatrix4%20with%2016%20floats%20%28row%20major%29%0A%20%20%20%20%20%20%20%20Constructor%28%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20create%20new%20CanvasMatrix4%20with%20identity%20matrix%0A%20%20%20%20%5D%0A%20%20%20%20interface%20CanvasMatrix4%20%7B%0A%20%20%20%20%20%20%20%20attribute%20float%20m11%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m12%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m13%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m14%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m21%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m22%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m23%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m24%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m31%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m32%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m33%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m34%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m41%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m42%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m43%3B%0A%20%20%20%20%20%20%20%20attribute%20float%20m44%3B%0A%0A%20%20%20%20%20%20%20%20void%20load%28in%20CanvasMatrix4%20matrix%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20copy%20the%20values%20from%20the%20passed%20matrix%0A%20%20%20%20%20%20%20%20void%20load%28in%20sequence%3Cfloat%3E%20array%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20copy%2016%20floats%20into%20the%20matrix%0A%20%20%20%20%20%20%20%20sequence%3Cfloat%3E%20getAsArray%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20return%20the%20matrix%20as%20an%20array%20of%2016%20floats%0A%20%20%20%20%20%20%20%20WebGLFloatArray%20getAsCanvasFloatArray%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20return%20the%20matrix%20as%20a%20WebGLFloatArray%20with%2016%20values%0A%20%20%20%20%20%20%20%20void%20makeIdentity%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20replace%20the%20matrix%20with%20identity%0A%20%20%20%20%20%20%20%20void%20transpose%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20replace%20the%20matrix%20with%20its%20transpose%0A%20%20%20%20%20%20%20%20void%20invert%28%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20replace%20the%20matrix%20with%20its%20inverse%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20void%20translate%28in%20float%20x%2C%20in%20float%20y%2C%20in%20float%20z%29%3B%20%2F%2F%20multiply%20the%20matrix%20by%20passed%20translation%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20void%20scale%28in%20float%20x%2C%20in%20float%20y%2C%20in%20float%20z%29%3B%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20passed%20scale%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20void%20rotate%28in%20float%20angle%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20passed%20rotation%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20x%2C%20in%20float%20y%2C%20in%20float%20z%29%3B%20%20%20%20%2F%2F%20%28angle%20is%20in%20degrees%29%0A%20%20%20%20%20%20%20%20void%20multRight%28in%20CanvasMatrix%20matrix%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20matrix%20on%20the%20right%0A%20%20%20%20%20%20%20%20void%20multLeft%28in%20CanvasMatrix%20matrix%29%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20matrix%20on%20the%20left%0A%20%20%20%20%20%20%20%20void%20ortho%28in%20float%20left%2C%20in%20float%20right%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20ortho%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20bottom%2C%20in%20float%20top%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20near%2C%20in%20float%20far%29%3B%0A%20%20%20%20%20%20%20%20void%20frustum%28in%20float%20left%2C%20in%20float%20right%2C%20%20%20%20%20%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20frustum%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20bottom%2C%20in%20float%20top%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20near%2C%20in%20float%20far%29%3B%0A%20%20%20%20%20%20%20%20void%20perspective%28in%20float%20fovy%2C%20in%20float%20aspect%2C%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20perspective%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20zNear%2C%20in%20float%20zFar%29%3B%0A%20%20%20%20%20%20%20%20void%20lookat%28in%20float%20eyex%2C%20in%20float%20eyey%2C%20in%20float%20eyez%2C%20%20%20%20%2F%2F%20multiply%20the%20matrix%20by%20the%20passed%20lookat%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20ctrx%2C%20in%20float%20ctry%2C%20in%20float%20ctrz%2C%20%20%20%20%2F%2F%20values%20on%20the%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in%20float%20upx%2C%20in%20float%20upy%2C%20in%20float%20upz%29%3B%0A%20%20%20%20%7D%0A%2A%2F%0A%0ACanvasMatrix4%20%3D%20function%28m%29%0A%7B%0A%20%20%20%20if%20%28typeof%20m%20%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%22length%22%20in%20m%20%26%26%20m%2Elength%20%3E%3D%2016%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eload%28m%5B0%5D%2C%20m%5B1%5D%2C%20m%5B2%5D%2C%20m%5B3%5D%2C%20m%5B4%5D%2C%20m%5B5%5D%2C%20m%5B6%5D%2C%20m%5B7%5D%2C%20m%5B8%5D%2C%20m%5B9%5D%2C%20m%5B10%5D%2C%20m%5B11%5D%2C%20m%5B12%5D%2C%20m%5B13%5D%2C%20m%5B14%5D%2C%20m%5B15%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28m%20instanceof%20CanvasMatrix4%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eload%28m%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20this%2EmakeIdentity%28%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Eload%20%3D%20function%28%29%0A%7B%0A%20%20%20%20if%20%28arguments%2Elength%20%3D%3D%201%20%26%26%20typeof%20arguments%5B0%5D%20%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20var%20matrix%20%3D%20arguments%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28%22length%22%20in%20matrix%20%26%26%20matrix%2Elength%20%3D%3D%2016%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em11%20%3D%20matrix%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em12%20%3D%20matrix%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em13%20%3D%20matrix%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em14%20%3D%20matrix%5B3%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em21%20%3D%20matrix%5B4%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em22%20%3D%20matrix%5B5%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em23%20%3D%20matrix%5B6%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em24%20%3D%20matrix%5B7%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em31%20%3D%20matrix%5B8%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em32%20%3D%20matrix%5B9%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em33%20%3D%20matrix%5B10%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em34%20%3D%20matrix%5B11%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em41%20%3D%20matrix%5B12%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em42%20%3D%20matrix%5B13%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em43%20%3D%20matrix%5B14%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em44%20%3D%20matrix%5B15%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20%28arguments%5B0%5D%20instanceof%20CanvasMatrix4%29%20%7B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em11%20%3D%20matrix%2Em11%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em12%20%3D%20matrix%2Em12%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em13%20%3D%20matrix%2Em13%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em14%20%3D%20matrix%2Em14%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em21%20%3D%20matrix%2Em21%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em22%20%3D%20matrix%2Em22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em23%20%3D%20matrix%2Em23%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em24%20%3D%20matrix%2Em24%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em31%20%3D%20matrix%2Em31%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em32%20%3D%20matrix%2Em32%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em33%20%3D%20matrix%2Em33%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em34%20%3D%20matrix%2Em34%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em41%20%3D%20matrix%2Em41%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em42%20%3D%20matrix%2Em42%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em43%20%3D%20matrix%2Em43%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Em44%20%3D%20matrix%2Em44%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20this%2EmakeIdentity%28%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2EgetAsArray%20%3D%20function%28%29%0A%7B%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20this%2Em11%2C%20this%2Em12%2C%20this%2Em13%2C%20this%2Em14%2C%20%0A%20%20%20%20%20%20%20%20this%2Em21%2C%20this%2Em22%2C%20this%2Em23%2C%20this%2Em24%2C%20%0A%20%20%20%20%20%20%20%20this%2Em31%2C%20this%2Em32%2C%20this%2Em33%2C%20this%2Em34%2C%20%0A%20%20%20%20%20%20%20%20this%2Em41%2C%20this%2Em42%2C%20this%2Em43%2C%20this%2Em44%0A%20%20%20%20%5D%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2EgetAsWebGLFloatArray%20%3D%20function%28%29%0A%7B%0A%20%20%20%20return%20new%20WebGLFloatArray%28this%2EgetAsArray%28%29%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2EmakeIdentity%20%3D%20function%28%29%0A%7B%0A%20%20%20%20this%2Em11%20%3D%201%3B%0A%20%20%20%20this%2Em12%20%3D%200%3B%0A%20%20%20%20this%2Em13%20%3D%200%3B%0A%20%20%20%20this%2Em14%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em21%20%3D%200%3B%0A%20%20%20%20this%2Em22%20%3D%201%3B%0A%20%20%20%20this%2Em23%20%3D%200%3B%0A%20%20%20%20this%2Em24%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em31%20%3D%200%3B%0A%20%20%20%20this%2Em32%20%3D%200%3B%0A%20%20%20%20this%2Em33%20%3D%201%3B%0A%20%20%20%20this%2Em34%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em41%20%3D%200%3B%0A%20%20%20%20this%2Em42%20%3D%200%3B%0A%20%20%20%20this%2Em43%20%3D%200%3B%0A%20%20%20%20this%2Em44%20%3D%201%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Etranspose%20%3D%20function%28%29%0A%7B%0A%20%20%20%20var%20tmp%20%3D%20this%2Em12%3B%0A%20%20%20%20this%2Em12%20%3D%20this%2Em21%3B%0A%20%20%20%20this%2Em21%20%3D%20tmp%3B%0A%20%20%20%20%0A%20%20%20%20tmp%20%3D%20this%2Em13%3B%0A%20%20%20%20this%2Em13%20%3D%20this%2Em31%3B%0A%20%20%20%20this%2Em31%20%3D%20tmp%3B%0A%20%20%20%20%0A%20%20%20%20tmp%20%3D%20this%2Em14%3B%0A%20%20%20%20this%2Em14%20%3D%20this%2Em41%3B%0A%20%20%20%20this%2Em41%20%3D%20tmp%3B%0A%20%20%20%20%0A%20%20%20%20tmp%20%3D%20this%2Em23%3B%0A%20%20%20%20this%2Em23%20%3D%20this%2Em32%3B%0A%20%20%20%20this%2Em32%20%3D%20tmp%3B%0A%20%20%20%20%0A%20%20%20%20tmp%20%3D%20this%2Em24%3B%0A%20%20%20%20this%2Em24%20%3D%20this%2Em42%3B%0A%20%20%20%20this%2Em42%20%3D%20tmp%3B%0A%20%20%20%20%0A%20%20%20%20tmp%20%3D%20this%2Em34%3B%0A%20%20%20%20this%2Em34%20%3D%20this%2Em43%3B%0A%20%20%20%20this%2Em43%20%3D%20tmp%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Einvert%20%3D%20function%28%29%0A%7B%0A%20%20%20%20%2F%2F%20Calculate%20the%204x4%20determinant%0A%20%20%20%20%2F%2F%20If%20the%20determinant%20is%20zero%2C%20%0A%20%20%20%20%2F%2F%20then%20the%20inverse%20matrix%20is%20not%20unique%2E%0A%20%20%20%20var%20det%20%3D%20this%2E%5Fdeterminant4x4%28%29%3B%0A%0A%20%20%20%20if%20%28Math%2Eabs%28det%29%20%3C%201e%2D8%29%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%0A%20%20%20%20this%2E%5FmakeAdjoint%28%29%3B%0A%0A%20%20%20%20%2F%2F%20Scale%20the%20adjoint%20matrix%20to%20get%20the%20inverse%0A%20%20%20%20this%2Em11%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em12%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em13%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em14%20%2F%3D%20det%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em21%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em22%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em23%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em24%20%2F%3D%20det%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em31%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em32%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em33%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em34%20%2F%3D%20det%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em41%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em42%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em43%20%2F%3D%20det%3B%0A%20%20%20%20this%2Em44%20%2F%3D%20det%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Etranslate%20%3D%20function%28x%2Cy%2Cz%29%0A%7B%0A%20%20%20%20if%20%28x%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20%20%20x%20%3D%200%3B%0A%20%20%20%20%20%20%20%20if%20%28y%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%200%3B%0A%20%20%20%20if%20%28z%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20%20%20z%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20var%20matrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20matrix%2Em41%20%3D%20x%3B%0A%20%20%20%20matrix%2Em42%20%3D%20y%3B%0A%20%20%20%20matrix%2Em43%20%3D%20z%3B%0A%0A%20%20%20%20this%2EmultRight%28matrix%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Escale%20%3D%20function%28x%2Cy%2Cz%29%0A%7B%0A%20%20%20%20if%20%28x%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20%20%20x%20%3D%201%3B%0A%20%20%20%20if%20%28z%20%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28y%20%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20z%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28y%20%3D%3D%20undefined%29%0A%20%20%20%20%20%20%20%20y%20%3D%20x%3B%0A%20%20%20%20%0A%20%20%20%20var%20matrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20matrix%2Em11%20%3D%20x%3B%0A%20%20%20%20matrix%2Em22%20%3D%20y%3B%0A%20%20%20%20matrix%2Em33%20%3D%20z%3B%0A%20%20%20%20%0A%20%20%20%20this%2EmultRight%28matrix%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Erotate%20%3D%20function%28angle%2Cx%2Cy%2Cz%29%0A%7B%0A%20%20%20%20%2F%2F%20angles%20are%20in%20degrees%2E%20Switch%20to%20radians%0A%20%20%20%20angle%20%3D%20angle%20%2F%20180%20%2A%20Math%2EPI%3B%0A%20%20%20%20%0A%20%20%20%20angle%20%2F%3D%202%3B%0A%20%20%20%20var%20sinA%20%3D%20Math%2Esin%28angle%29%3B%0A%20%20%20%20var%20cosA%20%3D%20Math%2Ecos%28angle%29%3B%0A%20%20%20%20var%20sinA2%20%3D%20sinA%20%2A%20sinA%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20normalize%0A%20%20%20%20var%20length%20%3D%20Math%2Esqrt%28x%20%2A%20x%20%2B%20y%20%2A%20y%20%2B%20z%20%2A%20z%29%3B%0A%20%20%20%20if%20%28length%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20bad%20vector%2C%20just%20use%20something%20reasonable%0A%20%20%20%20%20%20%20%20x%20%3D%200%3B%0A%20%20%20%20%20%20%20%20y%20%3D%200%3B%0A%20%20%20%20%20%20%20%20z%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28length%20%21%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20x%20%2F%3D%20length%3B%0A%20%20%20%20%20%20%20%20y%20%2F%3D%20length%3B%0A%20%20%20%20%20%20%20%20z%20%2F%3D%20length%3B%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20var%20mat%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%0A%20%20%20%20%2F%2F%20optimize%20case%20where%20axis%20is%20along%20major%20axis%0A%20%20%20%20if%20%28x%20%3D%3D%201%20%26%26%20y%20%3D%3D%200%20%26%26%20z%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20mat%2Em11%20%3D%201%3B%0A%20%20%20%20%20%20%20%20mat%2Em12%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em13%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em21%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em22%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em23%20%3D%202%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em31%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em32%20%3D%20%2D2%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em33%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em14%20%3D%20mat%2Em24%20%3D%20mat%2Em34%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em41%20%3D%20mat%2Em42%20%3D%20mat%2Em43%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em44%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28x%20%3D%3D%200%20%26%26%20y%20%3D%3D%201%20%26%26%20z%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20mat%2Em11%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em12%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em13%20%3D%20%2D2%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em21%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em22%20%3D%201%3B%0A%20%20%20%20%20%20%20%20mat%2Em23%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em31%20%3D%202%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em32%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em33%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em14%20%3D%20mat%2Em24%20%3D%20mat%2Em34%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em41%20%3D%20mat%2Em42%20%3D%20mat%2Em43%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em44%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28x%20%3D%3D%200%20%26%26%20y%20%3D%3D%200%20%26%26%20z%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20mat%2Em11%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em12%20%3D%202%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em13%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em21%20%3D%20%2D2%20%2A%20sinA%20%2A%20cosA%3B%0A%20%20%20%20%20%20%20%20mat%2Em22%20%3D%201%20%2D%202%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em23%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em31%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em32%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em33%20%3D%201%3B%0A%20%20%20%20%20%20%20%20mat%2Em14%20%3D%20mat%2Em24%20%3D%20mat%2Em34%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em41%20%3D%20mat%2Em42%20%3D%20mat%2Em43%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em44%20%3D%201%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20x2%20%3D%20x%2Ax%3B%0A%20%20%20%20%20%20%20%20var%20y2%20%3D%20y%2Ay%3B%0A%20%20%20%20%20%20%20%20var%20z2%20%3D%20z%2Az%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20mat%2Em11%20%3D%201%20%2D%202%20%2A%20%28y2%20%2B%20z2%29%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em12%20%3D%202%20%2A%20%28x%20%2A%20y%20%2A%20sinA2%20%2B%20z%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em13%20%3D%202%20%2A%20%28x%20%2A%20z%20%2A%20sinA2%20%2D%20y%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em21%20%3D%202%20%2A%20%28y%20%2A%20x%20%2A%20sinA2%20%2D%20z%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em22%20%3D%201%20%2D%202%20%2A%20%28z2%20%2B%20x2%29%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em23%20%3D%202%20%2A%20%28y%20%2A%20z%20%2A%20sinA2%20%2B%20x%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em31%20%3D%202%20%2A%20%28z%20%2A%20x%20%2A%20sinA2%20%2B%20y%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em32%20%3D%202%20%2A%20%28z%20%2A%20y%20%2A%20sinA2%20%2D%20x%20%2A%20sinA%20%2A%20cosA%29%3B%0A%20%20%20%20%20%20%20%20mat%2Em33%20%3D%201%20%2D%202%20%2A%20%28x2%20%2B%20y2%29%20%2A%20sinA2%3B%0A%20%20%20%20%20%20%20%20mat%2Em14%20%3D%20mat%2Em24%20%3D%20mat%2Em34%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em41%20%3D%20mat%2Em42%20%3D%20mat%2Em43%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mat%2Em44%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EmultRight%28mat%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2EmultRight%20%3D%20function%28mat%29%0A%7B%0A%20%20%20%20var%20m11%20%3D%20%28this%2Em11%20%2A%20mat%2Em11%20%2B%20this%2Em12%20%2A%20mat%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em13%20%2A%20mat%2Em31%20%2B%20this%2Em14%20%2A%20mat%2Em41%29%3B%0A%20%20%20%20var%20m12%20%3D%20%28this%2Em11%20%2A%20mat%2Em12%20%2B%20this%2Em12%20%2A%20mat%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em13%20%2A%20mat%2Em32%20%2B%20this%2Em14%20%2A%20mat%2Em42%29%3B%0A%20%20%20%20var%20m13%20%3D%20%28this%2Em11%20%2A%20mat%2Em13%20%2B%20this%2Em12%20%2A%20mat%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em13%20%2A%20mat%2Em33%20%2B%20this%2Em14%20%2A%20mat%2Em43%29%3B%0A%20%20%20%20var%20m14%20%3D%20%28this%2Em11%20%2A%20mat%2Em14%20%2B%20this%2Em12%20%2A%20mat%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em13%20%2A%20mat%2Em34%20%2B%20this%2Em14%20%2A%20mat%2Em44%29%3B%0A%0A%20%20%20%20var%20m21%20%3D%20%28this%2Em21%20%2A%20mat%2Em11%20%2B%20this%2Em22%20%2A%20mat%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em23%20%2A%20mat%2Em31%20%2B%20this%2Em24%20%2A%20mat%2Em41%29%3B%0A%20%20%20%20var%20m22%20%3D%20%28this%2Em21%20%2A%20mat%2Em12%20%2B%20this%2Em22%20%2A%20mat%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em23%20%2A%20mat%2Em32%20%2B%20this%2Em24%20%2A%20mat%2Em42%29%3B%0A%20%20%20%20var%20m23%20%3D%20%28this%2Em21%20%2A%20mat%2Em13%20%2B%20this%2Em22%20%2A%20mat%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em23%20%2A%20mat%2Em33%20%2B%20this%2Em24%20%2A%20mat%2Em43%29%3B%0A%20%20%20%20var%20m24%20%3D%20%28this%2Em21%20%2A%20mat%2Em14%20%2B%20this%2Em22%20%2A%20mat%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em23%20%2A%20mat%2Em34%20%2B%20this%2Em24%20%2A%20mat%2Em44%29%3B%0A%0A%20%20%20%20var%20m31%20%3D%20%28this%2Em31%20%2A%20mat%2Em11%20%2B%20this%2Em32%20%2A%20mat%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em33%20%2A%20mat%2Em31%20%2B%20this%2Em34%20%2A%20mat%2Em41%29%3B%0A%20%20%20%20var%20m32%20%3D%20%28this%2Em31%20%2A%20mat%2Em12%20%2B%20this%2Em32%20%2A%20mat%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em33%20%2A%20mat%2Em32%20%2B%20this%2Em34%20%2A%20mat%2Em42%29%3B%0A%20%20%20%20var%20m33%20%3D%20%28this%2Em31%20%2A%20mat%2Em13%20%2B%20this%2Em32%20%2A%20mat%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em33%20%2A%20mat%2Em33%20%2B%20this%2Em34%20%2A%20mat%2Em43%29%3B%0A%20%20%20%20var%20m34%20%3D%20%28this%2Em31%20%2A%20mat%2Em14%20%2B%20this%2Em32%20%2A%20mat%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em33%20%2A%20mat%2Em34%20%2B%20this%2Em34%20%2A%20mat%2Em44%29%3B%0A%0A%20%20%20%20var%20m41%20%3D%20%28this%2Em41%20%2A%20mat%2Em11%20%2B%20this%2Em42%20%2A%20mat%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em43%20%2A%20mat%2Em31%20%2B%20this%2Em44%20%2A%20mat%2Em41%29%3B%0A%20%20%20%20var%20m42%20%3D%20%28this%2Em41%20%2A%20mat%2Em12%20%2B%20this%2Em42%20%2A%20mat%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em43%20%2A%20mat%2Em32%20%2B%20this%2Em44%20%2A%20mat%2Em42%29%3B%0A%20%20%20%20var%20m43%20%3D%20%28this%2Em41%20%2A%20mat%2Em13%20%2B%20this%2Em42%20%2A%20mat%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em43%20%2A%20mat%2Em33%20%2B%20this%2Em44%20%2A%20mat%2Em43%29%3B%0A%20%20%20%20var%20m44%20%3D%20%28this%2Em41%20%2A%20mat%2Em14%20%2B%20this%2Em42%20%2A%20mat%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20this%2Em43%20%2A%20mat%2Em34%20%2B%20this%2Em44%20%2A%20mat%2Em44%29%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em11%20%3D%20m11%3B%0A%20%20%20%20this%2Em12%20%3D%20m12%3B%0A%20%20%20%20this%2Em13%20%3D%20m13%3B%0A%20%20%20%20this%2Em14%20%3D%20m14%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em21%20%3D%20m21%3B%0A%20%20%20%20this%2Em22%20%3D%20m22%3B%0A%20%20%20%20this%2Em23%20%3D%20m23%3B%0A%20%20%20%20this%2Em24%20%3D%20m24%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em31%20%3D%20m31%3B%0A%20%20%20%20this%2Em32%20%3D%20m32%3B%0A%20%20%20%20this%2Em33%20%3D%20m33%3B%0A%20%20%20%20this%2Em34%20%3D%20m34%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em41%20%3D%20m41%3B%0A%20%20%20%20this%2Em42%20%3D%20m42%3B%0A%20%20%20%20this%2Em43%20%3D%20m43%3B%0A%20%20%20%20this%2Em44%20%3D%20m44%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2EmultLeft%20%3D%20function%28mat%29%0A%7B%0A%20%20%20%20var%20m11%20%3D%20%28mat%2Em11%20%2A%20this%2Em11%20%2B%20mat%2Em12%20%2A%20this%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em13%20%2A%20this%2Em31%20%2B%20mat%2Em14%20%2A%20this%2Em41%29%3B%0A%20%20%20%20var%20m12%20%3D%20%28mat%2Em11%20%2A%20this%2Em12%20%2B%20mat%2Em12%20%2A%20this%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em13%20%2A%20this%2Em32%20%2B%20mat%2Em14%20%2A%20this%2Em42%29%3B%0A%20%20%20%20var%20m13%20%3D%20%28mat%2Em11%20%2A%20this%2Em13%20%2B%20mat%2Em12%20%2A%20this%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em13%20%2A%20this%2Em33%20%2B%20mat%2Em14%20%2A%20this%2Em43%29%3B%0A%20%20%20%20var%20m14%20%3D%20%28mat%2Em11%20%2A%20this%2Em14%20%2B%20mat%2Em12%20%2A%20this%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em13%20%2A%20this%2Em34%20%2B%20mat%2Em14%20%2A%20this%2Em44%29%3B%0A%0A%20%20%20%20var%20m21%20%3D%20%28mat%2Em21%20%2A%20this%2Em11%20%2B%20mat%2Em22%20%2A%20this%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em23%20%2A%20this%2Em31%20%2B%20mat%2Em24%20%2A%20this%2Em41%29%3B%0A%20%20%20%20var%20m22%20%3D%20%28mat%2Em21%20%2A%20this%2Em12%20%2B%20mat%2Em22%20%2A%20this%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em23%20%2A%20this%2Em32%20%2B%20mat%2Em24%20%2A%20this%2Em42%29%3B%0A%20%20%20%20var%20m23%20%3D%20%28mat%2Em21%20%2A%20this%2Em13%20%2B%20mat%2Em22%20%2A%20this%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em23%20%2A%20this%2Em33%20%2B%20mat%2Em24%20%2A%20this%2Em43%29%3B%0A%20%20%20%20var%20m24%20%3D%20%28mat%2Em21%20%2A%20this%2Em14%20%2B%20mat%2Em22%20%2A%20this%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em23%20%2A%20this%2Em34%20%2B%20mat%2Em24%20%2A%20this%2Em44%29%3B%0A%0A%20%20%20%20var%20m31%20%3D%20%28mat%2Em31%20%2A%20this%2Em11%20%2B%20mat%2Em32%20%2A%20this%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em33%20%2A%20this%2Em31%20%2B%20mat%2Em34%20%2A%20this%2Em41%29%3B%0A%20%20%20%20var%20m32%20%3D%20%28mat%2Em31%20%2A%20this%2Em12%20%2B%20mat%2Em32%20%2A%20this%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em33%20%2A%20this%2Em32%20%2B%20mat%2Em34%20%2A%20this%2Em42%29%3B%0A%20%20%20%20var%20m33%20%3D%20%28mat%2Em31%20%2A%20this%2Em13%20%2B%20mat%2Em32%20%2A%20this%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em33%20%2A%20this%2Em33%20%2B%20mat%2Em34%20%2A%20this%2Em43%29%3B%0A%20%20%20%20var%20m34%20%3D%20%28mat%2Em31%20%2A%20this%2Em14%20%2B%20mat%2Em32%20%2A%20this%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em33%20%2A%20this%2Em34%20%2B%20mat%2Em34%20%2A%20this%2Em44%29%3B%0A%0A%20%20%20%20var%20m41%20%3D%20%28mat%2Em41%20%2A%20this%2Em11%20%2B%20mat%2Em42%20%2A%20this%2Em21%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em43%20%2A%20this%2Em31%20%2B%20mat%2Em44%20%2A%20this%2Em41%29%3B%0A%20%20%20%20var%20m42%20%3D%20%28mat%2Em41%20%2A%20this%2Em12%20%2B%20mat%2Em42%20%2A%20this%2Em22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em43%20%2A%20this%2Em32%20%2B%20mat%2Em44%20%2A%20this%2Em42%29%3B%0A%20%20%20%20var%20m43%20%3D%20%28mat%2Em41%20%2A%20this%2Em13%20%2B%20mat%2Em42%20%2A%20this%2Em23%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em43%20%2A%20this%2Em33%20%2B%20mat%2Em44%20%2A%20this%2Em43%29%3B%0A%20%20%20%20var%20m44%20%3D%20%28mat%2Em41%20%2A%20this%2Em14%20%2B%20mat%2Em42%20%2A%20this%2Em24%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%20mat%2Em43%20%2A%20this%2Em34%20%2B%20mat%2Em44%20%2A%20this%2Em44%29%3B%0A%20%20%20%20%0A%20%20%20%20this%2Em11%20%3D%20m11%3B%0A%20%20%20%20this%2Em12%20%3D%20m12%3B%0A%20%20%20%20this%2Em13%20%3D%20m13%3B%0A%20%20%20%20this%2Em14%20%3D%20m14%3B%0A%0A%20%20%20%20this%2Em21%20%3D%20m21%3B%0A%20%20%20%20this%2Em22%20%3D%20m22%3B%0A%20%20%20%20this%2Em23%20%3D%20m23%3B%0A%20%20%20%20this%2Em24%20%3D%20m24%3B%0A%0A%20%20%20%20this%2Em31%20%3D%20m31%3B%0A%20%20%20%20this%2Em32%20%3D%20m32%3B%0A%20%20%20%20this%2Em33%20%3D%20m33%3B%0A%20%20%20%20this%2Em34%20%3D%20m34%3B%0A%0A%20%20%20%20this%2Em41%20%3D%20m41%3B%0A%20%20%20%20this%2Em42%20%3D%20m42%3B%0A%20%20%20%20this%2Em43%20%3D%20m43%3B%0A%20%20%20%20this%2Em44%20%3D%20m44%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Eortho%20%3D%20function%28left%2C%20right%2C%20bottom%2C%20top%2C%20near%2C%20far%29%0A%7B%0A%20%20%20%20var%20tx%20%3D%20%28left%20%2B%20right%29%20%2F%20%28left%20%2D%20right%29%3B%0A%20%20%20%20var%20ty%20%3D%20%28top%20%2B%20bottom%29%20%2F%20%28top%20%2D%20bottom%29%3B%0A%20%20%20%20var%20tz%20%3D%20%28far%20%2B%20near%29%20%2F%20%28far%20%2D%20near%29%3B%0A%20%20%20%20%0A%20%20%20%20var%20matrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20matrix%2Em11%20%3D%202%20%2F%20%28left%20%2D%20right%29%3B%0A%20%20%20%20matrix%2Em12%20%3D%200%3B%0A%20%20%20%20matrix%2Em13%20%3D%200%3B%0A%20%20%20%20matrix%2Em14%20%3D%200%3B%0A%20%20%20%20matrix%2Em21%20%3D%200%3B%0A%20%20%20%20matrix%2Em22%20%3D%202%20%2F%20%28top%20%2D%20bottom%29%3B%0A%20%20%20%20matrix%2Em23%20%3D%200%3B%0A%20%20%20%20matrix%2Em24%20%3D%200%3B%0A%20%20%20%20matrix%2Em31%20%3D%200%3B%0A%20%20%20%20matrix%2Em32%20%3D%200%3B%0A%20%20%20%20matrix%2Em33%20%3D%20%2D2%20%2F%20%28far%20%2D%20near%29%3B%0A%20%20%20%20matrix%2Em34%20%3D%200%3B%0A%20%20%20%20matrix%2Em41%20%3D%20tx%3B%0A%20%20%20%20matrix%2Em42%20%3D%20ty%3B%0A%20%20%20%20matrix%2Em43%20%3D%20tz%3B%0A%20%20%20%20matrix%2Em44%20%3D%201%3B%0A%20%20%20%20%0A%20%20%20%20this%2EmultRight%28matrix%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Efrustum%20%3D%20function%28left%2C%20right%2C%20bottom%2C%20top%2C%20near%2C%20far%29%0A%7B%0A%20%20%20%20var%20matrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20var%20A%20%3D%20%28right%20%2B%20left%29%20%2F%20%28right%20%2D%20left%29%3B%0A%20%20%20%20var%20B%20%3D%20%28top%20%2B%20bottom%29%20%2F%20%28top%20%2D%20bottom%29%3B%0A%20%20%20%20var%20C%20%3D%20%2D%28far%20%2B%20near%29%20%2F%20%28far%20%2D%20near%29%3B%0A%20%20%20%20var%20D%20%3D%20%2D%282%20%2A%20far%20%2A%20near%29%20%2F%20%28far%20%2D%20near%29%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em11%20%3D%20%282%20%2A%20near%29%20%2F%20%28right%20%2D%20left%29%3B%0A%20%20%20%20matrix%2Em12%20%3D%200%3B%0A%20%20%20%20matrix%2Em13%20%3D%200%3B%0A%20%20%20%20matrix%2Em14%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em21%20%3D%200%3B%0A%20%20%20%20matrix%2Em22%20%3D%202%20%2A%20near%20%2F%20%28top%20%2D%20bottom%29%3B%0A%20%20%20%20matrix%2Em23%20%3D%200%3B%0A%20%20%20%20matrix%2Em24%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em31%20%3D%20A%3B%0A%20%20%20%20matrix%2Em32%20%3D%20B%3B%0A%20%20%20%20matrix%2Em33%20%3D%20C%3B%0A%20%20%20%20matrix%2Em34%20%3D%20%2D1%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em41%20%3D%200%3B%0A%20%20%20%20matrix%2Em42%20%3D%200%3B%0A%20%20%20%20matrix%2Em43%20%3D%20D%3B%0A%20%20%20%20matrix%2Em44%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20this%2EmultRight%28matrix%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Eperspective%20%3D%20function%28fovy%2C%20aspect%2C%20zNear%2C%20zFar%29%0A%7B%0A%20%20%20%20var%20top%20%3D%20Math%2Etan%28fovy%20%2A%20Math%2EPI%20%2F%20360%29%20%2A%20zNear%3B%0A%20%20%20%20var%20bottom%20%3D%20%2Dtop%3B%0A%20%20%20%20var%20left%20%3D%20aspect%20%2A%20bottom%3B%0A%20%20%20%20var%20right%20%3D%20aspect%20%2A%20top%3B%0A%20%20%20%20this%2Efrustum%28left%2C%20right%2C%20bottom%2C%20top%2C%20zNear%2C%20zFar%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2Elookat%20%3D%20function%28eyex%2C%20eyey%2C%20eyez%2C%20centerx%2C%20centery%2C%20centerz%2C%20upx%2C%20upy%2C%20upz%29%0A%7B%0A%20%20%20%20var%20matrix%20%3D%20new%20CanvasMatrix4%28%29%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20Make%20rotation%20matrix%0A%0A%20%20%20%20%2F%2F%20Z%20vector%0A%20%20%20%20var%20zx%20%3D%20eyex%20%2D%20centerx%3B%0A%20%20%20%20var%20zy%20%3D%20eyey%20%2D%20centery%3B%0A%20%20%20%20var%20zz%20%3D%20eyez%20%2D%20centerz%3B%0A%20%20%20%20var%20mag%20%3D%20Math%2Esqrt%28zx%20%2A%20zx%20%2B%20zy%20%2A%20zy%20%2B%20zz%20%2A%20zz%29%3B%0A%20%20%20%20if%20%28mag%29%20%7B%0A%20%20%20%20%20%20%20%20zx%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20zy%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20zz%20%2F%3D%20mag%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Y%20vector%0A%20%20%20%20var%20yx%20%3D%20upx%3B%0A%20%20%20%20var%20yy%20%3D%20upy%3B%0A%20%20%20%20var%20yz%20%3D%20upz%3B%0A%0A%20%20%20%20%2F%2F%20X%20vector%20%3D%20Y%20cross%20Z%0A%20%20%20%20xx%20%3D%20%20yy%20%2A%20zz%20%2D%20yz%20%2A%20zy%3B%0A%20%20%20%20xy%20%3D%20%2Dyx%20%2A%20zz%20%2B%20yz%20%2A%20zx%3B%0A%20%20%20%20xz%20%3D%20%20yx%20%2A%20zy%20%2D%20yy%20%2A%20zx%3B%0A%0A%20%20%20%20%2F%2F%20Recompute%20Y%20%3D%20Z%20cross%20X%0A%20%20%20%20yx%20%3D%20zy%20%2A%20xz%20%2D%20zz%20%2A%20xy%3B%0A%20%20%20%20yy%20%3D%20%2Dzx%20%2A%20xz%20%2B%20zz%20%2A%20xx%3B%0A%20%20%20%20yx%20%3D%20zx%20%2A%20xy%20%2D%20zy%20%2A%20xx%3B%0A%0A%20%20%20%20%2F%2F%20cross%20product%20gives%20area%20of%20parallelogram%2C%20which%20is%20%3C%201%2E0%20for%0A%20%20%20%20%2F%2F%20non%2Dperpendicular%20unit%2Dlength%20vectors%3B%20so%20normalize%20x%2C%20y%20here%0A%0A%20%20%20%20mag%20%3D%20Math%2Esqrt%28xx%20%2A%20xx%20%2B%20xy%20%2A%20xy%20%2B%20xz%20%2A%20xz%29%3B%0A%20%20%20%20if%20%28mag%29%20%7B%0A%20%20%20%20%20%20%20%20xx%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20xy%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20xz%20%2F%3D%20mag%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20mag%20%3D%20Math%2Esqrt%28yx%20%2A%20yx%20%2B%20yy%20%2A%20yy%20%2B%20yz%20%2A%20yz%29%3B%0A%20%20%20%20if%20%28mag%29%20%7B%0A%20%20%20%20%20%20%20%20yx%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20yy%20%2F%3D%20mag%3B%0A%20%20%20%20%20%20%20%20yz%20%2F%3D%20mag%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20matrix%2Em11%20%3D%20xx%3B%0A%20%20%20%20matrix%2Em12%20%3D%20xy%3B%0A%20%20%20%20matrix%2Em13%20%3D%20xz%3B%0A%20%20%20%20matrix%2Em14%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em21%20%3D%20yx%3B%0A%20%20%20%20matrix%2Em22%20%3D%20yy%3B%0A%20%20%20%20matrix%2Em23%20%3D%20yz%3B%0A%20%20%20%20matrix%2Em24%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em31%20%3D%20zx%3B%0A%20%20%20%20matrix%2Em32%20%3D%20zy%3B%0A%20%20%20%20matrix%2Em33%20%3D%20zz%3B%0A%20%20%20%20matrix%2Em34%20%3D%200%3B%0A%20%20%20%20%0A%20%20%20%20matrix%2Em41%20%3D%200%3B%0A%20%20%20%20matrix%2Em42%20%3D%200%3B%0A%20%20%20%20matrix%2Em43%20%3D%200%3B%0A%20%20%20%20matrix%2Em44%20%3D%201%3B%0A%20%20%20%20matrix%2Etranslate%28%2Deyex%2C%20%2Deyey%2C%20%2Deyez%29%3B%0A%20%20%20%20%0A%20%20%20%20this%2EmultRight%28matrix%29%3B%0A%7D%0A%0A%2F%2F%20Support%20functions%0ACanvasMatrix4%2Eprototype%2E%5Fdeterminant2x2%20%3D%20function%28a%2C%20b%2C%20c%2C%20d%29%0A%7B%0A%20%20%20%20return%20a%20%2A%20d%20%2D%20b%20%2A%20c%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2E%5Fdeterminant3x3%20%3D%20function%28a1%2C%20a2%2C%20a3%2C%20b1%2C%20b2%2C%20b3%2C%20c1%2C%20c2%2C%20c3%29%0A%7B%0A%20%20%20%20return%20a1%20%2A%20this%2E%5Fdeterminant2x2%28b2%2C%20b3%2C%20c2%2C%20c3%29%0A%20%20%20%20%20%20%20%20%20%2D%20b1%20%2A%20this%2E%5Fdeterminant2x2%28a2%2C%20a3%2C%20c2%2C%20c3%29%0A%20%20%20%20%20%20%20%20%20%2B%20c1%20%2A%20this%2E%5Fdeterminant2x2%28a2%2C%20a3%2C%20b2%2C%20b3%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2E%5Fdeterminant4x4%20%3D%20function%28%29%0A%7B%0A%20%20%20%20var%20a1%20%3D%20this%2Em11%3B%0A%20%20%20%20var%20b1%20%3D%20this%2Em12%3B%20%0A%20%20%20%20var%20c1%20%3D%20this%2Em13%3B%0A%20%20%20%20var%20d1%20%3D%20this%2Em14%3B%0A%0A%20%20%20%20var%20a2%20%3D%20this%2Em21%3B%0A%20%20%20%20var%20b2%20%3D%20this%2Em22%3B%20%0A%20%20%20%20var%20c2%20%3D%20this%2Em23%3B%0A%20%20%20%20var%20d2%20%3D%20this%2Em24%3B%0A%0A%20%20%20%20var%20a3%20%3D%20this%2Em31%3B%0A%20%20%20%20var%20b3%20%3D%20this%2Em32%3B%20%0A%20%20%20%20var%20c3%20%3D%20this%2Em33%3B%0A%20%20%20%20var%20d3%20%3D%20this%2Em34%3B%0A%0A%20%20%20%20var%20a4%20%3D%20this%2Em41%3B%0A%20%20%20%20var%20b4%20%3D%20this%2Em42%3B%20%0A%20%20%20%20var%20c4%20%3D%20this%2Em43%3B%0A%20%20%20%20var%20d4%20%3D%20this%2Em44%3B%0A%0A%20%20%20%20return%20a1%20%2A%20this%2E%5Fdeterminant3x3%28b2%2C%20b3%2C%20b4%2C%20c2%2C%20c3%2C%20c4%2C%20d2%2C%20d3%2C%20d4%29%0A%20%20%20%20%20%20%20%20%20%2D%20b1%20%2A%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20c2%2C%20c3%2C%20c4%2C%20d2%2C%20d3%2C%20d4%29%0A%20%20%20%20%20%20%20%20%20%2B%20c1%20%2A%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20b2%2C%20b3%2C%20b4%2C%20d2%2C%20d3%2C%20d4%29%0A%20%20%20%20%20%20%20%20%20%2D%20d1%20%2A%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20b2%2C%20b3%2C%20b4%2C%20c2%2C%20c3%2C%20c4%29%3B%0A%7D%0A%0ACanvasMatrix4%2Eprototype%2E%5FmakeAdjoint%20%3D%20function%28%29%0A%7B%0A%20%20%20%20var%20a1%20%3D%20this%2Em11%3B%0A%20%20%20%20var%20b1%20%3D%20this%2Em12%3B%20%0A%20%20%20%20var%20c1%20%3D%20this%2Em13%3B%0A%20%20%20%20var%20d1%20%3D%20this%2Em14%3B%0A%0A%20%20%20%20var%20a2%20%3D%20this%2Em21%3B%0A%20%20%20%20var%20b2%20%3D%20this%2Em22%3B%20%0A%20%20%20%20var%20c2%20%3D%20this%2Em23%3B%0A%20%20%20%20var%20d2%20%3D%20this%2Em24%3B%0A%0A%20%20%20%20var%20a3%20%3D%20this%2Em31%3B%0A%20%20%20%20var%20b3%20%3D%20this%2Em32%3B%20%0A%20%20%20%20var%20c3%20%3D%20this%2Em33%3B%0A%20%20%20%20var%20d3%20%3D%20this%2Em34%3B%0A%0A%20%20%20%20var%20a4%20%3D%20this%2Em41%3B%0A%20%20%20%20var%20b4%20%3D%20this%2Em42%3B%20%0A%20%20%20%20var%20c4%20%3D%20this%2Em43%3B%0A%20%20%20%20var%20d4%20%3D%20this%2Em44%3B%0A%0A%20%20%20%20%2F%2F%20Row%20column%20labeling%20reversed%20since%20we%20transpose%20rows%20%26%20columns%0A%20%20%20%20this%2Em11%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28b2%2C%20b3%2C%20b4%2C%20c2%2C%20c3%2C%20c4%2C%20d2%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em21%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20c2%2C%20c3%2C%20c4%2C%20d2%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em31%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20b2%2C%20b3%2C%20b4%2C%20d2%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em41%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a2%2C%20a3%2C%20a4%2C%20b2%2C%20b3%2C%20b4%2C%20c2%2C%20c3%2C%20c4%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20this%2Em12%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28b1%2C%20b3%2C%20b4%2C%20c1%2C%20c3%2C%20c4%2C%20d1%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em22%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a1%2C%20a3%2C%20a4%2C%20c1%2C%20c3%2C%20c4%2C%20d1%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em32%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a1%2C%20a3%2C%20a4%2C%20b1%2C%20b3%2C%20b4%2C%20d1%2C%20d3%2C%20d4%29%3B%0A%20%20%20%20this%2Em42%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a1%2C%20a3%2C%20a4%2C%20b1%2C%20b3%2C%20b4%2C%20c1%2C%20c3%2C%20c4%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20this%2Em13%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28b1%2C%20b2%2C%20b4%2C%20c1%2C%20c2%2C%20c4%2C%20d1%2C%20d2%2C%20d4%29%3B%0A%20%20%20%20this%2Em23%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a4%2C%20c1%2C%20c2%2C%20c4%2C%20d1%2C%20d2%2C%20d4%29%3B%0A%20%20%20%20this%2Em33%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a4%2C%20b1%2C%20b2%2C%20b4%2C%20d1%2C%20d2%2C%20d4%29%3B%0A%20%20%20%20this%2Em43%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a4%2C%20b1%2C%20b2%2C%20b4%2C%20c1%2C%20c2%2C%20c4%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20this%2Em14%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28b1%2C%20b2%2C%20b3%2C%20c1%2C%20c2%2C%20c3%2C%20d1%2C%20d2%2C%20d3%29%3B%0A%20%20%20%20this%2Em24%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a3%2C%20c1%2C%20c2%2C%20c3%2C%20d1%2C%20d2%2C%20d3%29%3B%0A%20%20%20%20this%2Em34%20%20%3D%20%2D%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a3%2C%20b1%2C%20b2%2C%20b3%2C%20d1%2C%20d2%2C%20d3%29%3B%0A%20%20%20%20this%2Em44%20%20%3D%20%20%20this%2E%5Fdeterminant3x3%28a1%2C%20a2%2C%20a3%2C%20b1%2C%20b2%2C%20b3%2C%20c1%2C%20c2%2C%20c3%29%3B%0A%7D%0A"></script>
<script src="data:application/x-javascript,%2F%2A%20el%20is%20the%20div%2C%20holding%20the%20rgl%20object%20as%20el%2Erglinstance%2C%0A%20%20%20%20%20which%20holds%20x%20as%20el%2Erglinstance%2Escene%0A%20%20%20x%20is%20the%20JSON%20encoded%20rglwidget%2E%0A%2A%2F%0A%0A%0AHTMLWidgets%2Ewidget%28%7B%0A%0A%20%20name%3A%20%27rglWebGL%27%2C%0A%0A%20%20type%3A%20%27output%27%2C%0A%0A%20%20initialize%3A%20function%28el%2C%20width%2C%20height%29%20%7B%0A%20%20%20%20el%2Ewidth%20%3D%20width%3B%0A%20%20%20%20el%2Eheight%20%3D%20height%3B%0A%20%20%20%20return%20%7B%7D%3B%0A%0A%20%20%7D%2C%0A%0A%20%20renderValue%3A%20function%28el%2C%20x%29%20%7B%0A%20%20%20%20var%20rgl%20%3D%20new%20rglwidgetClass%28%29%2C%20i%2C%20pel%2C%20player%2C%0A%20%20%20%20%20%20draw%20%3D%20true%3B%0A%20%20%20%20rgl%2Einitialize%28el%2C%20x%29%3B%0A%0A%20%20%20%20%2F%2A%20We%20might%20have%20been%20called%20after%20%28some%20of%29%20the%20players%20were%20rendered%2E%0A%20%20%20%20%20%20%20We%20need%20to%20make%20sure%20we%20respond%20to%20their%20initial%20values%2E%20%2A%2F%0A%0A%20%20%20%20if%20%28typeof%20x%2Eplayers%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20x%2Eplayers%20%3D%20%5B%5D%2Econcat%28x%2Eplayers%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20x%2Eplayers%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20pel%20%3D%20window%5Bx%2Eplayers%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20pel%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20player%20%3D%20pel%2ErglPlayer%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20player%20%21%3D%3D%20%22undefined%22%20%26%26%20%21player%2Einitialized%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rgl%2EPlayer%28pel%2C%20player%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20player%2Einitialized%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20draw%20%3D%20false%3B%20%20%2F%2F%20The%20player%20will%20do%20the%20drawing%0A%20%20%20%20%20%20%20%20%7D%20else%0A%20%20%20%20%20%20%20%20%20%20rgl%2EalertOnce%28%22Controller%20%27%22%20%2B%20x%2Eplayers%5Bi%5D%20%2B%20%22%27%20not%20found%2E%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20rgl%2Edrag%20%3D%200%3B%0A%20%20%20%20if%20%28draw%29%0A%20%20%20%20%20%20rgl%2EdrawScene%28%29%3B%0A%20%20%7D%2C%0A%0A%20%20resize%3A%20function%28el%2C%20width%2C%20height%29%20%7B%0A%20%20%20%20el%2Ewidth%20%3D%20width%3B%0A%20%20%20%20el%2Eheight%20%3D%20height%3B%0A%20%20%20%20el%2Erglinstance%2Eresize%28el%29%3B%0A%20%20%20%20el%2Erglinstance%2EdrawScene%28%29%3B%0A%20%20%7D%0A%0A%7D%29%3B%0A"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">rgl Overview</h1>
<h4 class="author"><em>Duncan Murdoch</em></h4>
<h4 class="date"><em>January 04, 2016</em></h4>
</div>

<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#about-this-document">About this document</a></li>
</ul></li>
<li><a href="#basics-and-high-level-functions">Basics and High Level Functions</a></li>
<li><a href="#adding-graphical-elements">Adding Graphical Elements</a><ul>
<li><a href="#primitive-shapes">Primitive shapes</a></li>
<li><a href="#constructed-shapes">Constructed shapes</a></li>
<li><a href="#axes-and-other-decorations">Axes and other “decorations”</a></li>
</ul></li>
<li><a href="#controlling-the-look-of-the-scene">Controlling the Look of the Scene</a><ul>
<li><a href="#lighting">Lighting</a></li>
<li><a href="#materials">Materials</a></li>
<li><a href="#par3d-miscellaneous-graphical-parameters">par3d: Miscellaneous graphical parameters</a></li>
<li><a href="#default-settings">Default settings</a></li>
</ul></li>
<li><a href="#meshes-constructing-shapes">Meshes: Constructing Shapes</a><ul>
<li><a href="#specific-solids">Specific solids</a></li>
<li><a href="#generating-new-shapes">Generating new shapes</a></li>
<li><a href="#the-underlying-class-structure-for-shapes">The underlying class structure for shapes</a></li>
<li><a href="#manipulating-shapes">Manipulating shapes</a></li>
</ul></li>
<li><a href="#multi-figure-layouts">Multi-figure Layouts</a></li>
<li><a href="#utility-functions">Utility Functions</a><ul>
<li><a href="#user-interaction">User interaction</a></li>
<li><a href="#animations">Animations</a></li>
<li><a href="#exporting-and-importing-scenes">Exporting and importing scenes</a></li>
<li><a href="#working-with-webgl-scenes">Working with WebGL scenes</a></li>
<li><a href="#working-with-the-scene">Working with the scene</a></li>
<li><a href="#working-with-3-d-vectors">Working with 3-D vectors</a></li>
</ul></li>
<li><a href="#warning-work-in-progress">Warning: Work in Progress!</a></li>
<li><a href="#index-of-functions">Index of Functions</a></li>
</ul>
</div>

<pre><code>## Warning: These vignettes assume pandoc version 1.13.1; older versions may
## give poor formatting.</code></pre>
<style>
    .nostripes tr.even {background-color: white;}
    table {border-style: none;}
    table th {border-style: none;}
    table td {border-style: none;}
    a[href^=".."] {text-decoration: underline;}
    </style>
    



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The <code>rgl</code> package is used to produce interactive 3-D plots. It contains high-level graphics commands modelled loosely after classic R graphics, but working in three dimensions. It also contains low level structure inspired by (but incompatible with) the <code>grid</code> package.</p>
<p>This document gives an overview. See the help pages for details.</p>
<div id="about-this-document" class="section level3">
<h3>About this document</h3>
<p>This document was written in R Markdown, using the <code>knitr</code> package for production. It corresponds to rgl version 0.95.1441.</p>
<p>Most of the highlighted function names are HTML links. The internal links should work in any browser; the links to help topics should work if you view the vignette from within the R help system.</p>
<p>The document includes WebGL figures. To view these, you must have Javascript and WebGL enabled in your browser. Some older browsers may not support this – see <a href="http://get.webgl.org">http://get.webgl.org</a> for tests and links to a discussion.</p>
<p>The WebGL figures were produced using the <code>rglwidget</code> package, version 0.1.1434.</p>
</div>
</div>
<div id="basics-and-high-level-functions" class="section level2">
<h2>Basics and High Level Functions</h2>
<p>The <a name="plot3d"><a href="#plot3d"><code>plot3d</code></a></a> function plots points within an rgl window. It is similar to the classic <a href="../../graphics/help/plot"><code>plot</code></a> function, but works in 3 dimensions.</p>
<p>For example</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with</span>(iris, <span class="kw">plot3d</span>(Sepal.Length, Sepal.Width, Petal.Length, 
                  <span class="dt">type=</span><span class="st">&quot;s&quot;</span>, <span class="dt">col=</span><span class="kw">as.numeric</span>(Species)))</code></pre>
<p><div id="rgl28758" style="width:480px;height:480px;" class="rglWebGL"></div>
<script type="application/json" data-for="rgl28758">{"x":{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":false,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less"},"rootSubscene":26,"objects":{"115":{"id":115,"type":"spheres","material":{},"vertices":[[5.09999990463257,3.5,1.39999997615814],[4.90000009536743,3,1.39999997615814],[4.69999980926514,3.20000004768372,1.29999995231628],[4.59999990463257,3.09999990463257,1.5],[5,3.59999990463257,1.39999997615814],[5.40000009536743,3.90000009536743,1.70000004768372],[4.59999990463257,3.40000009536743,1.39999997615814],[5,3.40000009536743,1.5],[4.40000009536743,2.90000009536743,1.39999997615814],[4.90000009536743,3.09999990463257,1.5],[5.40000009536743,3.70000004768372,1.5],[4.80000019073486,3.40000009536743,1.60000002384186],[4.80000019073486,3,1.39999997615814],[4.30000019073486,3,1.10000002384186],[5.80000019073486,4,1.20000004768372],[5.69999980926514,4.40000009536743,1.5],[5.40000009536743,3.90000009536743,1.29999995231628],[5.09999990463257,3.5,1.39999997615814],[5.69999980926514,3.79999995231628,1.70000004768372],[5.09999990463257,3.79999995231628,1.5],[5.40000009536743,3.40000009536743,1.70000004768372],[5.09999990463257,3.70000004768372,1.5],[4.59999990463257,3.59999990463257,1],[5.09999990463257,3.29999995231628,1.70000004768372],[4.80000019073486,3.40000009536743,1.89999997615814],[5,3,1.60000002384186],[5,3.40000009536743,1.60000002384186],[5.19999980926514,3.5,1.5],[5.19999980926514,3.40000009536743,1.39999997615814],[4.69999980926514,3.20000004768372,1.60000002384186],[4.80000019073486,3.09999990463257,1.60000002384186],[5.40000009536743,3.40000009536743,1.5],[5.19999980926514,4.09999990463257,1.5],[5.5,4.19999980926514,1.39999997615814],[4.90000009536743,3.09999990463257,1.5],[5,3.20000004768372,1.20000004768372],[5.5,3.5,1.29999995231628],[4.90000009536743,3.59999990463257,1.39999997615814],[4.40000009536743,3,1.29999995231628],[5.09999990463257,3.40000009536743,1.5],[5,3.5,1.29999995231628],[4.5,2.29999995231628,1.29999995231628],[4.40000009536743,3.20000004768372,1.29999995231628],[5,3.5,1.60000002384186],[5.09999990463257,3.79999995231628,1.89999997615814],[4.80000019073486,3,1.39999997615814],[5.09999990463257,3.79999995231628,1.60000002384186],[4.59999990463257,3.20000004768372,1.39999997615814],[5.30000019073486,3.70000004768372,1.5],[5,3.29999995231628,1.39999997615814],[7,3.20000004768372,4.69999980926514],[6.40000009536743,3.20000004768372,4.5],[6.90000009536743,3.09999990463257,4.90000009536743],[5.5,2.29999995231628,4],[6.5,2.79999995231628,4.59999990463257],[5.69999980926514,2.79999995231628,4.5],[6.30000019073486,3.29999995231628,4.69999980926514],[4.90000009536743,2.40000009536743,3.29999995231628],[6.59999990463257,2.90000009536743,4.59999990463257],[5.19999980926514,2.70000004768372,3.90000009536743],[5,2,3.5],[5.90000009536743,3,4.19999980926514],[6,2.20000004768372,4],[6.09999990463257,2.90000009536743,4.69999980926514],[5.59999990463257,2.90000009536743,3.59999990463257],[6.69999980926514,3.09999990463257,4.40000009536743],[5.59999990463257,3,4.5],[5.80000019073486,2.70000004768372,4.09999990463257],[6.19999980926514,2.20000004768372,4.5],[5.59999990463257,2.5,3.90000009536743],[5.90000009536743,3.20000004768372,4.80000019073486],[6.09999990463257,2.79999995231628,4],[6.30000019073486,2.5,4.90000009536743],[6.09999990463257,2.79999995231628,4.69999980926514],[6.40000009536743,2.90000009536743,4.30000019073486],[6.59999990463257,3,4.40000009536743],[6.80000019073486,2.79999995231628,4.80000019073486],[6.69999980926514,3,5],[6,2.90000009536743,4.5],[5.69999980926514,2.59999990463257,3.5],[5.5,2.40000009536743,3.79999995231628],[5.5,2.40000009536743,3.70000004768372],[5.80000019073486,2.70000004768372,3.90000009536743],[6,2.70000004768372,5.09999990463257],[5.40000009536743,3,4.5],[6,3.40000009536743,4.5],[6.69999980926514,3.09999990463257,4.69999980926514],[6.30000019073486,2.29999995231628,4.40000009536743],[5.59999990463257,3,4.09999990463257],[5.5,2.5,4],[5.5,2.59999990463257,4.40000009536743],[6.09999990463257,3,4.59999990463257],[5.80000019073486,2.59999990463257,4],[5,2.29999995231628,3.29999995231628],[5.59999990463257,2.70000004768372,4.19999980926514],[5.69999980926514,3,4.19999980926514],[5.69999980926514,2.90000009536743,4.19999980926514],[6.19999980926514,2.90000009536743,4.30000019073486],[5.09999990463257,2.5,3],[5.69999980926514,2.79999995231628,4.09999990463257],[6.30000019073486,3.29999995231628,6],[5.80000019073486,2.70000004768372,5.09999990463257],[7.09999990463257,3,5.90000009536743],[6.30000019073486,2.90000009536743,5.59999990463257],[6.5,3,5.80000019073486],[7.59999990463257,3,6.59999990463257],[4.90000009536743,2.5,4.5],[7.30000019073486,2.90000009536743,6.30000019073486],[6.69999980926514,2.5,5.80000019073486],[7.19999980926514,3.59999990463257,6.09999990463257],[6.5,3.20000004768372,5.09999990463257],[6.40000009536743,2.70000004768372,5.30000019073486],[6.80000019073486,3,5.5],[5.69999980926514,2.5,5],[5.80000019073486,2.79999995231628,5.09999990463257],[6.40000009536743,3.20000004768372,5.30000019073486],[6.5,3,5.5],[7.69999980926514,3.79999995231628,6.69999980926514],[7.69999980926514,2.59999990463257,6.90000009536743],[6,2.20000004768372,5],[6.90000009536743,3.20000004768372,5.69999980926514],[5.59999990463257,2.79999995231628,4.90000009536743],[7.69999980926514,2.79999995231628,6.69999980926514],[6.30000019073486,2.70000004768372,4.90000009536743],[6.69999980926514,3.29999995231628,5.69999980926514],[7.19999980926514,3.20000004768372,6],[6.19999980926514,2.79999995231628,4.80000019073486],[6.09999990463257,3,4.90000009536743],[6.40000009536743,2.79999995231628,5.59999990463257],[7.19999980926514,3,5.80000019073486],[7.40000009536743,2.79999995231628,6.09999990463257],[7.90000009536743,3.79999995231628,6.40000009536743],[6.40000009536743,2.79999995231628,5.59999990463257],[6.30000019073486,2.79999995231628,5.09999990463257],[6.09999990463257,2.59999990463257,5.59999990463257],[7.69999980926514,3,6.09999990463257],[6.30000019073486,3.40000009536743,5.59999990463257],[6.40000009536743,3.09999990463257,5.5],[6,3,4.80000019073486],[6.90000009536743,3.09999990463257,5.40000009536743],[6.69999980926514,3.09999990463257,5.59999990463257],[6.90000009536743,3.09999990463257,5.09999990463257],[5.80000019073486,2.70000004768372,5.09999990463257],[6.80000019073486,3.20000004768372,5.90000009536743],[6.69999980926514,3.29999995231628,5.69999980926514],[6.69999980926514,3,5.19999980926514],[6.30000019073486,2.5,5],[6.5,3,5.19999980926514],[6.19999980926514,3.40000009536743,5.40000009536743],[5.90000009536743,3,5.09999990463257]],"colors":[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1],[0,0.803921580314636,0,1]],"radii":[[0.21120685338974]],"centers":[[5.09999990463257,3.5,1.39999997615814],[4.90000009536743,3,1.39999997615814],[4.69999980926514,3.20000004768372,1.29999995231628],[4.59999990463257,3.09999990463257,1.5],[5,3.59999990463257,1.39999997615814],[5.40000009536743,3.90000009536743,1.70000004768372],[4.59999990463257,3.40000009536743,1.39999997615814],[5,3.40000009536743,1.5],[4.40000009536743,2.90000009536743,1.39999997615814],[4.90000009536743,3.09999990463257,1.5],[5.40000009536743,3.70000004768372,1.5],[4.80000019073486,3.40000009536743,1.60000002384186],[4.80000019073486,3,1.39999997615814],[4.30000019073486,3,1.10000002384186],[5.80000019073486,4,1.20000004768372],[5.69999980926514,4.40000009536743,1.5],[5.40000009536743,3.90000009536743,1.29999995231628],[5.09999990463257,3.5,1.39999997615814],[5.69999980926514,3.79999995231628,1.70000004768372],[5.09999990463257,3.79999995231628,1.5],[5.40000009536743,3.40000009536743,1.70000004768372],[5.09999990463257,3.70000004768372,1.5],[4.59999990463257,3.59999990463257,1],[5.09999990463257,3.29999995231628,1.70000004768372],[4.80000019073486,3.40000009536743,1.89999997615814],[5,3,1.60000002384186],[5,3.40000009536743,1.60000002384186],[5.19999980926514,3.5,1.5],[5.19999980926514,3.40000009536743,1.39999997615814],[4.69999980926514,3.20000004768372,1.60000002384186],[4.80000019073486,3.09999990463257,1.60000002384186],[5.40000009536743,3.40000009536743,1.5],[5.19999980926514,4.09999990463257,1.5],[5.5,4.19999980926514,1.39999997615814],[4.90000009536743,3.09999990463257,1.5],[5,3.20000004768372,1.20000004768372],[5.5,3.5,1.29999995231628],[4.90000009536743,3.59999990463257,1.39999997615814],[4.40000009536743,3,1.29999995231628],[5.09999990463257,3.40000009536743,1.5],[5,3.5,1.29999995231628],[4.5,2.29999995231628,1.29999995231628],[4.40000009536743,3.20000004768372,1.29999995231628],[5,3.5,1.60000002384186],[5.09999990463257,3.79999995231628,1.89999997615814],[4.80000019073486,3,1.39999997615814],[5.09999990463257,3.79999995231628,1.60000002384186],[4.59999990463257,3.20000004768372,1.39999997615814],[5.30000019073486,3.70000004768372,1.5],[5,3.29999995231628,1.39999997615814],[7,3.20000004768372,4.69999980926514],[6.40000009536743,3.20000004768372,4.5],[6.90000009536743,3.09999990463257,4.90000009536743],[5.5,2.29999995231628,4],[6.5,2.79999995231628,4.59999990463257],[5.69999980926514,2.79999995231628,4.5],[6.30000019073486,3.29999995231628,4.69999980926514],[4.90000009536743,2.40000009536743,3.29999995231628],[6.59999990463257,2.90000009536743,4.59999990463257],[5.19999980926514,2.70000004768372,3.90000009536743],[5,2,3.5],[5.90000009536743,3,4.19999980926514],[6,2.20000004768372,4],[6.09999990463257,2.90000009536743,4.69999980926514],[5.59999990463257,2.90000009536743,3.59999990463257],[6.69999980926514,3.09999990463257,4.40000009536743],[5.59999990463257,3,4.5],[5.80000019073486,2.70000004768372,4.09999990463257],[6.19999980926514,2.20000004768372,4.5],[5.59999990463257,2.5,3.90000009536743],[5.90000009536743,3.20000004768372,4.80000019073486],[6.09999990463257,2.79999995231628,4],[6.30000019073486,2.5,4.90000009536743],[6.09999990463257,2.79999995231628,4.69999980926514],[6.40000009536743,2.90000009536743,4.30000019073486],[6.59999990463257,3,4.40000009536743],[6.80000019073486,2.79999995231628,4.80000019073486],[6.69999980926514,3,5],[6,2.90000009536743,4.5],[5.69999980926514,2.59999990463257,3.5],[5.5,2.40000009536743,3.79999995231628],[5.5,2.40000009536743,3.70000004768372],[5.80000019073486,2.70000004768372,3.90000009536743],[6,2.70000004768372,5.09999990463257],[5.40000009536743,3,4.5],[6,3.40000009536743,4.5],[6.69999980926514,3.09999990463257,4.69999980926514],[6.30000019073486,2.29999995231628,4.40000009536743],[5.59999990463257,3,4.09999990463257],[5.5,2.5,4],[5.5,2.59999990463257,4.40000009536743],[6.09999990463257,3,4.59999990463257],[5.80000019073486,2.59999990463257,4],[5,2.29999995231628,3.29999995231628],[5.59999990463257,2.70000004768372,4.19999980926514],[5.69999980926514,3,4.19999980926514],[5.69999980926514,2.90000009536743,4.19999980926514],[6.19999980926514,2.90000009536743,4.30000019073486],[5.09999990463257,2.5,3],[5.69999980926514,2.79999995231628,4.09999990463257],[6.30000019073486,3.29999995231628,6],[5.80000019073486,2.70000004768372,5.09999990463257],[7.09999990463257,3,5.90000009536743],[6.30000019073486,2.90000009536743,5.59999990463257],[6.5,3,5.80000019073486],[7.59999990463257,3,6.59999990463257],[4.90000009536743,2.5,4.5],[7.30000019073486,2.90000009536743,6.30000019073486],[6.69999980926514,2.5,5.80000019073486],[7.19999980926514,3.59999990463257,6.09999990463257],[6.5,3.20000004768372,5.09999990463257],[6.40000009536743,2.70000004768372,5.30000019073486],[6.80000019073486,3,5.5],[5.69999980926514,2.5,5],[5.80000019073486,2.79999995231628,5.09999990463257],[6.40000009536743,3.20000004768372,5.30000019073486],[6.5,3,5.5],[7.69999980926514,3.79999995231628,6.69999980926514],[7.69999980926514,2.59999990463257,6.90000009536743],[6,2.20000004768372,5],[6.90000009536743,3.20000004768372,5.69999980926514],[5.59999990463257,2.79999995231628,4.90000009536743],[7.69999980926514,2.79999995231628,6.69999980926514],[6.30000019073486,2.70000004768372,4.90000009536743],[6.69999980926514,3.29999995231628,5.69999980926514],[7.19999980926514,3.20000004768372,6],[6.19999980926514,2.79999995231628,4.80000019073486],[6.09999990463257,3,4.90000009536743],[6.40000009536743,2.79999995231628,5.59999990463257],[7.19999980926514,3,5.80000019073486],[7.40000009536743,2.79999995231628,6.09999990463257],[7.90000009536743,3.79999995231628,6.40000009536743],[6.40000009536743,2.79999995231628,5.59999990463257],[6.30000019073486,2.79999995231628,5.09999990463257],[6.09999990463257,2.59999990463257,5.59999990463257],[7.69999980926514,3,6.09999990463257],[6.30000019073486,3.40000009536743,5.59999990463257],[6.40000009536743,3.09999990463257,5.5],[6,3,4.80000019073486],[6.90000009536743,3.09999990463257,5.40000009536743],[6.69999980926514,3.09999990463257,5.59999990463257],[6.90000009536743,3.09999990463257,5.09999990463257],[5.80000019073486,2.70000004768372,5.09999990463257],[6.80000019073486,3.20000004768372,5.90000009536743],[6.69999980926514,3.29999995231628,5.69999980926514],[6.69999980926514,3,5.19999980926514],[6.30000019073486,2.5,5],[6.5,3,5.19999980926514],[6.19999980926514,3.40000009536743,5.40000009536743],[5.90000009536743,3,5.09999990463257]],"ignoreExtent":false,"flags":3},"117":{"id":117,"type":"text","material":{"lit":false},"vertices":[[6.10000038146973,1.43252074718475,-0.395056039094925]],"colors":[[0,0,0,1]],"texts":[["Sepal.Length"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[6.10000038146973,1.43252074718475,-0.395056039094925]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"118":{"id":118,"type":"text","material":{"lit":false},"vertices":[[3.44878172874451,3.20000004768372,-0.395056039094925]],"colors":[[0,0,0,1]],"texts":[["Sepal.Width"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[3.44878172874451,3.20000004768372,-0.395056039094925]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"119":{"id":119,"type":"text","material":{"lit":false},"vertices":[[3.44878172874451,1.43252074718475,3.94999980926514]],"colors":[[0,0,0,1]],"texts":[["Petal.Length"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[3.44878172874451,1.43252074718475,3.94999980926514]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"30":{"id":30,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"31":{"id":31,"type":"background","colors":[[1,1,1,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"116":{"id":116,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":[[5,null,null],[6,null,null],[7,null,null],[8,null,null],[null,2,null],[null,2.5,null],[null,3,null],[null,3.5,null],[null,4,null],[null,4.5,null],[null,null,1],[null,null,2],[null,null,3],[null,null,4],[null,null,5],[null,null,6],[null,null,7]],"colors":[[0,0,0,1]],"draw_front":true,"newIds":[127,128,129,130,131,132,133]},"26":{"id":26,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":26,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,19.6937484741211],"modelMatrix":[[1.17337727546692,0,0,-7.15760183334351],[0,0.601978063583374,0.672776162624359,-4.58379554748535],[0,-1.65392100811005,0.244870513677597,-15.3684396743774],[0,0,0,1]],"projMatrix":[[3.73205089569092,0,0,0],[0,3.73205089569092,0,0],[0,0,-3.86370301246643,-70.9936904907227],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.342020143325668,0.939692620785909,0],[0,-0.939692620785909,0.342020143325668,0],[0,0,0,1]],"scale":[1.17337727546692,1.76006603240967,0.715953469276428],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[4.12000131607056,8.07999897003174,1.88000059127808,4.51999950408936,0.704999208450317,7.19500064849854],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[31,116,115,117,118,119,30,127,128,129,130,131,132,133],"subscenes":[],"flags":1195},"127":{"id":127,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[5,1.84040057659149,0.607649207115173],[8,1.84040057659149,0.607649207115173],[5,1.84040057659149,0.607649207115173],[5,1.77242064476013,0.440531641244888],[6,1.84040057659149,0.607649207115173],[6,1.77242064476013,0.440531641244888],[7,1.84040057659149,0.607649207115173],[7,1.77242064476013,0.440531641244888],[8,1.84040057659149,0.607649207115173],[8,1.77242064476013,0.440531641244888]],"colors":[[0,0,0,1]],"centers":[[6.5,1.84040057659149,0.607649207115173],[5,1.80641055107117,0.52409040927887],[6,1.80641055107117,0.52409040927887],[7,1.80641055107117,0.52409040927887],[8,1.80641055107117,0.52409040927887]],"ignoreExtent":true,"origId":116,"flags":128},"128":{"id":128,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[5,1.63646066188812,0.106296576559544],[6,1.63646066188812,0.106296576559544],[7,1.63646066188812,0.106296576559544],[8,1.63646066188812,0.106296576559544]],"colors":[[0,0,0,1]],"texts":[["5"],["6"],["7"],["8"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[5,1.63646066188812,0.106296576559544],[6,1.63646066188812,0.106296576559544],[7,1.63646066188812,0.106296576559544],[8,1.63646066188812,0.106296576559544]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":116,"flags":40},"129":{"id":129,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4.06060123443604,2,0.607649207115173],[4.06060123443604,4.5,0.607649207115173],[4.06060123443604,2,0.607649207115173],[3.95863151550293,2,0.440531641244888],[4.06060123443604,2.5,0.607649207115173],[3.95863151550293,2.5,0.440531641244888],[4.06060123443604,3,0.607649207115173],[3.95863151550293,3,0.440531641244888],[4.06060123443604,3.5,0.607649207115173],[3.95863151550293,3.5,0.440531641244888],[4.06060123443604,4,0.607649207115173],[3.95863151550293,4,0.440531641244888],[4.06060123443604,4.5,0.607649207115173],[3.95863151550293,4.5,0.440531641244888]],"colors":[[0,0,0,1]],"centers":[[4.06060123443604,3.25,0.607649207115173],[4.00961637496948,2,0.52409040927887],[4.00961637496948,2.5,0.52409040927887],[4.00961637496948,3,0.52409040927887],[4.00961637496948,3.5,0.52409040927887],[4.00961637496948,4,0.52409040927887],[4.00961637496948,4.5,0.52409040927887]],"ignoreExtent":true,"origId":116,"flags":128},"130":{"id":130,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[3.75469160079956,2,0.106296576559544],[3.75469160079956,2.5,0.106296576559544],[3.75469160079956,3,0.106296576559544],[3.75469160079956,3.5,0.106296576559544],[3.75469160079956,4,0.106296576559544],[3.75469160079956,4.5,0.106296576559544]],"colors":[[0,0,0,1]],"texts":[["2"],["2.5"],["3"],["3.5"],["4"],["4.5"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[3.75469160079956,2,0.106296576559544],[3.75469160079956,2.5,0.106296576559544],[3.75469160079956,3,0.106296576559544],[3.75469160079956,3.5,0.106296576559544],[3.75469160079956,4,0.106296576559544],[3.75469160079956,4.5,0.106296576559544]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":116,"flags":40},"131":{"id":131,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4.06060123443604,1.84040057659149,1],[4.06060123443604,1.84040057659149,7],[4.06060123443604,1.84040057659149,1],[3.95863151550293,1.77242064476013,1],[4.06060123443604,1.84040057659149,2],[3.95863151550293,1.77242064476013,2],[4.06060123443604,1.84040057659149,3],[3.95863151550293,1.77242064476013,3],[4.06060123443604,1.84040057659149,4],[3.95863151550293,1.77242064476013,4],[4.06060123443604,1.84040057659149,5],[3.95863151550293,1.77242064476013,5],[4.06060123443604,1.84040057659149,6],[3.95863151550293,1.77242064476013,6],[4.06060123443604,1.84040057659149,7],[3.95863151550293,1.77242064476013,7]],"colors":[[0,0,0,1]],"centers":[[4.06060123443604,1.84040057659149,4],[4.00961637496948,1.80641055107117,1],[4.00961637496948,1.80641055107117,2],[4.00961637496948,1.80641055107117,3],[4.00961637496948,1.80641055107117,4],[4.00961637496948,1.80641055107117,5],[4.00961637496948,1.80641055107117,6],[4.00961637496948,1.80641055107117,7]],"ignoreExtent":true,"origId":116,"flags":128},"132":{"id":132,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[3.75469160079956,1.63646066188812,1],[3.75469160079956,1.63646066188812,2],[3.75469160079956,1.63646066188812,3],[3.75469160079956,1.63646066188812,4],[3.75469160079956,1.63646066188812,5],[3.75469160079956,1.63646066188812,6],[3.75469160079956,1.63646066188812,7]],"colors":[[0,0,0,1]],"texts":[["1"],["2"],["3"],["4"],["5"],["6"],["7"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[3.75469160079956,1.63646066188812,1],[3.75469160079956,1.63646066188812,2],[3.75469160079956,1.63646066188812,3],[3.75469160079956,1.63646066188812,4],[3.75469160079956,1.63646066188812,5],[3.75469160079956,1.63646066188812,6],[3.75469160079956,1.63646066188812,7]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":116,"flags":40},"133":{"id":133,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4.06060123443604,1.84040057659149,0.607649207115173],[4.06060123443604,4.55959939956665,0.607649207115173],[4.06060123443604,1.84040057659149,7.29235076904297],[4.06060123443604,4.55959939956665,7.29235076904297],[4.06060123443604,1.84040057659149,0.607649207115173],[4.06060123443604,1.84040057659149,7.29235076904297],[4.06060123443604,4.55959939956665,0.607649207115173],[4.06060123443604,4.55959939956665,7.29235076904297],[4.06060123443604,1.84040057659149,0.607649207115173],[8.1393985748291,1.84040057659149,0.607649207115173],[4.06060123443604,1.84040057659149,7.29235076904297],[8.1393985748291,1.84040057659149,7.29235076904297],[4.06060123443604,4.55959939956665,0.607649207115173],[8.1393985748291,4.55959939956665,0.607649207115173],[4.06060123443604,4.55959939956665,7.29235076904297],[8.1393985748291,4.55959939956665,7.29235076904297],[8.1393985748291,1.84040057659149,0.607649207115173],[8.1393985748291,4.55959939956665,0.607649207115173],[8.1393985748291,1.84040057659149,7.29235076904297],[8.1393985748291,4.55959939956665,7.29235076904297],[8.1393985748291,1.84040057659149,0.607649207115173],[8.1393985748291,1.84040057659149,7.29235076904297],[8.1393985748291,4.55959939956665,0.607649207115173],[8.1393985748291,4.55959939956665,7.29235076904297]],"colors":[[0,0,0,1]],"centers":[[4.06060123443604,3.20000004768372,0.607649207115173],[4.06060123443604,3.20000004768372,7.29235076904297],[4.06060123443604,1.84040057659149,3.95000004768372],[4.06060123443604,4.55959939956665,3.95000004768372],[6.09999990463257,1.84040057659149,0.607649207115173],[6.09999990463257,1.84040057659149,7.29235076904297],[6.09999990463257,4.55959939956665,0.607649207115173],[6.09999990463257,4.55959939956665,7.29235076904297],[8.1393985748291,3.20000004768372,0.607649207115173],[8.1393985748291,3.20000004768372,7.29235076904297],[8.1393985748291,1.84040057659149,3.95000004768372],[8.1393985748291,4.55959939956665,3.95000004768372]],"ignoreExtent":true,"origId":116,"flags":128}},"width":481,"height":481,"sphereVerts":{"material":[],"it":[[0,6,7,19,4,8,6,22,2,7,8,25,7,6,8,26,0,7,9,27,2,10,7,24,5,9,10,32,9,7,10,33,0,11,6,18,3,12,11,37,4,6,12,39,6,11,12,40,0,9,11,34,5,13,9,31,3,11,13,44,11,9,13,45,1,14,15,47,2,8,14,49,4,15,8,21,15,14,8,52,1,16,14,46,5,10,16,55,2,14,10,29,14,16,10,57,1,15,17,58,4,12,15,51,3,17,12,36,17,15,12,62,1,17,16,53,3,13,17,61,5,16,13,42,16,17,13,65],[18,20,19,18,21,23,22,21,24,26,25,24,20,23,26,20,19,28,27,19,29,30,24,29,31,33,32,31,28,30,33,28,34,35,18,34,36,38,37,36,22,40,39,22,35,38,40,35,27,41,34,27,42,43,31,42,37,45,44,37,41,43,45,41,46,48,47,46,25,50,49,25,51,52,21,51,48,50,52,48,53,54,46,53,32,56,55,32,49,57,29,49,54,56,57,54,47,59,58,47,39,60,51,39,61,62,36,61,59,60,62,59,58,63,53,58,44,64,61,44,55,65,42,55,63,64,65,63],[19,18,20,20,22,21,23,23,25,24,26,26,26,20,23,23,27,19,28,28,24,29,30,30,32,31,33,33,33,28,30,30,18,34,35,35,37,36,38,38,39,22,40,40,40,35,38,38,34,27,41,41,31,42,43,43,44,37,45,45,45,41,43,43,47,46,48,48,49,25,50,50,21,51,52,52,52,48,50,50,46,53,54,54,55,32,56,56,29,49,57,57,57,54,56,56,58,47,59,59,51,39,60,60,36,61,62,62,62,59,60,60,53,58,63,63,61,44,64,64,42,55,65,65,65,63,64,64]],"vb":[[-1,1,0,0,0,0,-0.707106781186548,-0.707106781186548,0,-0.707106781186548,0,-0.707106781186548,0,0,0.707106781186548,0.707106781186548,0.707106781186548,0.707106781186548,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0,-0.450789386304495,-0.770440042047682,0,-0.450789386304495,0,-0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0.354654234120539,0.450789386304495,0.770440042047682,0.450789386304495,0.450789386304495],[0,0,-1,1,0,0,0,-0.707106781186548,-0.707106781186548,0,-0.707106781186548,0.707106781186548,0.707106781186548,0.707106781186548,-0.707106781186548,0,0,0.707106781186548,0,-0.354654234120539,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0,-0.450789386304495,0,-0.450789386304495,0,-0.450789386304495,-0.770440042047682,0.354654234120539,0.450789386304495,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0.770440042047682,0.450789386304495],[0,0,0,0,-1,1,-0.707106781186548,0,-0.707106781186548,0.707106781186548,0.707106781186548,0,-0.707106781186548,0.707106781186548,0,-0.707106781186548,0.707106781186548,0,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.934997526317783,-0.770440042047682,0,-0.354654234120539,-0.450789386304495,0.354654234120539,0.450789386304495,0.354654234120539,0.450789386304495,0.934997526317783,0.934997526317783,0.770440042047682,0,-0.450789386304495,-0.354654234120539,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0.450789386304495,0.934997526317783,0.770440042047682,0.354654234120539,0.450789386304495,0,-0.354654234120539,-0.450789386304495,0,-0.450789386304495,-0.934997526317783,-0.770440042047682,0.354654234120539,0.450789386304495,0.934997526317783,0.770440042047682,0.450789386304495,0,-0.450789386304495,-0.770440042047682,0,-0.450789386304495,0.450789386304495,0.450789386304495,0.770440042047682]],"primitivetype":"triangle"}},"evals":[]}</script> can be used to plot three columns of the <code>iris</code> data.<br />Allowed plot types include <code>&quot;p&quot;, &quot;l&quot;, &quot;h&quot;, &quot;s&quot;</code>, meaning points, lines, segments from z=0, and spheres. There’s a lot of flexibility in specifying the coordinates; the <a href="../../grDevices/help/xyz.coords"><code>xyz.coords</code></a> function from the <code>grDevices</code> package is used for this.</p>
<p>You can use your mouse to manipulate the plot. The default is that if you click and hold with the left mouse button, you can rotate the plot by dragging it. The right mouse button is used to resize it, and the middle button changes the perspective in the point of view.</p>
<p>If you call <a href="#plot3d"><code>plot3d</code></a> again, it will overwrite the current plot. To open a new graphics window, use <a href="#open3d"><code>open3d</code></a>.</p>
<p>The other high level function is <a name="persp3d"><a href="#persp3d"><code>persp3d</code></a></a> to draw surfaces. It is similar to the classic <a href="../../graphics/help/persp"><code>persp</code></a> function, but with greater flexibility. First, any of <code>x</code>, <code>y</code> or <code>z</code> can be specified using matrices, not just <code>z</code>. This allows parametric surfaces to be plotted. An even simpler specification is possible: <code>x</code> may be a function, in which case <code>persp3d</code> will work out the grid itself. See <a href="../../rgl/help/persp3d.function">?persp3d.function</a> for details. For example, the <code>MASS</code> package estimates Gamma parameters using maximum likelihood in a <a href="../../MASS/help/fitdistr">?MASS::fitdistr</a> example. Here we show the log likelihood surface.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MASS)
<span class="co"># from the fitdistr example</span>
<span class="kw">set.seed</span>(<span class="dv">123</span>)
x &lt;-<span class="st"> </span><span class="kw">rgamma</span>(<span class="dv">100</span>, <span class="dt">shape =</span> <span class="dv">5</span>, <span class="dt">rate =</span> <span class="fl">0.1</span>)
fit &lt;-<span class="st"> </span><span class="kw">fitdistr</span>(x, dgamma, <span class="kw">list</span>(<span class="dt">shape =</span> <span class="dv">1</span>, <span class="dt">rate =</span> <span class="fl">0.1</span>), <span class="dt">lower =</span> <span class="fl">0.001</span>)
loglik &lt;-<span class="st"> </span>function(shape, rate) <span class="kw">sum</span>(<span class="kw">dgamma</span>(x, <span class="dt">shape=</span>shape, <span class="dt">rate=</span>rate, 
                                           <span class="dt">log=</span><span class="ot">TRUE</span>))
loglik &lt;-<span class="st"> </span><span class="kw">Vectorize</span>(loglik)
xlim &lt;-<span class="st"> </span>fit$estimate[<span class="dv">1</span>]+<span class="dv">4</span>*fit$sd[<span class="dv">1</span>]*<span class="kw">c</span>(-<span class="dv">1</span>,<span class="dv">1</span>)
ylim &lt;-<span class="st"> </span>fit$estimate[<span class="dv">2</span>]+<span class="dv">4</span>*fit$sd[<span class="dv">2</span>]*<span class="kw">c</span>(-<span class="dv">1</span>,<span class="dv">1</span>)

<span class="kw">mfrow3d</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dt">sharedMouse =</span> <span class="ot">TRUE</span>)
<span class="kw">persp3d</span>(loglik, 
        <span class="dt">xlim =</span> xlim, <span class="dt">ylim =</span> ylim,
        <span class="dt">n =</span> <span class="dv">30</span>)
zlim &lt;-<span class="st"> </span>fit$loglik +<span class="st"> </span><span class="kw">c</span>(-<span class="kw">qchisq</span>(<span class="fl">0.99</span>, <span class="dv">2</span>)/<span class="dv">2</span>, <span class="dv">0</span>)
<span class="kw">next3d</span>()
<span class="kw">persp3d</span>(loglik, 
        <span class="dt">xlim =</span> xlim, <span class="dt">ylim =</span> ylim, <span class="dt">zlim =</span> zlim,
        <span class="dt">n =</span> <span class="dv">30</span>)</code></pre>
<script>CanvasMatrix4=function(m){if(typeof m=='object'){if("length"in m&&m.length>=16){this.load(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]);return}else if(m instanceof CanvasMatrix4){this.load(m);return}}this.makeIdentity()};CanvasMatrix4.prototype.load=function(){if(arguments.length==1&&typeof arguments[0]=='object'){var matrix=arguments[0];if("length"in matrix&&matrix.length==16){this.m11=matrix[0];this.m12=matrix[1];this.m13=matrix[2];this.m14=matrix[3];this.m21=matrix[4];this.m22=matrix[5];this.m23=matrix[6];this.m24=matrix[7];this.m31=matrix[8];this.m32=matrix[9];this.m33=matrix[10];this.m34=matrix[11];this.m41=matrix[12];this.m42=matrix[13];this.m43=matrix[14];this.m44=matrix[15];return}if(arguments[0]instanceof CanvasMatrix4){this.m11=matrix.m11;this.m12=matrix.m12;this.m13=matrix.m13;this.m14=matrix.m14;this.m21=matrix.m21;this.m22=matrix.m22;this.m23=matrix.m23;this.m24=matrix.m24;this.m31=matrix.m31;this.m32=matrix.m32;this.m33=matrix.m33;this.m34=matrix.m34;this.m41=matrix.m41;this.m42=matrix.m42;this.m43=matrix.m43;this.m44=matrix.m44;return}}this.makeIdentity()};CanvasMatrix4.prototype.getAsArray=function(){return[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44]};CanvasMatrix4.prototype.getAsWebGLFloatArray=function(){return new WebGLFloatArray(this.getAsArray())};CanvasMatrix4.prototype.makeIdentity=function(){this.m11=1;this.m12=0;this.m13=0;this.m14=0;this.m21=0;this.m22=1;this.m23=0;this.m24=0;this.m31=0;this.m32=0;this.m33=1;this.m34=0;this.m41=0;this.m42=0;this.m43=0;this.m44=1};CanvasMatrix4.prototype.transpose=function(){var tmp=this.m12;this.m12=this.m21;this.m21=tmp;tmp=this.m13;this.m13=this.m31;this.m31=tmp;tmp=this.m14;this.m14=this.m41;this.m41=tmp;tmp=this.m23;this.m23=this.m32;this.m32=tmp;tmp=this.m24;this.m24=this.m42;this.m42=tmp;tmp=this.m34;this.m34=this.m43;this.m43=tmp};CanvasMatrix4.prototype.invert=function(){var det=this._determinant4x4();if(Math.abs(det)<1e-8)return null;this._makeAdjoint();this.m11/=det;this.m12/=det;this.m13/=det;this.m14/=det;this.m21/=det;this.m22/=det;this.m23/=det;this.m24/=det;this.m31/=det;this.m32/=det;this.m33/=det;this.m34/=det;this.m41/=det;this.m42/=det;this.m43/=det;this.m44/=det};CanvasMatrix4.prototype.translate=function(x,y,z){if(x==undefined)x=0;if(y==undefined)y=0;if(z==undefined)z=0;var matrix=new CanvasMatrix4();matrix.m41=x;matrix.m42=y;matrix.m43=z;this.multRight(matrix)};CanvasMatrix4.prototype.scale=function(x,y,z){if(x==undefined)x=1;if(z==undefined){if(y==undefined){y=x;z=x}else z=1}else if(y==undefined)y=x;var matrix=new CanvasMatrix4();matrix.m11=x;matrix.m22=y;matrix.m33=z;this.multRight(matrix)};CanvasMatrix4.prototype.rotate=function(angle,x,y,z){angle=angle/180*Math.PI;angle/=2;var sinA=Math.sin(angle);var cosA=Math.cos(angle);var sinA2=sinA*sinA;var length=Math.sqrt(x*x+y*y+z*z);if(length==0){x=0;y=0;z=1}else if(length!=1){x/=length;y/=length;z/=length}var mat=new CanvasMatrix4();if(x==1&&y==0&&z==0){mat.m11=1;mat.m12=0;mat.m13=0;mat.m21=0;mat.m22=1-2*sinA2;mat.m23=2*sinA*cosA;mat.m31=0;mat.m32=-2*sinA*cosA;mat.m33=1-2*sinA2;mat.m14=mat.m24=mat.m34=0;mat.m41=mat.m42=mat.m43=0;mat.m44=1}else if(x==0&&y==1&&z==0){mat.m11=1-2*sinA2;mat.m12=0;mat.m13=-2*sinA*cosA;mat.m21=0;mat.m22=1;mat.m23=0;mat.m31=2*sinA*cosA;mat.m32=0;mat.m33=1-2*sinA2;mat.m14=mat.m24=mat.m34=0;mat.m41=mat.m42=mat.m43=0;mat.m44=1}else if(x==0&&y==0&&z==1){mat.m11=1-2*sinA2;mat.m12=2*sinA*cosA;mat.m13=0;mat.m21=-2*sinA*cosA;mat.m22=1-2*sinA2;mat.m23=0;mat.m31=0;mat.m32=0;mat.m33=1;mat.m14=mat.m24=mat.m34=0;mat.m41=mat.m42=mat.m43=0;mat.m44=1}else{var x2=x*x;var y2=y*y;var z2=z*z;mat.m11=1-2*(y2+z2)*sinA2;mat.m12=2*(x*y*sinA2+z*sinA*cosA);mat.m13=2*(x*z*sinA2-y*sinA*cosA);mat.m21=2*(y*x*sinA2-z*sinA*cosA);mat.m22=1-2*(z2+x2)*sinA2;mat.m23=2*(y*z*sinA2+x*sinA*cosA);mat.m31=2*(z*x*sinA2+y*sinA*cosA);mat.m32=2*(z*y*sinA2-x*sinA*cosA);mat.m33=1-2*(x2+y2)*sinA2;mat.m14=mat.m24=mat.m34=0;mat.m41=mat.m42=mat.m43=0;mat.m44=1}this.multRight(mat)};CanvasMatrix4.prototype.multRight=function(mat){var m11=(this.m11*mat.m11+this.m12*mat.m21+this.m13*mat.m31+this.m14*mat.m41);var m12=(this.m11*mat.m12+this.m12*mat.m22+this.m13*mat.m32+this.m14*mat.m42);var m13=(this.m11*mat.m13+this.m12*mat.m23+this.m13*mat.m33+this.m14*mat.m43);var m14=(this.m11*mat.m14+this.m12*mat.m24+this.m13*mat.m34+this.m14*mat.m44);var m21=(this.m21*mat.m11+this.m22*mat.m21+this.m23*mat.m31+this.m24*mat.m41);var m22=(this.m21*mat.m12+this.m22*mat.m22+this.m23*mat.m32+this.m24*mat.m42);var m23=(this.m21*mat.m13+this.m22*mat.m23+this.m23*mat.m33+this.m24*mat.m43);var m24=(this.m21*mat.m14+this.m22*mat.m24+this.m23*mat.m34+this.m24*mat.m44);var m31=(this.m31*mat.m11+this.m32*mat.m21+this.m33*mat.m31+this.m34*mat.m41);var m32=(this.m31*mat.m12+this.m32*mat.m22+this.m33*mat.m32+this.m34*mat.m42);var m33=(this.m31*mat.m13+this.m32*mat.m23+this.m33*mat.m33+this.m34*mat.m43);var m34=(this.m31*mat.m14+this.m32*mat.m24+this.m33*mat.m34+this.m34*mat.m44);var m41=(this.m41*mat.m11+this.m42*mat.m21+this.m43*mat.m31+this.m44*mat.m41);var m42=(this.m41*mat.m12+this.m42*mat.m22+this.m43*mat.m32+this.m44*mat.m42);var m43=(this.m41*mat.m13+this.m42*mat.m23+this.m43*mat.m33+this.m44*mat.m43);var m44=(this.m41*mat.m14+this.m42*mat.m24+this.m43*mat.m34+this.m44*mat.m44);this.m11=m11;this.m12=m12;this.m13=m13;this.m14=m14;this.m21=m21;this.m22=m22;this.m23=m23;this.m24=m24;this.m31=m31;this.m32=m32;this.m33=m33;this.m34=m34;this.m41=m41;this.m42=m42;this.m43=m43;this.m44=m44};CanvasMatrix4.prototype.multLeft=function(mat){var m11=(mat.m11*this.m11+mat.m12*this.m21+mat.m13*this.m31+mat.m14*this.m41);var m12=(mat.m11*this.m12+mat.m12*this.m22+mat.m13*this.m32+mat.m14*this.m42);var m13=(mat.m11*this.m13+mat.m12*this.m23+mat.m13*this.m33+mat.m14*this.m43);var m14=(mat.m11*this.m14+mat.m12*this.m24+mat.m13*this.m34+mat.m14*this.m44);var m21=(mat.m21*this.m11+mat.m22*this.m21+mat.m23*this.m31+mat.m24*this.m41);var m22=(mat.m21*this.m12+mat.m22*this.m22+mat.m23*this.m32+mat.m24*this.m42);var m23=(mat.m21*this.m13+mat.m22*this.m23+mat.m23*this.m33+mat.m24*this.m43);var m24=(mat.m21*this.m14+mat.m22*this.m24+mat.m23*this.m34+mat.m24*this.m44);var m31=(mat.m31*this.m11+mat.m32*this.m21+mat.m33*this.m31+mat.m34*this.m41);var m32=(mat.m31*this.m12+mat.m32*this.m22+mat.m33*this.m32+mat.m34*this.m42);var m33=(mat.m31*this.m13+mat.m32*this.m23+mat.m33*this.m33+mat.m34*this.m43);var m34=(mat.m31*this.m14+mat.m32*this.m24+mat.m33*this.m34+mat.m34*this.m44);var m41=(mat.m41*this.m11+mat.m42*this.m21+mat.m43*this.m31+mat.m44*this.m41);var m42=(mat.m41*this.m12+mat.m42*this.m22+mat.m43*this.m32+mat.m44*this.m42);var m43=(mat.m41*this.m13+mat.m42*this.m23+mat.m43*this.m33+mat.m44*this.m43);var m44=(mat.m41*this.m14+mat.m42*this.m24+mat.m43*this.m34+mat.m44*this.m44);this.m11=m11;this.m12=m12;this.m13=m13;this.m14=m14;this.m21=m21;this.m22=m22;this.m23=m23;this.m24=m24;this.m31=m31;this.m32=m32;this.m33=m33;this.m34=m34;this.m41=m41;this.m42=m42;this.m43=m43;this.m44=m44};CanvasMatrix4.prototype.ortho=function(left,right,bottom,top,near,far){var tx=(left+right)/(left-right);var ty=(top+bottom)/(top-bottom);var tz=(far+near)/(far-near);var matrix=new CanvasMatrix4();matrix.m11=2/(left-right);matrix.m12=0;matrix.m13=0;matrix.m14=0;matrix.m21=0;matrix.m22=2/(top-bottom);matrix.m23=0;matrix.m24=0;matrix.m31=0;matrix.m32=0;matrix.m33=-2/(far-near);matrix.m34=0;matrix.m41=tx;matrix.m42=ty;matrix.m43=tz;matrix.m44=1;this.multRight(matrix)};CanvasMatrix4.prototype.frustum=function(left,right,bottom,top,near,far){var matrix=new CanvasMatrix4();var A=(right+left)/(right-left);var B=(top+bottom)/(top-bottom);var C=-(far+near)/(far-near);var D=-(2*far*near)/(far-near);matrix.m11=(2*near)/(right-left);matrix.m12=0;matrix.m13=0;matrix.m14=0;matrix.m21=0;matrix.m22=2*near/(top-bottom);matrix.m23=0;matrix.m24=0;matrix.m31=A;matrix.m32=B;matrix.m33=C;matrix.m34=-1;matrix.m41=0;matrix.m42=0;matrix.m43=D;matrix.m44=0;this.multRight(matrix)};CanvasMatrix4.prototype.perspective=function(fovy,aspect,zNear,zFar){var top=Math.tan(fovy*Math.PI/360)*zNear;var bottom=-top;var left=aspect*bottom;var right=aspect*top;this.frustum(left,right,bottom,top,zNear,zFar)};CanvasMatrix4.prototype.lookat=function(eyex,eyey,eyez,centerx,centery,centerz,upx,upy,upz){var matrix=new CanvasMatrix4();var zx=eyex-centerx;var zy=eyey-centery;var zz=eyez-centerz;var mag=Math.sqrt(zx*zx+zy*zy+zz*zz);if(mag){zx/=mag;zy/=mag;zz/=mag}var yx=upx;var yy=upy;var yz=upz;xx=yy*zz-yz*zy;xy=-yx*zz+yz*zx;xz=yx*zy-yy*zx;yx=zy*xz-zz*xy;yy=-zx*xz+zz*xx;yx=zx*xy-zy*xx;mag=Math.sqrt(xx*xx+xy*xy+xz*xz);if(mag){xx/=mag;xy/=mag;xz/=mag}mag=Math.sqrt(yx*yx+yy*yy+yz*yz);if(mag){yx/=mag;yy/=mag;yz/=mag}matrix.m11=xx;matrix.m12=xy;matrix.m13=xz;matrix.m14=0;matrix.m21=yx;matrix.m22=yy;matrix.m23=yz;matrix.m24=0;matrix.m31=zx;matrix.m32=zy;matrix.m33=zz;matrix.m34=0;matrix.m41=0;matrix.m42=0;matrix.m43=0;matrix.m44=1;matrix.translate(-eyex,-eyey,-eyez);this.multRight(matrix)};CanvasMatrix4.prototype._determinant2x2=function(a,b,c,d){return a*d-b*c};CanvasMatrix4.prototype._determinant3x3=function(a1,a2,a3,b1,b2,b3,c1,c2,c3){return a1*this._determinant2x2(b2,b3,c2,c3)-b1*this._determinant2x2(a2,a3,c2,c3)+c1*this._determinant2x2(a2,a3,b2,b3)};CanvasMatrix4.prototype._determinant4x4=function(){var a1=this.m11;var b1=this.m12;var c1=this.m13;var d1=this.m14;var a2=this.m21;var b2=this.m22;var c2=this.m23;var d2=this.m24;var a3=this.m31;var b3=this.m32;var c3=this.m33;var d3=this.m34;var a4=this.m41;var b4=this.m42;var c4=this.m43;var d4=this.m44;return a1*this._determinant3x3(b2,b3,b4,c2,c3,c4,d2,d3,d4)-b1*this._determinant3x3(a2,a3,a4,c2,c3,c4,d2,d3,d4)+c1*this._determinant3x3(a2,a3,a4,b2,b3,b4,d2,d3,d4)-d1*this._determinant3x3(a2,a3,a4,b2,b3,b4,c2,c3,c4)};CanvasMatrix4.prototype._makeAdjoint=function(){var a1=this.m11;var b1=this.m12;var c1=this.m13;var d1=this.m14;var a2=this.m21;var b2=this.m22;var c2=this.m23;var d2=this.m24;var a3=this.m31;var b3=this.m32;var c3=this.m33;var d3=this.m34;var a4=this.m41;var b4=this.m42;var c4=this.m43;var d4=this.m44;this.m11=this._determinant3x3(b2,b3,b4,c2,c3,c4,d2,d3,d4);this.m21=-this._determinant3x3(a2,a3,a4,c2,c3,c4,d2,d3,d4);this.m31=this._determinant3x3(a2,a3,a4,b2,b3,b4,d2,d3,d4);this.m41=-this._determinant3x3(a2,a3,a4,b2,b3,b4,c2,c3,c4);this.m12=-this._determinant3x3(b1,b3,b4,c1,c3,c4,d1,d3,d4);this.m22=this._determinant3x3(a1,a3,a4,c1,c3,c4,d1,d3,d4);this.m32=-this._determinant3x3(a1,a3,a4,b1,b3,b4,d1,d3,d4);this.m42=this._determinant3x3(a1,a3,a4,b1,b3,b4,c1,c3,c4);this.m13=this._determinant3x3(b1,b2,b4,c1,c2,c4,d1,d2,d4);this.m23=-this._determinant3x3(a1,a2,a4,c1,c2,c4,d1,d2,d4);this.m33=this._determinant3x3(a1,a2,a4,b1,b2,b4,d1,d2,d4);this.m43=-this._determinant3x3(a1,a2,a4,b1,b2,b4,c1,c2,c4);this.m14=-this._determinant3x3(b1,b2,b3,c1,c2,c3,d1,d2,d3);this.m24=this._determinant3x3(a1,a2,a3,c1,c2,c3,d1,d2,d3);this.m34=-this._determinant3x3(a1,a2,a3,b1,b2,b3,d1,d2,d3);this.m44=this._determinant3x3(a1,a2,a3,b1,b2,b3,c1,c2,c3)}</script>
<script>
rglwidgetClass = function() {
this.canvas = null;
this.userMatrix = new CanvasMatrix4();
this.types = [];
this.prMatrix = new CanvasMatrix4();
this.mvMatrix = new CanvasMatrix4();
this.vp = null;
this.prmvMatrix = null;
this.origs = null;
this.gl = null;
this.scene = null;
};
(function() {
this.multMV = function(M, v) {
return [ M.m11 * v[0] + M.m12 * v[1] + M.m13 * v[2] + M.m14 * v[3],
M.m21 * v[0] + M.m22 * v[1] + M.m23 * v[2] + M.m24 * v[3],
M.m31 * v[0] + M.m32 * v[1] + M.m33 * v[2] + M.m34 * v[3],
M.m41 * v[0] + M.m42 * v[1] + M.m43 * v[2] + M.m44 * v[3]
];
};
this.vlen = function(v) {
return Math.sqrt(this.dotprod(v, v));
};
this.dotprod = function(a, b) {
return a[0]*b[0] + a[1]*b[1] + a[2]*b[2];
}
this.xprod = function(a, b) {
return [a[1]*b[2] - a[2]*b[1],
a[2]*b[0] - a[0]*b[2],
a[0]*b[1] - a[1]*b[0]];
};
this.cbind = function(a, b) {
return a.map(function(currentValue, index, array) {
return currentValue.concat(b[index]);
});
};
this.swap = function(a, i, j) {
var temp = a[i];
a[i] = a[j];
a[j] = temp;
};
this.flatten = function(a) {
return [].concat.apply([], a);
};
/* set element of 1d or 2d array as if it was flattened.  Column major, zero based! */
this.setElement = function(a, i, value) {
if (Array.isArray(a[0])) {
var dim = a.length,
col = Math.floor(i/dim),
row = i % dim;
a[row][col] = value;
} else {
a[i] = value;
}
};
this.transpose = function(a) {
var newArray = [],
n = a.length,
m = a[0].length,
i;
for(i = 0; i < m; i++){
newArray.push([]);
}
for(i = 0; i < n; i++){
for(var j = 0; j < m; j++){
newArray[j].push(a[i][j]);
}
}
return newArray;
};
this.sumsq = function(x) {
var result = 0, i;
for (i=0; i < x.length; i++)
result += x[i]*x[i];
return result;
};
this.toCanvasMatrix4 = function(mat) {
if (mat instanceof CanvasMatrix4)
return mat;
var result = new CanvasMatrix4();
mat = this.flatten(this.transpose(mat));
result.load(mat);
return result;
};
this.stringToRgb = function(s) {
s = s.replace("#", "");
var bigint = parseInt(s, 16);
return [((bigint >> 16) & 255)/255,
((bigint >> 8) & 255)/255,
(bigint & 255)/255];
};
this.componentProduct = function(x, y) {
if (typeof y === "undefined") {
this.alertOnce("Bad arg to componentProduct");
}
var result = new Float32Array(3), i;
for (i = 0; i<3; i++)
result[i] = x[i]*y[i];
return result;
};
this.getPowerOfTwo = function(value) {
var pow = 1;
while(pow<value) {
pow *= 2;
}
return pow;
};
this.unique = function(arr) {
arr = [].concat(arr);
return arr.filter(function(value, index, self) {
return self.indexOf(value) === index;
});
};
this.repeatToLen = function(arr, len) {
arr = [].concat(arr);
while (arr.length < len/2)
arr = arr.concat(arr);
return arr.concat(arr.slice(0, len - arr.length));
};
this.alertOnce = function(msg) {
if (typeof this.alerted !== "undefined")
return;
this.alerted = true;
alert(msg);
};
this.f_is_lit = 1;
this.f_is_smooth = 2;
this.f_has_texture = 4;
this.f_is_indexed = 8;
this.f_depth_sort = 16;
this.f_fixed_quads = 32;
this.f_is_transparent = 64;
this.f_is_lines = 128;
this.f_sprites_3d = 256;
this.f_sprite_3d = 512;
this.f_is_subscene = 1024;
this.f_is_clipplanes = 2048;
this.whichList = function(id) {
var obj = this.getObj(id),
flags = obj.flags;
if (obj.type === "light")
return "lights";
if (flags & this.f_is_subscene)
return "subscenes";
if (flags & this.f_is_clipplanes)
return "clipplanes";
if (flags & this.f_is_transparent)
return "transparent";
return "opaque";
};
this.getObj = function(id) {
if (typeof id !== "number") {
this.alertOnce("getObj id is "+typeof id);
}
return this.scene.objects[id];
};
this.getIdsByType = function(type, subscene) {
var
result = [], i, self = this;
if (typeof subscene === "undefined") {
Object.keys(this.scene.objects).forEach(
function(key) {
key = parseInt(key, 10);
if (self.getObj(key).type === type)
result.push(key);
});
} else {
ids = this.getObj(subscene).objects;
for (i=0; i < ids.length; i++) {
if (this.getObj(ids[i]).type === type) {
result.push(ids[i]);
}
}
}
return result;
};
this.getMaterial = function(id, property) {
var obj = this.getObj(id),
mat = obj.material[property];
if (typeof mat === "undefined")
mat = this.scene.material[property];
return mat;
};
this.inSubscene = function(id, subscene) {
return this.getObj(subscene).objects.indexOf(id) > -1;
};
this.addToSubscene = function(id, subscene) {
var thelist,
thesub = this.getObj(subscene),
ids = [id],
obj = this.getObj(id), i;
if (typeof obj.newIds !== "undefined") {
ids = ids.concat(obj.newIds);
}
for (i = 0; i < ids.length; i++) {
id = ids[i];
if (thesub.objects.indexOf(id) == -1) {
thelist = this.whichList(id);
thesub.objects.push(id);
thesub[thelist].push(id);
}
}
};
this.delFromSubscene = function(id, subscene) {
var thelist,
thesub = this.getObj(subscene),
obj = this.getObj(id),
ids = [id], i, newIds;
if (typeof obj.newIds !== "undefined")
ids = ids.concat(obj.newIds);
for (j=0; j<ids.length;j++) {
id = ids[j];
i = thesub.objects.indexOf(id);
if (i > -1) {
thesub.objects.splice(i, 1);
thelist = this.whichList(id);
i = thesub[thelist].indexOf(id);
thesub[thelist].splice(i, 1);
}
}
};
this.setSubsceneEntries = function(ids, subsceneid) {
var sub = this.getObj(subsceneid);
sub.objects = ids;
this.initSubscene(subsceneid);
};
this.getSubsceneEntries = function(subscene) {
return this.getObj(subscene).objects;
};
this.getChildSubscenes = function(subscene) {
return this.getObj(subscene).subscenes;
};
this.getVertexShader = function(id) {
var obj = this.getObj(id),
flags = obj.flags,
type = obj.type,
is_lit = flags & this.f_is_lit,
has_texture = flags & this.f_has_texture,
fixed_quads = flags & this.f_fixed_quads,
sprites_3d = flags & this.f_sprites_3d,
sprite_3d = flags & this.f_sprite_3d,
nclipplanes = this.countClipplanes(),
result;
if (type === "clipplanes" || sprites_3d) return;
result = "  /* ****** "+type+" object "+id+" vertex shader ****** */\n"+
"   attribute vec3 aPos;\n"+
"   attribute vec4 aCol;\n"+
" uniform mat4 mvMatrix;\n"+
" uniform mat4 prMatrix;\n"+
" varying vec4 vCol;\n"+
" varying vec4 vPosition;\n";
if (is_lit && !fixed_quads)
result = result + " attribute vec3 aNorm;\n"+
" uniform mat4 normMatrix;\n"+
" varying vec3 vNormal;\n";
if (has_texture || type === "text")
result = result + " attribute vec2 aTexcoord;\n"+
" varying vec2 vTexcoord;\n";
if (type === "text")
result = result + " uniform vec2 textScale;\n";
if (fixed_quads)
result = result + " attribute vec2 aOfs;\n";
else if (sprite_3d)
result = result + " uniform vec3 uOrig;\n"+
" uniform float uSize;\n"+
" uniform mat4 usermat;\n";
result = result + " void main(void) {\n";
if (nclipplanes || (!fixed_quads && !sprite_3d))
result = result + "   vPosition = mvMatrix * vec4(aPos, 1.);\n";
if (!fixed_quads && !sprite_3d)
result = result + "   gl_Position = prMatrix * vPosition;\n";
if (type == "points") {
var size = this.getMaterial(id, "size");
result = result + "   gl_PointSize = "+size.toFixed(1)+";\n";
}
result = result + "   vCol = aCol;\n";
if (is_lit && !fixed_quads && !sprite_3d)
result = result + "   vNormal = normalize((normMatrix * vec4(aNorm, 1.)).xyz);\n";
if (has_texture || type === "text")
result = result + "   vTexcoord = aTexcoord;\n";
if (type == "text")
result = result + "   vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);\n"+
"   pos = pos/pos.w;\n"+
"   gl_Position = pos + vec4(aOfs*textScale, 0.,0.);\n";
if (type == "sprites")
result = result + "   vec4 pos = mvMatrix * vec4(aPos, 1.);\n"+
"   pos = pos/pos.w + vec4(aOfs, 0., 0.);\n"+
"   gl_Position = prMatrix*pos;\n";
if (sprite_3d)
result = result + "   vNormal = normalize((normMatrix * vec4(aNorm, 1.)).xyz);\n"+
"   vec4 pos = mvMatrix * vec4(uOrig, 1.);\n"+
"   vPosition = pos/pos.w + vec4(uSize*(vec4(aPos, 1.)*usermat).xyz,0.);\n"+
"   gl_Position = prMatrix * vPosition;\n";
result = result + " }\n";
return result;
};
this.getFragmentShader = function(id) {
var obj = this.getObj(id),
flags = obj.flags,
type = obj.type,
is_lit = flags & this.f_is_lit,
has_texture = flags & this.f_has_texture,
fixed_quads = flags & this.f_fixed_quads,
sprites_3d = flags & this.f_sprites_3d,
nclipplanes = this.countClipplanes(), i,
texture_format, nlights,
result;
if (type === "clipplanes" || sprites_3d) return;
if (has_texture)
texture_format = this.getMaterial(id, "textype");
result = "/* ****** "+type+" object "+id+" fragment shader ****** */\n"+
"#ifdef GL_ES\n"+
"  precision highp float;\n"+
"#endif\n"+
"  varying vec4 vCol; // carries alpha\n"+
"  varying vec4 vPosition;\n";
if (has_texture || type === "text")
result = result + " varying vec2 vTexcoord;\n"+
" uniform sampler2D uSampler;\n";
if (is_lit && !fixed_quads)
result = result + " varying vec3 vNormal;\n";
for (i = 0; i < nclipplanes; i++)
result = result + " uniform vec4 vClipplane"+i+";\n";
if (is_lit) {
nlights = this.countLights();
if (nlights)
result = result + " uniform mat4 mvMatrix;\n";
else
is_lit = false;
}
if (is_lit) {
result = result + "   uniform vec3 emission;\n"+
"   uniform float shininess;\n";
for (i=0; i < nlights; i++) {
result = result + "   uniform vec3 ambient" + i + ";\n"+
"   uniform vec3 specular" + i +"; // light*material\n"+
"   uniform vec3 diffuse" + i + ";\n"+
"   uniform vec3 lightDir" + i + ";\n"+
"   uniform bool viewpoint" + i + ";\n"+
"   uniform bool finite" + i + ";\n";
}
}
result = result + " void main(void) {\n";
for (i=0; i < nclipplanes;i++)
result = result + "   if (dot(vPosition, vClipplane"+i+") < 0.0) discard;\n";
if (is_lit) {
result = result + "   vec3 eye = normalize(-vPosition.xyz);\n"+
"   vec3 lightdir;\n"+
"   vec4 colDiff;\n"+
"   vec3 halfVec;\n"+
"   vec4 lighteffect = vec4(emission, 0.);\n"+
"   vec3 col;\n"+
"   float nDotL;\n";
if (fixed_quads) {
result = result +   "     vec3 n = vec3(0., 0., 1.);\n";
}
else {
result = result +   "     vec3 n = normalize(vNormal);\n"+
"   n = -faceforward(n, n, eye);\n";
}
for (i=0; i < nlights; i++) {
result = result + "   colDiff = vec4(vCol.rgb * diffuse" + i + ", vCol.a);\n"+
"   lightdir = lightDir" + i + ";\n"+
"   if (!viewpoint" + i +")\n"+
"     lightdir = (mvMatrix * vec4(lightdir, 1.)).xyz;\n"+
"   if (!finite" + i + ") {\n"+
"     halfVec = normalize(lightdir + eye);\n"+
"   } else {\n"+
"     lightdir = normalize(lightdir - vPosition.xyz);\n"+
"     halfVec = normalize(lightdir + eye);\n"+
"   }\n"+
"     col = ambient" + i + ";\n"+
"   nDotL = dot(n, lightdir);\n"+
"   col = col + max(nDotL, 0.) * colDiff.rgb;\n"+
"   col = col + pow(max(dot(halfVec, n), 0.), shininess) * specular" + i + ";\n"+
"   lighteffect = lighteffect + vec4(col, colDiff.a);\n";
}
} else {
result = result +   "   vec4 colDiff = vCol;\n"+
"     vec4 lighteffect = colDiff;\n";
}
if ((has_texture && texture_format === "rgba") || type === "text")
result = result +   "     vec4 textureColor = lighteffect*texture2D(uSampler, vTexcoord);\n";
if (has_texture) {
result = result + {
rgb:            "   vec4 textureColor = lighteffect*vec4(texture2D(uSampler, vTexcoord).rgb, 1.);\n",
alpha:          "   vec4 textureColor = texture2D(uSampler, vTexcoord);\n"+
"   float luminance = dot(vec3(1.,1.,1.), textureColor.rgb)/3.;\n"+
"   textureColor =  vec4(lighteffect.rgb, lighteffect.a*luminance);\n",
luminance:      "   vec4 textureColor = vec4(lighteffect.rgb*dot(texture2D(uSampler, vTexcoord).rgb, vec3(1.,1.,1.))/3., lighteffect.a);\n",
"luminance.alpha":"   vec4 textureColor = texture2D(uSampler, vTexcoord);\n"+
"   float luminance = dot(vec3(1.,1.,1.),textureColor.rgb)/3.;\n"+
"   textureColor = vec4(lighteffect.rgb*luminance, lighteffect.a*textureColor.a);\n"
}[texture_format]+
"   gl_FragColor = textureColor;\n";
} else if (type === "text") {
result = result +   "     if (textureColor.a < 0.1)\n"+
"     discard;\n"+
"   else\n"+
"     gl_FragColor = textureColor;\n";
} else
result = result +   "   gl_FragColor = lighteffect;\n";
result = result + " }\n";
return result;
};
this.getShader = function(shaderType, code) {
var gl = this.gl, shader;
shader = gl.createShader(shaderType);
gl.shaderSource(shader, code);
gl.compileShader(shader);
if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) === 0)
alert(gl.getShaderInfoLog(shader));
return shader;
};
this.handleLoadedTexture = function(texture, textureCanvas) {
var gl = this.gl;
gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
gl.bindTexture(gl.TEXTURE_2D, texture);
gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
gl.generateMipmap(gl.TEXTURE_2D);
gl.bindTexture(gl.TEXTURE_2D, null);
};
this.loadImageToTexture = function(uri, texture) {
var canvas = this.textureCanvas,
ctx = canvas.getContext("2d"),
image = new Image(),
self = this;
image.onload = function() {
var w = image.width,
h = image.height,
canvasX = self.getPowerOfTwo(w),
canvasY = self.getPowerOfTwo(h),
gl = self.gl,
maxTexSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);
if (maxTexSize > 4096) maxTexSize = 4096;
while (canvasX > 1 && canvasY > 1 && (canvasX > maxTexSize || canvasY > maxTexSize)) {
canvasX /= 2;
canvasY /= 2;
}
canvas.width = canvasX;
canvas.height = canvasY;
ctx.imageSmoothingEnabled = true;
ctx.drawImage(image, 0, 0, canvasX, canvasY);
self.handleLoadedTexture(texture, canvas);
self.drawScene();
};
image.src = uri;
};
this.drawTextToCanvas = function(text, cex, family, font) {
var canvasX, canvasY,
textY,
scaling = 20,
textColour = "white",
backgroundColour = "rgba(0,0,0,0)",
canvas = this.textureCanvas,
ctx = canvas.getContext("2d"),
i, textHeights = [], widths = [], offset = 0, offsets = [],
fontStrings = [],
getFontString = function(i) {
textHeights[i] = scaling*cex[i];
var fontString = textHeights[i] + "px",
family0 = family[i],
font0 = font[i];
if (family0 === "sans")
family0 = "sans-serif";
else if (family0 === "mono")
family0 = "monospace";
fontString = fontString + " " + family0;
if (font0 === 2 || font0 === 4)
fontString = "bold " + fontString;
if (font0 === 3 || font0 === 4)
fontString = "italic " + fontString;
return fontString;
};
cex = this.repeatToLen(cex, text.length);
family = this.repeatToLen(family, text.length);
font = this.repeatToLen(font, text.length);
canvasX = 1;
for (i = 0; i < text.length; i++)  {
ctx.font = fontStrings[i] = getFontString(i);
widths[i] = ctx.measureText(text[i]).width;
offset = offsets[i] = offset + 2*textHeights[i];
canvasX = (widths[i] > canvasX) ? widths[i] : canvasX;
}
canvasX = this.getPowerOfTwo(canvasX);
canvasY = this.getPowerOfTwo(offset);
canvas.width = canvasX;
canvas.height = canvasY;
ctx.fillStyle = backgroundColour;
ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
ctx.textBaseline = "alphabetic";
for(i = 0; i < text.length; i++) {
textY = offsets[i];
ctx.font = fontStrings[i];
ctx.fillStyle = textColour;
ctx.textAlign = "left";
ctx.fillText(text[i], 0,  textY);
}
return {canvasX:canvasX, canvasY:canvasY,
widths:widths, textHeights:textHeights,
offsets:offsets};
};
this.setViewport = function(id) {
var gl = this.gl,
vp = this.getObj(id).par3d.viewport,
x = vp.x*this.canvas.width,
y = vp.y*this.canvas.height,
width = vp.width*this.canvas.width,
height = vp.height*this.canvas.height;
this.vp = {x:x, y:y, width:width, height:height};
gl.viewport(x, y, width, height);
gl.scissor(x, y, width, height);
};
this.setprMatrix = function(id) {
var subscene = this.getObj(id),
embedding = subscene.embeddings.projection;
if (embedding === "replace")
this.prMatrix.makeIdentity();
else
this.setprMatrix(subscene.parent);
if (embedding === "inherit")
return;
// This is based on the Frustum::enclose code from geom.cpp
var bbox = subscene.par3d.bbox,
scale = subscene.par3d.scale,
ranges = [(bbox[1]-bbox[0])*scale[0]/2,
(bbox[3]-bbox[2])*scale[1]/2,
(bbox[5]-bbox[4])*scale[2]/2],
radius = Math.sqrt(this.sumsq(ranges))*1.1; // A bit bigger to handle labels
if (radius <= 0) radius = 1;
var observer = subscene.par3d.observer,
distance = observer[2],
t = Math.tan(subscene.par3d.FOV*Math.PI/360),
near = distance - radius,
far = distance + radius,
hlen = t*near,
aspect = this.vp.width/this.vp.height,
z = subscene.par3d.zoom;
if (aspect > 1)
this.prMatrix.frustum(-hlen*aspect*z, hlen*aspect*z,
-hlen*z, hlen*z, near, far);
else
this.prMatrix.frustum(-hlen*z, hlen*z,
-hlen*z/aspect, hlen*z/aspect,
near, far);
};
this.setmvMatrix = function(id) {
var observer = this.getObj(id).par3d.observer;
this.mvMatrix.makeIdentity();
this.setmodelMatrix(id);
this.mvMatrix.translate(-observer[0], -observer[1], -observer[2]);
};
this.setmodelMatrix = function(id) {
var subscene = this.getObj(id),
embedding = subscene.embeddings.model;
if (embedding !== "inherit") {
var scale = subscene.par3d.scale,
bbox = subscene.par3d.bbox,
center = [(bbox[0]+bbox[1])/2,
(bbox[2]+bbox[3])/2,
(bbox[4]+bbox[5])/2];
this.mvMatrix.translate(-center[0], -center[1], -center[2]);
this.mvMatrix.scale(scale[0], scale[1], scale[2]);
this.mvMatrix.multRight( subscene.par3d.userMatrix );
}
if (embedding !== "replace")
this.setmodelMatrix(subscene.parent);
};
this.setnormMatrix = function(subsceneid) {
var self = this,
recurse = function(id) {
var sub = self.getObj(id),
embedding = sub.embeddings.model;
if (embedding !== "inherit") {
var scale = sub.par3d.scale;
self.normMatrix.scale(1/scale[0], 1/scale[1], 1/scale[2]);
self.normMatrix.multRight(sub.par3d.userMatrix);
}
if (embedding !== "replace")
recurse(sub.parent);
};
self.normMatrix.makeIdentity();
recurse(subsceneid);
};
this.setprmvMatrix = function() {
this.prmvMatrix = new CanvasMatrix4( this.mvMatrix );
this.prmvMatrix.multRight( this.prMatrix );
};
this.countClipplanes = function() {
return this.countObjs("clipplanes");
};
this.countLights = function() {
return this.countObjs("light");
};
this.countObjs = function(type) {
var self = this,
bound = 0;
Object.keys(this.scene.objects).forEach(
function(key) {
if (self.getObj(parseInt(key, 10)).type === type)
bound = bound + 1;
});
return bound;
};
this.initSubscene = function(id) {
var sub = this.getObj(id),
i, obj;
if (sub.type !== "subscene")
return;
sub.par3d.userMatrix = this.toCanvasMatrix4(sub.par3d.userMatrix);
sub.par3d.listeners = [].concat(sub.par3d.listeners);
sub.backgroundId = undefined;
sub.subscenes = [];
sub.clipplanes = [];
sub.transparent = [];
sub.opaque = [];
sub.lights = [];
for (i=0; i < sub.objects.length; i++) {
obj = this.getObj(sub.objects[i]);
if (typeof obj === "undefined") {
sub.objects.splice(i, 1);
i--;
} else if (obj.type === "background")
sub.backgroundId = obj.id;
else
sub[this.whichList(obj.id)].push(obj.id);
}
};
this.copyObj = function(id, reuse) {
var obj = this.getObj(id),
prev = document.getElementById(reuse).rglinstance,
prevobj = prev.getObj(id),
fields = ["flags", "type",
"colors", "vertices", "centers",
"normals", "offsets",
"texts", "cex", "family", "font", "adj",
"material",
"radii",
"texcoords",
"userMatrix", "ids",
"dim",
"par3d", "userMatrix",
"viewpoint", "finite"],
i;
for (i = 0; i < fields.length; i++) {
if (typeof prevobj[fields[i]] !== "undefined")
obj[fields[i]] = prevobj[fields[i]];
}
};
this.planeUpdateTriangles = function(id, bbox) {
var perms = [[0,0,1], [1,2,2], [2,1,0]],
x, xrow, elem, A, d, nhits, i, j, k, u, v, w, intersect, which, v0, v2, vx, reverse,
face1 = [], face2 = [], normals = [],
obj = this.getObj(id),
nPlanes = obj.normals.length;
obj.bbox = bbox;
obj.vertices = [];
obj.initialized = false;
for (elem = 0; elem < nPlanes; elem++) {
//    Vertex Av = normal.getRecycled(elem);
x = [];
A = obj.normals[elem];
d = obj.offsets[elem][0];
nhits = 0;
for (i=0; i<3; i++)
for (j=0; j<2; j++)
for (k=0; k<2; k++) {
u = perms[0][i];
v = perms[1][i];
w = perms[2][i];
if (A[w] != 0.0) {
intersect = -(d + A[u]*bbox[j+2*u] + A[v]*bbox[k+2*v])/A[w];
if (bbox[2*w] < intersect && intersect < bbox[1+2*w]) {
xrow = [];
xrow[u] = bbox[j+2*u];
xrow[v] = bbox[k+2*v];
xrow[w] = intersect;
x.push(xrow);
face1[nhits] = j + 2*u;
face2[nhits] = k + 2*v;
nhits++;
}
}
}
if (nhits > 3) {
/* Re-order the intersections so the triangles work */
for (i=0; i<nhits-2; i++) {
which = 0; /* initialize to suppress warning */
for (j=i+1; j<nhits; j++) {
if (face1[i] == face1[j] || face1[i] == face2[j]
|| face2[i] == face1[j] || face2[i] == face2[j] ) {
which = j;
break;
}
}
if (which > i+1) {
this.swap(x, i+1, which);
this.swap(face1, i+1, which);
this.swap(face2, i+1, which);
}
}
}
if (nhits >= 3) {
/* Put in order so that the normal points out the FRONT of the faces */
v0 = [x[0][0] - x[1][0] , x[0][1] - x[1][1], x[0][2] - x[1][2]];
v2 = [x[2][0] - x[1][0] , x[2][1] - x[1][1], x[2][2] - x[1][2]];
/* cross-product */
vx = this.xprod(v0, v2);
reverse = this.dotprod(vx, A) > 0;
for (i=0; i<nhits-2; i++) {
obj.vertices.push(x[0]);
normals.push(A);
for (j=1; j<3; j++) {
obj.vertices.push(x[i + (reverse ? 3-j : j)]);
normals.push(A);
}
}
}
}
obj.pnormals = normals;
};
this.initObj = function(id) {
var obj = this.getObj(id),
flags = obj.flags,
type = obj.type,
is_indexed = flags & this.f_is_indexed,
is_lit = flags & this.f_is_lit,
has_texture = flags & this.f_has_texture,
fixed_quads = flags & this.f_fixed_quads,
depth_sort = flags & this.f_depth_sort,
sprites_3d = flags & this.f_sprites_3d,
sprite_3d = flags & this.f_sprite_3d,
gl = this.gl,
texinfo, drawtype, nclipplanes, f, frowsize, nrows,
i,j,v, mat, uri, matobj;
if (typeof id !== "number") {
this.alertOnce("initObj id is "+typeof id);
}
obj.initialized = true;
if (type === "background" || type === "bboxdeco" || type === "subscene")
return;
if (type === "light") {
obj.ambient = new Float32Array(obj.colors[0].slice(0,3));
obj.diffuse = new Float32Array(obj.colors[1].slice(0,3));
obj.specular = new Float32Array(obj.colors[2].slice(0,3));
obj.lightDir = new Float32Array(obj.vertices[0]);
return;
}
if (type === "clipplanes") {
obj.vClipplane = this.flatten(this.cbind(obj.normals, obj.offsets));
return;
}
if (!sprites_3d) {
obj.prog = gl.createProgram();
gl.attachShader(obj.prog, this.getShader( gl.VERTEX_SHADER,
this.getVertexShader(id) ));
gl.attachShader(obj.prog, this.getShader( gl.FRAGMENT_SHADER,
this.getFragmentShader(id) ));
//  Force aPos to location 0, aCol to location 1
gl.bindAttribLocation(obj.prog, 0, "aPos");
gl.bindAttribLocation(obj.prog, 1, "aCol");
gl.linkProgram(obj.prog);
var linked = gl.getProgramParameter(obj.prog, gl.LINK_STATUS);
if (!linked) {
// An error occurred while linking
var lastError = gl.getProgramInfoLog(program);
console.warn("Error in program linking:" + lastError);
gl.deleteProgram(program);
}
}
if (type === "text") {
texinfo = this.drawTextToCanvas(obj.texts,
this.flatten(obj.cex),
this.flatten(obj.family),
this.flatten(obj.family));
}
if (fixed_quads && !sprites_3d) {
obj.ofsLoc = gl.getAttribLocation(obj.prog, "aOfs");
}
if (sprite_3d) {
obj.origLoc = gl.getUniformLocation(obj.prog, "uOrig");
obj.sizeLoc = gl.getUniformLocation(obj.prog, "uSize");
obj.usermatLoc = gl.getUniformLocation(obj.prog, "usermat");
}
if (has_texture || type == "text") {
obj.texture = gl.createTexture();
obj.texLoc = gl.getAttribLocation(obj.prog, "aTexcoord");
obj.sampler = gl.getUniformLocation(obj.prog, "uSampler");
}
if (has_texture) {
mat = obj.material;
if (typeof mat.uri !== "undefined")
uri = mat.uri;
else if (typeof mat.uriElementId === "undefined") {
matobj = this.getObj(mat.uriId);
if (typeof matobj !== "undefined") {
uri = matobj.material.uri;
} else {
uri = "";
}
} else
uri = document.getElementById(mat.uriElementId).rglinstance.getObj(mat.uriId).material.uri;
this.loadImageToTexture(uri, obj.texture);
}
if (type === "text") {
this.handleLoadedTexture(obj.texture, this.textureCanvas);
}
v = obj.vertices;
obj.vertexCount = v.length;
if (!obj.vertexCount) return;
var stride = 3, nc, cofs, nofs, radofs, oofs, tofs, vnew, v1;
nc = obj.colorCount = obj.colors.length;
if (nc > 1) {
cofs = stride;
stride = stride + 4;
v = this.cbind(v, obj.colors);
} else {
cofs = -1;
obj.onecolor = this.flatten(obj.colors);
}
if (typeof obj.normals !== "undefined") {
nofs = stride;
stride = stride + 3;
v = this.cbind(v, typeof obj.pnormals !== "undefined" ? obj.pnormals : obj.normals);
} else
nofs = -1;
if (typeof obj.radii !== "undefined") {
radofs = stride;
stride = stride + 1;
if (obj.radii.length === v.length) {
v = this.cbind(v, obj.radii);
} else if (obj.radii.length === 1) {
v = v.map(function(row, i, arr) { return row.concat(obj.radii[0]);});
}
} else
radofs = -1;
if (type == "sprites" && !sprites_3d) {
tofs = stride;
stride += 2;
oofs = stride;
stride += 2;
vnew = new Array(4*v.length);
var size = obj.radii, s = size[0]/2;
for (i=0; i < v.length; i++) {
if (size.length > 1)
s = size[i]/2;
vnew[4*i]  = v[i].concat([0,0,-s,-s]);
vnew[4*i+1]= v[i].concat([1,0, s,-s]);
vnew[4*i+2]= v[i].concat([1,1, s, s]);
vnew[4*i+3]= v[i].concat([0,1,-s, s]);
}
v = vnew;
obj.vertexCount = v.length;
} else if (type === "text") {
tofs = stride;
stride += 2;
oofs = stride;
stride += 2;
vnew = new Array(4*v.length);
for (i=0; i < v.length; i++) {
vnew[4*i]  = v[i].concat([0,-0.5]).concat(obj.adj[0]);
vnew[4*i+1]= v[i].concat([1,-0.5]).concat(obj.adj[0]);
vnew[4*i+2]= v[i].concat([1, 1.5]).concat(obj.adj[0]);
vnew[4*i+3]= v[i].concat([0, 1.5]).concat(obj.adj[0]);
for (j=0; j < 4; j++) {
v1 = vnew[4*i+j];
v1[tofs+2] = 2*(v1[tofs]-v1[tofs+2])*texinfo.widths[i];
v1[tofs+3] = 2*(v1[tofs+1]-v1[tofs+3])*texinfo.textHeights[i];
v1[tofs] *= texinfo.widths[i]/texinfo.canvasX;
v1[tofs+1] = 1.0-(texinfo.offsets[i] -
v1[tofs+1]*texinfo.textHeights[i])/texinfo.canvasY;
vnew[4*i+j] = v1;
}
}
v = vnew;
obj.vertexCount = v.length;
} else if (typeof obj.texcoords !== "undefined") {
tofs = stride;
stride += 2;
oofs = -1;
v = this.cbind(v, obj.texcoords);
} else {
tofs = -1;
oofs = -1;
}
if (stride !== v[0].length) {
this.alertOnce("problem in stride calculation");
}
obj.vOffsets = {vofs:0, cofs:cofs, nofs:nofs, radofs:radofs, oofs:oofs, tofs:tofs, stride:stride};
obj.values = new Float32Array(this.flatten(v));
if (sprites_3d) {
obj.userMatrix = new CanvasMatrix4(obj.userMatrix);
obj.objects = this.flatten([].concat(obj.ids));
is_lit = false;
}
if (is_lit && !fixed_quads) {
obj.normLoc = gl.getAttribLocation(obj.prog, "aNorm");
}
nclipplanes = this.countClipplanes();
if (nclipplanes && !sprites_3d) {
obj.clipLoc = [];
for (i=0; i < nclipplanes; i++)
obj.clipLoc[i] = gl.getUniformLocation(obj.prog,"vClipplane" + i);
}
if (is_lit) {
obj.emissionLoc = gl.getUniformLocation(obj.prog, "emission");
obj.emission = new Float32Array(this.stringToRgb(this.getMaterial(id, "emission")));
obj.shininessLoc = gl.getUniformLocation(obj.prog, "shininess");
obj.shininess = this.getMaterial(id, "shininess");
obj.nlights = this.countLights();
obj.ambientLoc = [];
obj.ambient = new Float32Array(this.stringToRgb(this.getMaterial(id, "ambient")));
obj.specularLoc = [];
obj.specular = new Float32Array(this.stringToRgb(this.getMaterial(id, "specular")));
obj.diffuseLoc = [];
obj.lightDirLoc = [];
obj.viewpointLoc = [];
obj.finiteLoc = [];
for (i=0; i < obj.nlights; i++) {
obj.ambientLoc[i] = gl.getUniformLocation(obj.prog, "ambient" + i);
obj.specularLoc[i] = gl.getUniformLocation(obj.prog, "specular" + i);
obj.diffuseLoc[i] = gl.getUniformLocation(obj.prog, "diffuse" + i);
obj.lightDirLoc[i] = gl.getUniformLocation(obj.prog, "lightDir" + i);
obj.viewpointLoc[i] = gl.getUniformLocation(obj.prog, "viewpoint" + i);
obj.finiteLoc[i] = gl.getUniformLocation(obj.prog, "finite" + i);
}
}
if (is_indexed) {
if ((type === "quads" || type === "text" ||
type === "sprites") && !sprites_3d) {
nrows = Math.floor(obj.vertexCount/4);
f = Array(6*nrows);
for (i=0; i < nrows; i++) {
f[6*i] = 4*i;
f[6*i+1] = 4*i + 1;
f[6*i+2] = 4*i + 2;
f[6*i+3] = 4*i;
f[6*i+4] = 4*i + 2;
f[6*i+5] = 4*i + 3;
}
frowsize = 6;
} else if (type === "triangles") {
nrows = Math.floor(obj.vertexCount/3);
f = Array(3*nrows);
for (i=0; i < f.length; i++) {
f[i] = i;
}
frowsize = 3;
} else if (type === "spheres") {
nrows = obj.vertexCount;
f = Array(nrows);
for (i=0; i < f.length; i++) {
f[i] = i;
}
frowsize = 1;
} else if (type === "surface") {
var dim = obj.dim[0],
nx = dim[0],
nz = dim[1];
f = [];
for (j=0; j<nx-1; j++) {
for (i=0; i<nz-1; i++) {
f.push(j + nx*i,
j + nx*(i+1),
j + 1 + nx*(i+1),
j + nx*i,
j + 1 + nx*(i+1),
j + 1 + nx*i);
}
}
frowsize = 6;
}
obj.f = new Uint16Array(f);
if (depth_sort) {
drawtype = "DYNAMIC_DRAW";
} else {
drawtype = "STATIC_DRAW";
}
}
if (type !== "spheres" && !sprites_3d) {
obj.buf = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, obj.buf);
gl.bufferData(gl.ARRAY_BUFFER, obj.values, gl.STATIC_DRAW); //
}
if (is_indexed && type !== "spheres" && !sprites_3d) {
obj.ibuf = gl.createBuffer();
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, obj.ibuf);
gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, obj.f, gl[drawtype]);
}
if (!sprites_3d) {
obj.mvMatLoc = gl.getUniformLocation(obj.prog, "mvMatrix");
obj.prMatLoc = gl.getUniformLocation(obj.prog, "prMatrix");
}
if (type === "text") {
obj.textScaleLoc = gl.getUniformLocation(obj.prog, "textScale");
}
if (is_lit && !sprites_3d) {
obj.normMatLoc = gl.getUniformLocation(obj.prog, "normMatrix");
}
};
this.setDepthTest = function(id) {
var gl = this.gl,
tests = {never: gl.NEVER,
less:  gl.LESS,
equal: gl.EQUAL,
lequal:gl.LEQUAL,
greater: gl.GREATER,
notequal: gl.NOTEQUAL,
gequal: gl.GEQUAL,
always: gl.ALWAYS},
test = tests[this.getMaterial(id, "depth_test")];
gl.depthFunc(test);
};
this.mode4type = {points : "POINTS",
linestrip : "LINE_STRIP",
abclines : "LINES",
lines : "LINES",
sprites : "TRIANGLES",
planes : "TRIANGLES",
text : "TRIANGLES",
quads : "TRIANGLES",
surface : "TRIANGLES",
triangles : "TRIANGLES"};
this.drawObj = function(id, subsceneid) {
var obj = this.getObj(id),
subscene = this.getObj(subsceneid),
flags = obj.flags,
type = obj.type,
is_indexed = flags & this.f_is_indexed,
is_lit = flags & this.f_is_lit,
has_texture = flags & this.f_has_texture,
fixed_quads = flags & this.f_fixed_quads,
depth_sort = flags & this.f_depth_sort,
sprites_3d = flags & this.f_sprites_3d,
sprite_3d = flags & this.f_sprite_3d,
is_lines = flags & this.f_is_lines,
gl = this.gl,
sphereMV, baseofs, ofs, sscale, i, count, light,
faces;
if (typeof id !== "number") {
this.alertOnce("drawObj id is "+typeof id);
}
if (type === "planes") {
if (obj.bbox !== subscene.par3d.bbox || !obj.initialized) {
this.planeUpdateTriangles(id, subscene.par3d.bbox);
}
}
if (!obj.initialized)
this.initObj(id);
if (type === "light" || type === "bboxdeco")
return;
if (type === "clipplanes") {
count = obj.offsets.length;
var IMVClip = [];
for (i=0; i < count; i++) {
IMVClip[i] = this.multMV(this.invMatrix, obj.vClipplane.slice(4*i, 4*(i+1)));
}
obj.IMVClip = IMVClip;
return;
}
this.setDepthTest(id);
if (sprites_3d) {
var norigs = obj.vertices.length,
savenorm = new CanvasMatrix4(this.normMatrix);
this.origs = obj.vertices;
this.usermat = new Float32Array(obj.userMatrix.getAsArray());
this.radii = obj.radii;
this.normMatrix = subscene.spriteNormmat;
for (this.iOrig=0; this.iOrig < norigs; this.iOrig++) {
for (i=0; i < obj.objects.length; i++) {
this.drawObj(obj.objects[i], subsceneid);
}
}
this.normMatrix = savenorm;
return;
} else {
gl.useProgram(obj.prog);
}
if (sprite_3d) {
gl.uniform3fv(obj.origLoc, new Float32Array(this.origs[this.iOrig]));
if (this.radii.length > 1) {
gl.uniform1f(obj.sizeLoc, this.radii[this.iOrig][0]);
} else {
gl.uniform1f(obj.sizeLoc, this.radii[0][0]);
}
gl.uniformMatrix4fv(obj.usermatLoc, false, this.usermat);
}
if (type === "spheres") {
gl.bindBuffer(gl.ARRAY_BUFFER, this.sphere.buf);
} else {
gl.bindBuffer(gl.ARRAY_BUFFER, obj.buf);
}
if (is_indexed && type !== "spheres") {
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, obj.ibuf);
} else if (type === "spheres") {
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.sphere.ibuf);
}
gl.uniformMatrix4fv( obj.prMatLoc, false, new Float32Array(this.prMatrix.getAsArray()) );
gl.uniformMatrix4fv( obj.mvMatLoc, false, new Float32Array(this.mvMatrix.getAsArray()) );
var clipcheck = 0,
clipplaneids = subscene.clipplanes,
clip, j;
for (i=0; i < clipplaneids.length; i++) {
clip = this.getObj(clipplaneids[i]);
for (j=0; j < clip.offsets.length; j++) {
gl.uniform4fv(obj.clipLoc[clipcheck + j], clip.IMVClip[j]);
}
clipcheck += clip.offsets.length;
}
if (typeof obj.clipLoc !== "undefined")
for (i=clipcheck; i < obj.clipLoc.length; i++)
gl.uniform4f(obj.clipLoc[i], 0,0,0,0);
if (is_lit) {
gl.uniformMatrix4fv( obj.normMatLoc, false, new Float32Array(this.normMatrix.getAsArray()) );
gl.uniform3fv( obj.emissionLoc, obj.emission);
gl.uniform1f( obj.shininessLoc, obj.shininess);
for (i=0; i < subscene.lights.length; i++) {
light = this.getObj(subscene.lights[i]);
gl.uniform3fv( obj.ambientLoc[i], this.componentProduct(light.ambient, obj.ambient));
gl.uniform3fv( obj.specularLoc[i], this.componentProduct(light.specular, obj.specular));
gl.uniform3fv( obj.diffuseLoc[i], light.diffuse);
gl.uniform3fv( obj.lightDirLoc[i], light.lightDir);
gl.uniform1i( obj.viewpointLoc[i], light.viewpoint);
gl.uniform1i( obj.finiteLoc[i], light.finite);
}
for (i=subscene.lights.length; i < obj.nlights; i++) {
gl.uniform3f( obj.ambientLoc[i], 0,0,0);
gl.uniform3f( obj.specularLoc[i], 0,0,0);
gl.uniform3f( obj.diffuseLoc[i], 0,0,0);
}
}
if (type === "text") {
gl.uniform2f( obj.textScaleLoc, 0.75/this.vp.width, 0.75/this.vp.height);
}
gl.enableVertexAttribArray( this.posLoc );
var nc = obj.colorCount;
count = obj.vertexCount;
if (depth_sort) {
var nfaces = obj.centers.length,
frowsize, z, w;
if (sprites_3d) frowsize = 1;
else if (type === "triangles") frowsize = 3;
else frowsize = 6;
var depths = new Float32Array(nfaces);
faces = new Array(nfaces);
for(i=0; i<nfaces; i++) {
z = this.prmvMatrix.m13*obj.centers[3*i] +
this.prmvMatrix.m23*obj.centers[3*i+1] +
this.prmvMatrix.m33*obj.centers[3*i+2] +
this.prmvMatrix.m43;
w = this.prmvMatrix.m14*obj.centers[3*i] +
this.prmvMatrix.m24*obj.centers[3*i+1] +
this.prmvMatrix.m34*obj.centers[3*i+2] +
this.prmvMatrix.m44;
depths[i] = z/w;
faces[i] = i;
}
var depthsort = function(i,j) { return depths[j] - depths[i]; };
faces.sort(depthsort);
if (type !== "spheres") {
var f = new Uint16Array(obj.f.length);
for (i=0; i<nfaces; i++) {
for (j=0; j<frowsize; j++) {
f[frowsize*i + j] = obj.f[frowsize*faces[i] + j];
}
}
gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.DYNAMIC_DRAW);
}
}
if (type === "spheres") {
subscene = this.getObj(subsceneid);
var scale = subscene.par3d.scale,
scount = count;
gl.vertexAttribPointer(this.posLoc,  3, gl.FLOAT, false, this.sphere.sphereStride,  0);
gl.enableVertexAttribArray(obj.normLoc );
gl.vertexAttribPointer(obj.normLoc,  3, gl.FLOAT, false, this.sphere.sphereStride,  0);
gl.disableVertexAttribArray( this.colLoc );
var sphereNorm = new CanvasMatrix4();
sphereNorm.scale(scale[0], scale[1], scale[2]);
sphereNorm.multRight(this.normMatrix);
gl.uniformMatrix4fv( obj.normMatLoc, false, new Float32Array(sphereNorm.getAsArray()) );
if (nc == 1) {
gl.vertexAttrib4fv( this.colLoc, new Float32Array(obj.onecolor));
}
for (i = 0; i < scount; i++) {
sphereMV = new CanvasMatrix4();
if (depth_sort) {
baseofs = faces[i]*obj.vOffsets.stride;
} else {
baseofs = i*obj.vOffsets.stride;
}
ofs = baseofs + obj.vOffsets.radofs;
sscale = obj.values[ofs];
sphereMV.scale(sscale/scale[0], sscale/scale[1], sscale/scale[2]);
sphereMV.translate(obj.values[baseofs],
obj.values[baseofs+1],
obj.values[baseofs+2]);
sphereMV.multRight(this.mvMatrix);
gl.uniformMatrix4fv( obj.mvMatLoc, false, new Float32Array(sphereMV.getAsArray()) );
if (nc > 1) {
ofs = baseofs + obj.vOffsets.cofs;
gl.vertexAttrib4f( this.colLoc, obj.values[ofs],
obj.values[ofs+1],
obj.values[ofs+2],
obj.values[ofs+3] );
}
gl.drawElements(gl.TRIANGLES, this.sphere.sphereCount, gl.UNSIGNED_SHORT, 0);
}
return;
} else {
if (obj.colorCount === 1) {
gl.disableVertexAttribArray( this.colLoc );
gl.vertexAttrib4fv( this.colLoc, new Float32Array(obj.onecolor));
} else {
gl.enableVertexAttribArray( this.colLoc );
gl.vertexAttribPointer(this.colLoc, 4, gl.FLOAT, false, 4*obj.vOffsets.stride, 4*obj.vOffsets.cofs);
}
}
if (is_lit && obj.vOffsets.nofs > 0) {
gl.enableVertexAttribArray( obj.normLoc );
gl.vertexAttribPointer(obj.normLoc, 3, gl.FLOAT, false, 4*obj.vOffsets.stride, 4*obj.vOffsets.nofs);
}
if (has_texture || type === "text") {
gl.enableVertexAttribArray( obj.texLoc );
gl.vertexAttribPointer(obj.texLoc, 2, gl.FLOAT, false, 4*obj.vOffsets.stride, 4*obj.vOffsets.tofs);
gl.activeTexture(gl.TEXTURE0);
gl.bindTexture(gl.TEXTURE_2D, obj.texture);
gl.uniform1i( obj.sampler, 0);
}
if (fixed_quads) {
gl.enableVertexAttribArray( obj.ofsLoc );
gl.vertexAttribPointer(obj.ofsLoc, 2, gl.FLOAT, false, 4*obj.vOffsets.stride, 4*obj.vOffsets.oofs);
}
var mode = this.mode4type[type];
if (type === "sprites" || type === "text" || type === "quads") {
count = count * 6/4;
} else if (type === "surface") {
count = obj.f.length;
}
if (is_lines) {
gl.lineWidth( this.getMaterial(id, "lwd") );
}
gl.vertexAttribPointer(this.posLoc,  3, gl.FLOAT, false, 4*obj.vOffsets.stride,  4*obj.vOffsets.vofs);
if (is_indexed) {
gl.drawElements(gl[mode], count, gl.UNSIGNED_SHORT, 0);
} else {
gl.drawArrays(gl[mode], 0, count);
}
};
this.drawSubscene = function(subsceneid) {
var gl = this.gl,
obj = this.getObj(subsceneid),
objects = this.scene.objects,
subids = obj.objects,
subscene_has_faces = false,
subscene_needs_sorting = false,
flags, i;
if (obj.par3d.skipRedraw)
return;
for (i=0; i < subids.length; i++) {
flags = objects[subids[i]].flags;
if (typeof flags !== "undefined") {
subscene_has_faces |= (flags & this.f_is_lit)
& !(flags & this.f_fixed_quads);
subscene_needs_sorting |= (flags & this.f_depth_sort);
}
}
var bgid = obj.backgroundId,
bg;
this.setViewport(subsceneid);
if (typeof bgid !== "undefined" && objects[bgid].colors.length) {
bg = objects[bgid].colors[0];
gl.clearColor(bg[0], bg[1], bg[2], bg[3]);
gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
}
if (subids.length) {
this.setprMatrix(subsceneid);
this.setmvMatrix(subsceneid);
if (subscene_has_faces) {
this.setnormMatrix(subsceneid);
if ((obj.flags & this.f_sprites_3d) &&
typeof obj.spriteNormmat === "undefined") {
obj.spriteNormmat = new CanvasMatrix4(this.normMatrix);
}
}
if (subscene_needs_sorting)
this.setprmvMatrix();
var clipids = obj.clipplanes;
if (clipids.length > 0) {
this.invMatrix = new CanvasMatrix4(this.mvMatrix);
this.invMatrix.invert();
for (i = 0; i < clipids.length; i++)
this.drawObj(clipids[i], subsceneid);
}
subids = obj.opaque;
if (subids.length > 0) {
gl.depthMask(true);
gl.disable(gl.BLEND);
for (i = 0; subids && i < subids.length; i++) {
this.drawObj(subids[i], subsceneid);
}
}
subids = obj.transparent;
if (subids.length > 0) {
gl.depthMask(false);
gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,
gl.ONE, gl.ONE);
gl.enable(gl.BLEND);
for (i = 0; i < subids.length; i++) {
this.drawObj(subids[i], subsceneid);
}
}
subids = obj.subscenes;
for (i = 0; i < subids.length; i++) {
this.drawSubscene(subids[i]);
}
}
};
this.relMouseCoords = function(event) {
var totalOffsetX = 0,
totalOffsetY = 0,
currentElement = this.canvas;
do {
totalOffsetX += currentElement.offsetLeft;
totalOffsetY += currentElement.offsetTop;
currentElement = currentElement.offsetParent;
}
while(currentElement);
var canvasX = event.pageX - totalOffsetX,
canvasY = event.pageY - totalOffsetY;
return {x:canvasX, y:canvasY};
};
this.setMouseHandlers = function() {
var self = this, activeSubscene, handler,
handlers = {}, drag = 0;
handlers.rotBase = 0;
this.screenToVector = function(x, y) {
var viewport = this.getObj(activeSubscene).par3d.viewport,
width = viewport.width*this.canvas.width,
height = viewport.height*this.canvas.height,
radius = Math.max(width, height)/2.0,
cx = width/2.0,
cy = height/2.0,
px = (x-cx)/radius,
py = (y-cy)/radius,
plen = Math.sqrt(px*px+py*py);
if (plen > 1.e-6) {
px = px/plen;
py = py/plen;
}
var angle = (Math.SQRT2 - plen)/Math.SQRT2*Math.PI/2,
z = Math.sin(angle),
zlen = Math.sqrt(1.0 - z*z);
px = px * zlen;
py = py * zlen;
return [px, py, z];
};
handlers.trackballdown = function(x,y) {
var activeSub = this.getObj(activeSubscene),
activeModel = this.getObj(this.useid(activeSub.id, "model")),
i, l = activeModel.par3d.listeners;
handlers.rotBase = this.screenToVector(x, y);
this.saveMat = [];
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.saveMat = new CanvasMatrix4(activeSub.par3d.userMatrix);
}
};
handlers.trackballmove = function(x,y) {
var rotCurrent = this.screenToVector(x,y),
rotBase = handlers.rotBase,
dot = rotBase[0]*rotCurrent[0] +
rotBase[1]*rotCurrent[1] +
rotBase[2]*rotCurrent[2],
angle = Math.acos( dot/this.vlen(rotBase)/this.vlen(rotCurrent) )*180.0/Math.PI,
axis = this.xprod(rotBase, rotCurrent),
objects = this.scene.objects,
activeSub = this.getObj(activeSubscene),
activeModel = this.getObj(this.useid(activeSub.id, "model")),
l = activeModel.par3d.listeners,
i;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.par3d.userMatrix.load(objects[l[i]].saveMat);
activeSub.par3d.userMatrix.rotate(angle, axis[0], axis[1], axis[2]);
}
this.drawScene();
};
handlers.trackballend = 0;
handlers.axisdown = function(x,y) {
handlers.rotBase = this.screenToVector(x, this.canvas.height/2);
var activeSub = this.getObj(activeSubscene),
activeModel = this.getObj(this.useid(activeSub.id, "model")),
i, l = activeModel.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.saveMat = new CanvasMatrix4(activeSub.par3d.userMatrix);
}
};
handlers.axismove = function(x,y) {
var rotCurrent = this.screenToVector(x, this.canvas.height/2),
rotBase = handlers.rotBase,
angle = (rotCurrent[0] - rotBase[0])*180/Math.PI,
rotMat = new CanvasMatrix4();
rotMat.rotate(angle, handlers.axis[0], handlers.axis[1], handlers.axis[2]);
var activeSub = this.getObj(activeSubscene),
activeModel = this.getObj(this.useid(activeSub.id, "model")),
i, l = activeModel.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.par3d.userMatrix.load(activeSub.saveMat);
activeSub.par3d.userMatrix.multLeft(rotMat);
}
this.drawScene();
};
handlers.axisend = 0;
handlers.y0zoom = 0;
handlers.zoom0 = 0;
handlers.zoomdown = function(x, y) {
var activeSub = this.getObj(activeSubscene),
activeProjection = this.getObj(this.useid(activeSub.id, "projection")),
i, l = activeProjection.par3d.listeners;
handlers.y0zoom = y;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.zoom0 = Math.log(activeSub.par3d.zoom);
}
};
handlers.zoommove = function(x, y) {
var activeSub = this.getObj(activeSubscene),
activeProjection = this.getObj(this.useid(activeSub.id, "projection")),
i, l = activeProjection.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.par3d.zoom = Math.exp(activeSub.zoom0 + (y-handlers.y0zoom)/this.canvas.height);
}
this.drawScene();
};
handlers.zoomend = 0;
handlers.y0fov = 0;
handlers.fovdown = function(x, y) {
handlers.y0fov = y;
var activeSub = this.getObj(activeSubscene),
activeProjection = this.getObj(this.useid(activeSub.id, "projection")),
i, l = activeProjection.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.fov0 = activeSub.par3d.FOV;
}
};
handlers.fovmove = function(x, y) {
var activeSub = this.getObj(activeSubscene),
activeProjection = this.getObj(this.useid(activeSub.id, "projection")),
i, l = activeProjection.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = this.getObj(l[i]);
activeSub.par3d.FOV = Math.max(1, Math.min(179, activeSub.fov0 +
180*(y-handlers.y0fov)/this.canvas.height));
}
this.drawScene();
};
handlers.fovend = 0;
this.canvas.onmousedown = function ( ev ){
if (!ev.which) // Use w3c defns in preference to MS
switch (ev.button) {
case 0: ev.which = 1; break;
case 1:
case 4: ev.which = 2; break;
case 2: ev.which = 3;
}
drag = ["left", "middle", "right"][ev.which-1];
var coords = self.relMouseCoords(ev);
coords.y = self.canvas.height-coords.y;
activeSubscene = self.whichSubscene(coords);
var sub = self.getObj(activeSubscene), f;
handler = sub.par3d.mouseMode[drag];
switch (handler) {
case "xAxis":
handler = "axis";
handlers.axis = [1.0, 0.0, 0.0];
break;
case "yAxis":
handler = "axis";
handlers.axis = [0.0, 1.0, 0.0];
break;
case "zAxis":
handler = "axis";
handlers.axis = [0.0, 0.0, 1.0];
break;
}
f = handlers[handler + "down"];
if (f) {
coords = self.translateCoords(activeSubscene, coords);
f.call(self, coords.x, coords.y);
ev.preventDefault();
}
};
this.canvas.onmouseup = function ( ev ){
if ( drag === 0 ) return;
var f = handlers[handler + "up"];
if (f)
f();
drag = 0;
};
this.canvas.onmouseout = this.canvas.onmouseup;
this.canvas.onmousemove = function ( ev ) {
if ( drag === 0 ) return;
var f = handlers[handler + "move"];
if (f) {
var coords = self.relMouseCoords(ev);
coords.y = self.canvas.height - coords.y;
coords = self.translateCoords(activeSubscene, coords);
f.call(self, coords.x, coords.y);
}
};
handlers.wheelHandler = function(ev) {
var del = 1.02, i;
if (ev.shiftKey) del = 1.002;
var ds = ((ev.detail || ev.wheelDelta) > 0) ? del : (1 / del);
if (typeof activeSubscene === "undefined")
activeSubscene = self.scene.rootSubscene;
var activeSub = self.getObj(activeSubscene),
activeProjection = self.getObj(self.useid(activeSub.id, "projection")),
l = activeProjection.par3d.listeners;
for (i = 0; i < l.length; i++) {
activeSub = self.getObj(l[i]);
activeSub.par3d.zoom *= ds;
}
self.drawScene();
ev.preventDefault();
};
this.canvas.addEventListener("DOMMouseScroll", handlers.wheelHandler, false);
this.canvas.addEventListener("mousewheel", handlers.wheelHandler, false);
};
this.useid = function(subsceneid, type) {
var sub = this.getObj(subsceneid);
if (sub.embeddings[type] === "inherit")
return(this.useid(sub.parent, type));
else
return subsceneid;
};
this.inViewport = function(coords, subsceneid) {
var viewport = this.getObj(subsceneid).par3d.viewport,
x0 = coords.x - viewport.x*this.canvas.width,
y0 = coords.y - viewport.y*this.canvas.height;
return 0 <= x0 && x0 <= viewport.width*this.canvas.width &&
0 <= y0 && y0 <= viewport.height*this.canvas.height;
};
this.whichSubscene = function(coords) {
var self = this,
recurse = function(subsceneid) {
var subscenes = self.getChildSubscenes(subsceneid), i, id;
for (i=0; i < subscenes.length; i++) {
id = recurse(subscenes[i]);
if (typeof(id) !== "undefined")
return(id);
}
if (self.inViewport(coords, subsceneid))
return(subsceneid);
else
return undefined;
},
rootid = this.scene.rootSubscene,
result = recurse(rootid);
if (typeof(result) === "undefined")
result = rootid;
return result;
};
this.translateCoords = function(subsceneid, coords) {
var viewport = this.getObj(subsceneid).par3d.viewport;
return {x: coords.x - viewport.x*this.canvas.width,
y: coords.y - viewport.y*this.canvas.height};
};
this.initSphere = function(verts) {
var gl = this.gl, reuse = verts.reuse, result;
if (typeof reuse !== "undefined") {
var prev = document.getElementById(reuse).rglinstance.sphere;
result = {vb: prev.vb, it: prev.it};
} else {
result = {vb: new Float32Array(this.flatten(this.transpose(verts.vb))),
it: new Uint16Array(this.flatten(this.transpose(verts.it)))};
}
result.sphereStride = 12;
result.sphereCount = result.it.length;
result.buf = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, result.buf);
gl.bufferData(gl.ARRAY_BUFFER, result.vb, gl.STATIC_DRAW);
result.ibuf = gl.createBuffer();
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, result.ibuf);
gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, result.it, gl.STATIC_DRAW);
return result;
};
this.initialize = function(el, x) {
this.textureCanvas = document.createElement("canvas");
this.textureCanvas.style.display = "block";
this.scene = x;
this.normMatrix = new CanvasMatrix4();
this.saveMat = {};
this.distance = null;
this.posLoc = 0;
this.colLoc = 1;
if (el) {
el.rglinstance = this;
this.initCanvas(el);
}
};
this.initCanvas = function(el) {
this.canvas = document.createElement("canvas");
this.resize(el);
while (el.firstChild) {
el.removeChild(el.firstChild);
}
el.appendChild(this.canvas);
this.initGL0();
if (!this.gl)
return;
var objs = this.scene.objects,
self = this;
this.sphere = this.initSphere(this.scene.sphereVerts);
Object.keys(objs).forEach(function(key){
var id = parseInt(key, 10),
obj = self.getObj(id);
if (typeof obj.reuse !== "undefined")
self.copyObj(id, obj.reuse);
});
Object.keys(objs).forEach(function(key){
self.initSubscene(parseInt(key, 10));
});
Object.keys(objs).forEach(function(key){
self.initObj(parseInt(key, 10));
});
this.setMouseHandlers();
};
/* this is only used by .writeWebGL; rglwidget has
no debug element and does the drawing in rglwidget.js */
this.start = function() {
if (typeof this.prefix !== "undefined") {
this.debugelement = document.getElementById(this.prefix + "debug");
this.debug("");
}
this.drag = 0;
this.drawScene();
};
this.debug = function(msg, img) {
if (typeof this.debugelement !== "undefined") {
this.debugelement.innerHTML = msg;
if (typeof img !== "undefined") {
this.debugelement.insertBefore(img, this.debugelement.firstChild);
}
} else
alert(msg);
};
this.getSnapshot = function() {
var img;
if (typeof this.scene.snapshot !== "undefined") {
img = document.createElement("img");
img.src = this.scene.snapshot;
img.alt = "Snapshot";
}
return img;
};
this.initGL0 = function() {
if (!window.WebGLRenderingContext){
this.debug("Your browser does not support WebGL. See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>", this.getSnapshot());
return;
}
try {
this.initGL();
}
catch(e) {}
if ( !this.gl ) {
this.debug("Your browser appears to support WebGL, but did not create a WebGL context.  See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>",
this.getSnapshot());
return;
}
};
this.initGL = function() {
this.gl = this.canvas.getContext("webgl") ||
this.canvas.getContext("experimental-webgl");
};
this.resize = function(el) {
this.canvas.width = el.width;
this.canvas.height = el.height;
};
this.drawScene = function() {
var gl = this.gl;
if (!gl)
this.alertOnce("No WebGL context.");
gl.enable(gl.DEPTH_TEST);
gl.depthFunc(gl.LEQUAL);
gl.clearDepth(1.0);
gl.clearColor(1,1,1,1);
gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
this.drawSubscene(this.scene.rootSubscene);
this.drawing = false;
};
this.subsetSetter = function(el, control) {
if (typeof control.subscenes === "undefined" ||
control.subscenes === null)
control.subscenes = this.scene.rootSubscene;
var value = Math.round(control.value),
subscenes = [].concat(control.subscenes),
i, j, entries, subsceneid,
ismissing = function(x) {
return control.fullset.indexOf(x) < 0;
},
tointeger = function(x) {
return parseInt(x, 10);
};
for (i=0; i < subscenes.length; i++) {
subsceneid = subscenes[i];
if (typeof this.getObj(subsceneid) === "undefined")
this.alertOnce("typeof object is undefined");
entries = this.getObj(subsceneid).objects;
entries = entries.filter(ismissing);
if (control.accumulate) {
for (j=0; j<=value; j++)
entries = entries.concat(control.subsets[j]);
} else {
entries = entries.concat(control.subsets[value]);
}
entries = entries.map(tointeger);
this.setSubsceneEntries(this.unique(entries), subsceneid);
}
};
this.propertySetter = function(el, control)  {
var value = control.value,
values = [].concat(control.values),
svals = [].concat(control.param),
direct = values[0] === null,
entries = [].concat(control.entries),
ncol = entries.length,
nrow = values.length/ncol,
properties = this.repeatToLen(control.properties, ncol),
objids = this.repeatToLen(control.objids, ncol),
property = properties[0], objid = objids[0],
obj = this.getObj(objid),
propvals, i, v1, v2, p, entry, gl, needsBinding,
newprop, newid,
getPropvals = function() {
if (property === "userMatrix")
return obj.userMatrix.getAsArray();
else
return obj[property];
};
if (direct && typeof value === "undefined")
return;
if (control.interp) {
values = values.slice(0, ncol).concat(values).
concat(values.slice(ncol*(nrow-1), ncol*nrow));
svals = [-Infinity].concat(svals).concat(Infinity);
for (i = 1; i < svals.length; i++) {
if (value <= svals[i]) {
if (svals[i] === Infinity)
p = 1;
else
p = (svals[i] - value)/(svals[i] - svals[i-1]);
break;
}
}
} else if (!direct) {
value = Math.round(value);
}
propvals = getPropvals();
for (j=0; j<entries.length; j++) {
entry = entries[j];
newprop = properties[j];
newid = objids[j];
if (newprop != property || newid != objid) {
property = newprop;
objid = newid;
obj = this.getObj(objid);
propvals = getPropvals();
}
if (control.interp) {
v1 = values[ncol*(i-1) + j];
v2 = values[ncol*i + j];
this.setElement(propvals, entry, p*v1 + (1-p)*v2);
} else if (!direct) {
this.setElement(propvals, entry, values[ncol*value + j]);
} else {
this.setElement(propvals, entry, value[j]);
}
}
needsBinding = [];
for (j=0; j < entries.length; j++) {
if (properties[j] === "values" &&
needsBinding.indexOf(objids[j]) === -1) {
needsBinding.push(objids[j]);
}
}
for (j=0; j < needsBinding.length; j++) {
gl = this.gl;
obj = this.getObj(needsBinding[j]);
gl.bindBuffer(gl.ARRAY_BUFFER, obj.buf);
gl.bufferData(gl.ARRAY_BUFFER, obj.values, gl.STATIC_DRAW);
}
};
this.vertexSetter = function(el, control)  {
var svals = [].concat(control.param),
j, k, p, propvals, stride, ofs, obj,
attrib,
ofss    = {x:"vofs", y:"vofs", z:"vofs",
red:"cofs", green:"cofs", blue:"cofs",
alpha:"cofs", radii:"radofs",
nx:"nofs", ny:"nofs", nz:"nofs",
ox:"oofs", oy:"oofs", oz:"oofs",
ts:"tofs", tt:"tofs"},
pos     = {x:0, y:1, z:2,
red:0, green:1, blue:2,
alpha:3,radii:0,
nx:0, ny:1, nz:2,
ox:0, oy:1, oz:2,
ts:0, tt:1},
values = control.values,
direct = values === null,
ncol,
interp = control.interp,
vertices = [].concat(control.vertices),
attributes = [].concat(control.attributes),
value = control.value;
ncol = Math.max(vertices.length, attributes.length);
if (!ncol)
return;
vertices = this.repeatToLen(vertices, ncol);
attributes = this.repeatToLen(attributes, ncol);
if (direct)
interp = false;
/* JSON doesn't pass Infinity */
svals[0] = -Infinity;
svals[svals.length - 1] = Infinity;
for (j = 1; j < svals.length; j++) {
if (value <= svals[j]) {
if (interp) {
if (svals[j] === Infinity)
p = 1;
else
p = (svals[j] - value)/(svals[j] - svals[j-1]);
} else {
if (svals[j] - value > value - svals[j-1])
j = j - 1;
}
break;
}
}
obj = this.getObj(control.objid);
propvals = obj.values;
for (k=0; k<ncol; k++) {
attrib = attributes[k];
vertex = vertices[k];
ofs = obj.vOffsets[ofss[attrib]];
if (ofs < 0)
this.alertOnce("Attribute '"+attrib+"' not found in object "+control.objid);
else {
stride = obj.vOffsets.stride;
ofs = vertex*stride + ofs + pos[attrib];
if (direct) {
propvals[ofs] = value;
} else if (interp) {
propvals[ofs] = p*values[j-1][k] + (1-p)*values[j][k];
} else {
propvals[ofs] = values[j][k];
}
}
}
if (typeof obj.buf !== "undefined") {
var gl = this.gl;
gl.bindBuffer(gl.ARRAY_BUFFER, obj.buf);
gl.bufferData(gl.ARRAY_BUFFER, propvals, gl.STATIC_DRAW);
}
};
this.ageSetter = function(el, control) {
var objids = [].concat(control.objids),
nobjs = objids.length,
time = control.value,
births = [].concat(control.births),
ages = [].concat(control.ages),
steps = births.length,
j = Array(steps),
p = Array(steps),
i, k, age, j0, propvals, stride, ofs, objid, obj,
attrib, dim,
attribs = ["colors", "alpha", "radii", "vertices",
"normals", "origins", "texcoords",
"x", "y", "z",
"red", "green", "blue"],
ofss    = ["cofs", "cofs", "radofs", "vofs",
"nofs", "oofs", "tofs",
"vofs", "vofs", "vofs",
"cofs", "cofs", "cofs"],
dims    = [3,1,1,3,
3,2,2,
1,1,1,
1,1,1],
pos     = [0,3,0,0,
0,0,0,
0,1,2,
0,1,2];
/* Infinity doesn't make it through JSON */
ages[0] = -Infinity;
ages[ages.length-1] = Infinity;
for (i = 0; i < steps; i++) {
if (births[i] !== null) {  // NA in R becomes null
age = time - births[i];
for (j0 = 1; age > ages[j0]; j0++);
if (ages[j0] == Infinity)
p[i] = 1;
else if (ages[j0] > ages[j0-1])
p[i] = (ages[j0] - age)/(ages[j0] - ages[j0-1]);
else
p[i] = 0;
j[i] = j0;
}
}
for (l = 0; l < nobjs; l++) {
objid = objids[l];
obj = this.getObj(objid);
propvals = obj.values;
stride = obj.vOffsets.stride;
for (k = 0; k < attribs.length; k++) {
attrib = control[attribs[k]];
if (typeof attrib !== "undefined") {
ofs = obj.vOffsets[ofss[k]];
if (ofs >= 0) {
dim = dims[k];
ofs = ofs + pos[k];
for (i = 0; i < steps; i++) {
if (births[i] !== null) {
for (d=0; d < dim; d++) {
propvals[i*stride + ofs + d] = p[i]*attrib[dim*(j[i]-1) + d] + (1-p[i])*attrib[dim*j[i] + d];
}
}
}
} else
this.alertOnce("\'"+attribs[k]+"\' property not found in object "+objid);
}
}
obj.values = propvals;
if (typeof obj.buf !== "undefined") {
gl = this.gl;
gl.bindBuffer(gl.ARRAY_BUFFER, obj.buf);
gl.bufferData(gl.ARRAY_BUFFER, obj.values, gl.STATIC_DRAW);
}
}
};
this.oldBridge = function(el, control) {
var attrname, global = window[control.prefix + "rgl"];
if (typeof global !== "undefined")
for (attrname in global)
this[attrname] = global[attrname];
window[control.prefix + "rgl"] = this;
};
this.Player = function(el, control) {
var
self = this,
components = [].concat(control.components),
Tick = function() { /* "this" will be a timer */
var i,
nominal = this.value,
slider = this.Slider,
labels = this.outputLabels,
output = this.Output,
step;
if (typeof slider !== "undefined" && nominal != slider.value)
slider.value = nominal;
if (typeof output !== "undefined") {
step = Math.round((nominal - output.sliderMin)/output.sliderStep);
if (labels !== null) {
output.innerHTML = labels[step];
} else {
step = step*output.sliderStep + output.sliderMin;
output.innerHTML = step.toPrecision(output.outputPrecision);
}
}
for (i=0; i < this.actions.length; i++) {
this.actions[i].value = nominal;
}
self.applyControls(el, this.actions, false);
self.drawScene();
},
OnSliderInput = function() { /* "this" will be the slider */
this.rgltimer.value = Number(this.value);
this.rgltimer.Tick();
},
addSlider = function(min, max, step, value) {
var slider = document.createElement("input");
slider.type = "range";
slider.min = min;
slider.max = max;
slider.step = step;
slider.value = value;
slider.oninput = OnSliderInput;
slider.sliderActions = control.actions;
slider.sliderScene = this;
slider.className = "rgl-slider";
slider.id = el.id + "-slider";
el.rgltimer.Slider = slider;
slider.rgltimer = el.rgltimer;
el.appendChild(slider);
},
addLabel = function(labels, min, step, precision) {
var output = document.createElement("output");
output.sliderMin = min;
output.sliderStep = step;
output.outputPrecision = precision;
output.className = "rgl-label";
output.id = el.id + "-label";
el.rgltimer.Output = output;
el.rgltimer.outputLabels = labels;
el.appendChild(output);
},
addButton = function(label) {
var button = document.createElement("input"),
onclicks = {Reverse: function() { this.rgltimer.reverse();},
Play: function() { this.rgltimer.play();
this.value = this.rgltimer.enabled ? "Pause" : "Play"; },
Slower: function() { this.rgltimer.slower(); },
Faster: function() { this.rgltimer.faster(); },
Reset: function() { this.rgltimer.reset(); }};
button.rgltimer = el.rgltimer;
button.type = "button";
button.value = label;
if (label === "Play")
button.rgltimer.PlayButton = button;
button.onclick = onclicks[label];
button.className = "rgl-button";
button.id = el.id + "-" + label;
el.appendChild(button);
};
if (typeof control.reinit !== "null") {
control.actions.reinit = control.reinit;
}
el.rgltimer = new rgltimerClass(Tick, control.start, control.interval, control.stop, control.value, control.rate, control.loop, control.actions);
for (var i=0; i < components.length; i++) {
switch(components[i]) {
case "Slider": addSlider(control.start, control.stop,
control.step, control.value);
break;
case "Label": addLabel(control.labels, control.start,
control.step, control.precision);
break;
default:
addButton(components[i]);
}
}
el.rgltimer.Tick();
};
this.applyControls = function(el, x, draw) {
var self = this, reinit = x.reinit, i, obj, control, type;
for (i = 0; i < x.length; i++) {
control = x[i];
type = control.type;
self[type](el, control);
};
if (typeof reinit !== "undefined" && reinit !== null) {
reinit = [].concat(reinit);
for (i = 0; i < reinit.length; i++)
self.getObj(reinit[i]).initialized = false;
}
if (typeof draw === "undefined" || draw)
self.drawScene();
};
this.sceneChangeHandler = function(message) {
var self = document.getElementById(message.elementId).rglinstance,
objs = message.objects, mat = message.material,
root = message.rootSubscene,
initSubs = message.initSubscenes,
redraw = message.redrawScene,
skipRedraw = message.skipRedraw,
deletes, subs, allsubs = [], obj, i,j;
if (typeof message.delete !== "undefined") {
deletes = [].concat(message.delete);
if (typeof message.delfromSubscenes !== "undefined")
subs = [].concat(message.delfromSubscenes);
else
subs = [];
for (i = 0; i < deletes.length; i++) {
for (j = 0; j < subs.length; j++) {
self.delFromSubscene(deletes[i], subs[j]);
}
delete self.scene.objects[deletes[i]];
}
}
if (typeof objs !== "undefined") {
Object.keys(objs).forEach(function(key){
key = parseInt(key, 10);
self.scene.objects[key] = objs[key];
self.initObj(key);
var obj = self.getObj(key),
subs = [].concat(obj.inSubscenes), k;
allsubs = allsubs.concat(subs);
for (k = 0; k < subs.length; k++)
self.addToSubscene(key, subs[k]);
});
}
if (typeof mat !== "undefined") {
self.scene.material = mat;
}
if (typeof root !== "undefined") {
self.scene.rootSubscene = root;
}
if (typeof initSubs !== "undefined")
allsubs = allsubs.concat(initSubs);
allsubs = self.unique(allsubs);
for (i = 0; i < allsubs.length; i++) {
self.initSubscene(allsubs[i]);
}
if (typeof skipRedraw !== "undefined") {
root = self.getObj(self.scene.rootSubscene);
root.par3d.skipRedraw = skipRedraw;
}
if (redraw)
self.drawScene();
};
}).call(rglwidgetClass.prototype);
rgltimerClass = function(Tick, startTime, interval, stopTime, value, rate, loop, actions) {
this.enabled = false;
this.timerId = 0;
this.startTime = startTime;         /* nominal start time in seconds */
this.value = value;                 /* current nominal time */
this.interval = interval;           /* seconds between updates */
this.stopTime = stopTime;           /* nominal stop time */
this.rate = rate;                   /* nominal units per second */
this.loop = loop;                   /* "none", "cycle", or "oscillate" */
this.realStart = undefined;         /* real world start time */
this.multiplier = 1;                /* multiplier for fast-forward
or reverse */
this.actions = actions;
this.Tick = Tick;
};
(function() {
this.play = function() {
if (this.enabled) {
this.enabled = false;
window.clearInterval(this.timerId);
this.timerId = 0;
return;
}
var tick = function(self) {
var now = new Date();
self.value = self.multiplier*self.rate*(now - self.realStart)/1000 + self.startTime;
if (self.value > self.stopTime || self.value < self.startTime) {
if (!self.loop) {
self.reset();
} else {
var cycle = self.stopTime - self.startTime,
newval = (self.value - self.startTime) % cycle + self.startTime;
if (newval < self.startTime) {
newval += cycle;
}
self.realStart += (self.value - newval)*1000/self.multiplier/self.rate;
self.value = newval;
}
}
if (typeof self.Tick !== "undefined") {
self.Tick(self.value);
}
};
this.realStart = new Date() - 1000*(this.value - this.startTime)/this.rate/this.multiplier;
this.timerId = window.setInterval(tick, 1000*this.interval, this);
this.enabled = true;
};
this.reset = function() {
this.value = this.startTime;
this.newmultiplier(1);
if (typeof this.Tick !== "undefined") {
this.Tick(this.value);
}
if (this.enabled)
this.play();  /* really pause... */
if (typeof this.PlayButton !== "undefined")
this.PlayButton.value = "Play";
};
this.faster = function() {
this.newmultiplier(Math.SQRT2*this.multiplier);
};
this.slower = function() {
this.newmultiplier(this.multiplier/Math.SQRT2);
};
this.reverse = function() {
this.newmultiplier(-this.multiplier);
};
this.newmultiplier = function(newmult) {
if (newmult != this.multiplier) {
this.realStart += 1000*(this.value - this.startTime)/this.rate*(1/this.multiplier - 1/newmult);
this.multiplier = newmult;
}
};
}).call(rgltimerClass.prototype);</script>
<div id="persp3ddiv" class="rglWebGL">

</div>
<script type="text/javascript">
var persp3ddiv = document.getElementById("persp3ddiv"),
persp3drgl = new rglwidgetClass();
persp3ddiv.width = 577;
persp3ddiv.height = 289;
persp3drgl.initialize(persp3ddiv,
{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":false,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less"},"rootSubscene":134,"objects":{"142":{"id":142,"type":"surface","material":{},"vertices":[[2.909307,0.0582374,-442.918],[3.156036,0.0582374,-442.828],[3.402764,0.0582374,-445.0072],[3.649492,0.0582374,-449.266],[3.89622,0.0582374,-455.4438],[4.142948,0.0582374,-463.403],[4.389677,0.0582374,-473.0242],[4.636405,0.0582374,-484.203],[4.883132,0.0582374,-496.8474],[5.129861,0.0582374,-510.8753],[5.376589,0.0582374,-526.2137],[5.623317,0.0582374,-542.7966],[5.870045,0.0582374,-560.5645],[6.116773,0.0582374,-579.463],[6.363502,0.0582374,-599.4429],[6.610229,0.0582374,-620.4588],[6.856958,0.0582374,-642.469],[7.103686,0.0582374,-665.4351],[7.350414,0.0582374,-689.3215],[7.597142,0.0582374,-714.0952],[7.84387,0.0582374,-739.7254],[8.090598,0.0582374,-766.1833],[8.337326,0.0582374,-793.4423],[8.584055,0.0582374,-821.4771],[8.830783,0.0582374,-850.264],[9.077511,0.0582374,-879.7808],[9.324239,0.0582374,-910.0067],[9.570967,0.0582374,-940.9218],[9.817696,0.0582374,-972.5074],[10.06442,0.0582374,-1004.746],[2.909307,0.06363552,-442.7806],[3.156036,0.06363552,-440.5035],[3.402764,0.06363552,-440.4956],[3.649492,0.06363552,-442.5673],[3.89622,0.06363552,-446.558],[4.142948,0.06363552,-452.3301],[4.389677,0.06363552,-459.7642],[4.636405,0.06363552,-468.756],[4.883132,0.06363552,-479.2132],[5.129861,0.06363552,-491.0541],[5.376589,0.06363552,-504.2054],[5.623317,0.06363552,-518.6011],[5.870045,0.06363552,-534.1819],[6.116773,0.06363552,-550.8934],[6.363502,0.06363552,-568.6862],[6.610229,0.06363552,-587.515],[6.856958,0.06363552,-607.3381],[7.103686,0.06363552,-628.1171],[7.350414,0.06363552,-649.8164],[7.597142,0.06363552,-672.403],[7.84387,0.06363552,-695.8461],[8.090598,0.06363552,-720.1169],[8.337326,0.06363552,-745.1888],[8.584055,0.06363552,-771.0364],[8.830783,0.06363552,-797.6362],[9.077511,0.06363552,-824.9661],[9.324239,0.06363552,-853.0048],[9.570967,0.06363552,-881.7328],[9.817696,0.06363552,-911.1313],[10.06442,0.06363552,-941.1826],[2.909307,0.06903364,-444.7443],[3.156036,0.06903364,-440.4583],[3.402764,0.06903364,-438.4415],[3.649492,0.06903364,-438.5043],[3.89622,0.06903364,-440.4861],[4.142948,0.06903364,-444.2493],[4.389677,0.06903364,-449.6745],[4.636405,0.06903364,-456.6573],[4.883132,0.06903364,-465.1056],[5.129861,0.06903364,-474.9376],[5.376589,0.06903364,-486.08],[5.623317,0.06903364,-498.4668],[5.870045,0.06903364,-512.0386],[6.116773,0.06903364,-526.7412],[6.363502,0.06903364,-542.5251],[6.610229,0.06903364,-559.345],[6.856958,0.06903364,-577.1592],[7.103686,0.06903364,-595.9293],[7.350414,0.06903364,-615.6197],[7.597142,0.06903364,-636.1974],[7.84387,0.06903364,-657.6315],[8.090598,0.06903364,-679.8935],[8.337326,0.06903364,-702.9564],[8.584055,0.06903364,-726.7952],[8.830783,0.06903364,-751.386],[9.077511,0.06903364,-776.7069],[9.324239,0.06903364,-802.7368],[9.570967,0.06903364,-829.4559],[9.817696,0.06903364,-856.8455],[10.06442,0.06903364,-884.8878],[2.909307,0.07443175,-448.4924],[3.156036,0.07443175,-442.3488],[3.402764,0.07443175,-438.4744],[3.649492,0.07443175,-436.6796],[3.89622,0.07443175,-436.8038],[4.142948,0.07443175,-438.7094],[4.389677,0.07443175,-442.277],[4.636405,0.07443175,-447.4023],[4.883132,0.07443175,-453.993],[5.129861,0.07443175,-461.9673],[5.376589,0.07443175,-471.2521],[5.623317,0.07443175,-481.7814],[5.870045,0.07443175,-493.4957],[6.116773,0.07443175,-506.3406],[6.363502,0.07443175,-520.2669],[6.610229,0.07443175,-535.2292],[6.856958,0.07443175,-551.1859],[7.103686,0.07443175,-568.0984],[7.350414,0.07443175,-585.9312],[7.597142,0.07443175,-604.6513],[7.84387,0.07443175,-624.2278],[8.090598,0.07443175,-644.6323],[8.337326,0.07443175,-665.8376],[8.584055,0.07443175,-687.8187],[8.830783,0.07443175,-710.5521],[9.077511,0.07443175,-734.0153],[9.324239,0.07443175,-758.1876],[9.570967,0.07443175,-783.0491],[9.817696,0.07443175,-808.5811],[10.06442,0.07443175,-834.7659],[2.909307,0.07982987,-453.7747],[3.156036,0.07982987,-445.9037],[3.402764,0.07982987,-440.3018],[3.649492,0.07982987,-436.7795],[3.89622,0.07982987,-435.1763],[4.142948,0.07982987,-435.3544],[4.389677,0.07982987,-437.1945],[4.636405,0.07982987,-440.5923],[4.883132,0.07982987,-445.4556],[5.129861,0.07982987,-451.7025],[5.376589,0.07982987,-459.2598],[5.623317,0.07982987,-468.0616],[5.870045,0.07982987,-478.0484],[6.116773,0.07982987,-489.1659],[6.363502,0.07982987,-501.3647],[6.610229,0.07982987,-514.5995],[6.856958,0.07982987,-528.8287],[7.103686,0.07982987,-544.0137],[7.350414,0.07982987,-560.1191],[7.597142,0.07982987,-577.1117],[7.84387,0.07982987,-594.9608],[8.090598,0.07982987,-613.6377],[8.337326,0.07982987,-633.1156],[8.584055,0.07982987,-653.3693],[8.830783,0.07982987,-674.3751],[9.077511,0.07982987,-696.111],[9.324239,0.07982987,-718.5557],[9.570967,0.07982987,-741.6898],[9.817696,0.07982987,-765.4943],[10.06442,0.07982987,-789.9516],[2.909307,0.085228,-460.3904],[3.156036,0.085228,-450.9049],[3.402764,0.085228,-443.6887],[3.649492,0.085228,-438.552],[3.89622,0.085228,-435.3344],[4.142948,0.085228,-433.8981],[4.389677,0.085228,-434.1238],[4.636405,0.085228,-435.9072],[4.883132,0.085228,-439.1561],[5.129861,0.085228,-443.7886],[5.376589,0.085228,-449.7315],[5.623317,0.085228,-456.9189],[5.870045,0.085228,-465.2913],[6.116773,0.085228,-474.7944],[6.363502,0.085228,-485.3788],[6.610229,0.085228,-496.9993],[6.856958,0.085228,-509.614],[7.103686,0.085228,-523.1847],[7.350414,0.085228,-537.6757],[7.597142,0.085228,-553.0539],[7.84387,0.085228,-569.2886],[8.090598,0.085228,-586.3511],[8.337326,0.085228,-604.2146],[8.584055,0.085228,-622.8539],[8.830783,0.085228,-642.2453],[9.077511,0.085228,-662.3668],[9.324239,0.085228,-683.1971],[9.570967,0.085228,-704.7168],[9.817696,0.085228,-726.9069],[10.06442,0.085228,-749.7498],[2.909307,0.09062611,-468.1755],[3.156036,0.09062611,-457.1748],[3.402764,0.09062611,-448.4434],[3.649492,0.09062611,-441.7915],[3.89622,0.09062611,-437.0586],[4.142948,0.09062611,-434.1071],[4.389677,0.09062611,-432.8177],[4.636405,0.09062611,-433.0858],[4.883132,0.09062611,-434.8195],[5.129861,0.09062611,-437.9367],[5.376589,0.09062611,-442.3644],[5.623317,0.09062611,-448.0367],[5.870045,0.09062611,-454.8938],[6.116773,0.09062611,-462.8817],[6.363502,0.09062611,-471.9509],[6.610229,0.09062611,-482.0561],[6.856958,0.09062611,-493.1557],[7.103686,0.09062611,-505.2111],[7.350414,0.09062611,-518.1869],[7.597142,0.09062611,-532.0499],[7.84387,0.09062611,-546.7693],[8.090598,0.09062611,-562.3167],[8.337326,0.09062611,-578.6649],[8.584055,0.09062611,-595.7889],[8.830783,0.09062611,-613.6652],[9.077511,0.09062611,-632.2714],[9.324239,0.09062611,-651.5866],[9.570967,0.09062611,-671.5911],[9.817696,0.09062611,-692.2659],[10.06442,0.09062611,-713.5936],[2.909307,0.09602423,-476.9947],[3.156036,0.09602423,-464.5665],[3.402764,0.09602423,-454.4075],[3.649492,0.09602423,-446.3281],[3.89622,0.09602423,-440.1677],[4.142948,0.09602423,-435.7887],[4.389677,0.09602423,-433.0717],[4.636405,0.09602423,-431.9123],[4.883132,0.09602423,-432.2184],[5.129861,0.09602423,-433.9082],[5.376589,0.09602423,-436.9084],[5.623317,0.09602423,-441.1531],[5.870045,0.09602423,-446.5827],[6.116773,0.09602423,-453.1431],[6.363502,0.09602423,-460.7848],[6.610229,0.09602423,-469.4624],[6.856958,0.09602423,-479.1345],[7.103686,0.09602423,-489.7624],[7.350414,0.09602423,-501.3106],[7.597142,0.09602423,-513.7461],[7.84387,0.09602423,-527.038],[8.090598,0.09602423,-541.1578],[8.337326,0.09602423,-556.0786],[8.584055,0.09602423,-571.7751],[8.830783,0.09602423,-588.2238],[9.077511,0.09602423,-605.4025],[9.324239,0.09602423,-623.2902],[9.570967,0.09602423,-641.8671],[9.817696,0.09602423,-661.1144],[10.06442,0.09602423,-681.0146],[2.909307,0.1014223,-486.7347],[3.156036,0.1014223,-472.9571],[3.402764,0.1014223,-461.4487],[3.649492,0.1014223,-452.0198],[3.89622,0.1014223,-444.51],[4.142948,0.1014223,-438.7816],[4.389677,0.1014223,-434.7151],[4.636405,0.1014223,-432.2063],[4.883132,0.1014223,-431.1631],[5.129861,0.1014223,-431.5034],[5.376589,0.1014223,-433.1541],[5.623317,0.1014223,-436.0494],[5.870045,0.1014223,-440.1296],[6.116773,0.1014223,-445.3405],[6.363502,0.1014223,-451.6328],[6.610229,0.1014223,-458.9611],[6.856958,0.1014223,-467.2837],[7.103686,0.1014223,-476.5622],[7.350414,0.1014223,-486.761],[7.597142,0.1014223,-497.847],[7.84387,0.1014223,-509.7895],[8.090598,0.1014223,-522.5599],[8.337326,0.1014223,-536.1312],[8.584055,0.1014223,-550.4783],[8.830783,0.1014223,-565.5776],[9.077511,0.1014223,-581.4069],[9.324239,0.1014223,-597.9451],[9.570967,0.1014223,-615.1725],[9.817696,0.1014223,-633.0705],[10.06442,0.1014223,-651.6212],[2.909307,0.1068205,-497.3001],[3.156036,0.1068205,-482.243],[3.402764,0.1068205,-469.4552],[3.649492,0.1068205,-458.7469],[3.89622,0.1068205,-449.9576],[4.142948,0.1068205,-442.9497],[4.389677,0.1068205,-437.6039],[4.636405,0.1068205,-433.8156],[4.883132,0.1068205,-431.4929],[5.129861,0.1068205,-430.5538],[5.376589,0.1068205,-430.9251],[5.623317,0.1068205,-432.541],[5.870045,0.1068205,-435.3417],[6.116773,0.1068205,-439.2733],[6.363502,0.1068205,-444.2861],[6.610229,0.1068205,-450.3349],[6.856958,0.1068205,-457.3781],[7.103686,0.1068205,-465.3771],[7.350414,0.1068205,-474.2965],[7.597142,0.1068205,-484.1031],[7.84387,0.1068205,-494.7662],[8.090598,0.1068205,-506.2571],[8.337326,0.1068205,-518.549],[8.584055,0.1068205,-531.6166],[8.830783,0.1068205,-545.4365],[9.077511,0.1068205,-559.9863],[9.324239,0.1068205,-575.2451],[9.570967,0.1068205,-591.1932],[9.817696,0.1068205,-607.8117],[10.06442,0.1068205,-625.083],[2.909307,0.1122186,-508.6093],[3.156036,0.1122186,-492.336],[3.402764,0.1122186,-478.3318],[3.649492,0.1122186,-466.4071],[3.89622,0.1122186,-456.4015],[4.142948,0.1122186,-448.1773],[4.389677,0.1122186,-441.6151],[4.636405,0.1122186,-436.6105],[4.883132,0.1122186,-433.0714],[5.129861,0.1122186,-430.916],[5.376589,0.1122186,-430.071],[5.623317,0.1122186,-430.4704],[5.870045,0.1122186,-432.0548],[6.116773,0.1122186,-434.77],[6.363502,0.1122186,-438.5665],[6.610229,0.1122186,-443.399],[6.856958,0.1122186,-449.2258],[7.103686,0.1122186,-456.0085],[7.350414,0.1122186,-463.7115],[7.597142,0.1122186,-472.3018],[7.84387,0.1122186,-481.7485],[8.090598,0.1122186,-492.0231],[8.337326,0.1122186,-503.0986],[8.584055,0.1122186,-514.95],[8.830783,0.1122186,-527.5535],[9.077511,0.1122186,-540.8869],[9.324239,0.1122186,-554.9294],[9.570967,0.1122186,-569.6611],[9.817696,0.1122186,-585.0632],[10.06442,0.1122186,-601.1182],[2.909307,0.1176167,-520.5926],[3.156036,0.1176167,-503.16],[3.402764,0.1176167,-487.9966],[3.649492,0.1176167,-474.9128],[3.89622,0.1176167,-463.748],[4.142948,0.1176167,-454.3646],[4.389677,0.1176167,-446.6432],[4.636405,0.1176167,-440.4794],[4.883132,0.1176167,-435.7812],[5.129861,0.1176167,-432.4665],[5.376589,0.1176167,-430.4623],[5.623317,0.1176167,-429.7026],[5.870045,0.1176167,-430.1278],[6.116773,0.1176167,-431.6838],[6.363502,0.1176167,-434.3211],[6.610229,0.1176167,-437.9944],[6.856958,0.1176167,-442.662],[7.103686,0.1176167,-448.2855],[7.350414,0.1176167,-454.8293],[7.597142,0.1176167,-462.2604],[7.84387,0.1176167,-470.548],[8.090598,0.1176167,-479.6634],[8.337326,0.1176167,-489.5797],[8.584055,0.1176167,-500.2718],[8.830783,0.1176167,-511.7162],[9.077511,0.1176167,-523.8904],[9.324239,0.1176167,-536.7737],[9.570967,0.1176167,-550.3462],[9.817696,0.1176167,-564.5892],[10.06442,0.1176167,-579.485],[2.909307,0.1230148,-533.1893],[3.156036,0.1230148,-514.6496],[3.402764,0.1230148,-498.379],[3.649492,0.1230148,-484.188],[3.89622,0.1230148,-471.9161],[4.142948,0.1230148,-461.4255],[4.389677,0.1230148,-452.597],[4.636405,0.1230148,-445.326],[4.883132,0.1230148,-439.5206],[5.129861,0.1230148,-435.0988],[5.376589,0.1230148,-431.9874],[5.623317,0.1230148,-430.1205],[5.870045,0.1230148,-429.4386],[6.116773,0.1230148,-429.8874],[6.363502,0.1230148,-431.4175],[6.610229,0.1230148,-433.9837],[6.856958,0.1230148,-437.5441],[7.103686,0.1230148,-442.0605],[7.350414,0.1230148,-447.4972],[7.597142,0.1230148,-453.821],[7.84387,0.1230148,-461.0015],[8.090598,0.1230148,-469.0097],[8.337326,0.1230148,-477.8188],[8.584055,0.1230148,-487.4038],[8.830783,0.1230148,-497.741],[9.077511,0.1230148,-508.8081],[9.324239,0.1230148,-520.5842],[9.570967,0.1230148,-533.0496],[9.817696,0.1230148,-546.1854],[10.06442,0.1230148,-559.974],[2.909307,0.1284129,-546.3468],[3.156036,0.1284129,-526.7474],[3.402764,0.1284129,-509.4173],[3.649492,0.1284129,-494.1667],[3.89622,0.1284129,-480.8351],[4.142948,0.1284129,-469.2849],[4.389677,0.1284129,-459.3968],[4.636405,0.1284129,-451.0663],[4.883132,0.1284129,-444.2012],[5.129861,0.1284129,-438.7198],[5.376589,0.1284129,-434.5488],[5.623317,0.1284129,-431.6224],[5.870045,0.1284129,-429.8808],[6.116773,0.1284129,-429.27],[6.363502,0.1284129,-429.7405],[6.610229,0.1284129,-431.247],[6.856958,0.1284129,-433.7479],[7.103686,0.1284129,-437.2047],[7.350414,0.1284129,-441.5817],[7.597142,0.1284129,-446.846],[7.84387,0.1284129,-452.9668],[8.090598,0.1284129,-459.9154],[8.337326,0.1284129,-467.665],[8.584055,0.1284129,-476.1904],[8.830783,0.1284129,-485.4679],[9.077511,0.1284129,-495.4754],[9.324239,0.1284129,-506.1919],[9.570967,0.1284129,-517.5977],[9.817696,0.1284129,-529.6739],[10.06442,0.1284129,-542.4029],[2.909307,0.1338111,-560.0189],[3.156036,0.1338111,-539.4036],[3.402764,0.1338111,-521.0574],[3.649492,0.1338111,-504.7909],[3.89622,0.1338111,-490.4433],[4.142948,0.1338111,-477.8772],[4.389677,0.1338111,-466.973],[4.636405,0.1338111,-457.6265],[4.883132,0.1338111,-449.7455],[5.129861,0.1338111,-443.2482],[5.376589,0.1338111,-438.0612],[5.623317,0.1338111,-434.1188],[5.870045,0.1338111,-431.3612],[6.116773,0.1338111,-429.7345],[6.363502,0.1338111,-429.189],[6.610229,0.1338111,-429.6796],[6.856958,0.1338111,-431.1645],[7.103686,0.1338111,-433.6053],[7.350414,0.1338111,-436.9663],[7.597142,0.1338111,-441.2147],[7.84387,0.1338111,-446.3195],[8.090598,0.1338111,-452.2521],[8.337326,0.1338111,-458.9857],[8.584055,0.1338111,-466.4951],[8.830783,0.1338111,-474.7567],[9.077511,0.1338111,-483.7483],[9.324239,0.1338111,-493.4488],[9.570967,0.1338111,-503.8386],[9.817696,0.1338111,-514.8988],[10.06442,0.1338111,-526.6119],[2.909307,0.1392092,-574.1647],[3.156036,0.1392092,-552.5737],[3.402764,0.1392092,-533.2518],[3.649492,0.1392092,-516.0094],[3.89622,0.1392092,-500.6861],[4.142948,0.1392092,-487.1442],[4.389677,0.1392092,-475.2643],[4.636405,0.1392092,-464.942],[4.883132,0.1392092,-456.0852],[5.129861,0.1392092,-448.612],[5.376589,0.1392092,-442.4493],[5.623317,0.1392092,-437.5311],[5.870045,0.1392092,-433.7978],[6.116773,0.1392092,-431.1952],[6.363502,0.1392092,-429.674],[6.610229,0.1392092,-429.1888],[6.856958,0.1392092,-429.6979],[7.103686,0.1392092,-431.1629],[7.350414,0.1392092,-433.5482],[7.597142,0.1392092,-436.8207],[7.84387,0.1392092,-440.9498],[8.090598,0.1392092,-445.9066],[8.337326,0.1392092,-451.6644],[8.584055,0.1392092,-458.1981],[8.830783,0.1392092,-465.4839],[9.077511,0.1392092,-473.4996],[9.324239,0.1392092,-482.2244],[9.570967,0.1392092,-491.6384],[9.817696,0.1392092,-501.7228],[10.06442,0.1392092,-512.4601],[2.909307,0.1446073,-588.7485],[3.156036,0.1446073,-566.2187],[3.402764,0.1446073,-545.9581],[3.649492,0.1446073,-527.7772],[3.89622,0.1446073,-511.5152],[4.142948,0.1446073,-497.0346],[4.389677,0.1446073,-484.216],[4.636405,0.1446073,-472.9551],[4.883132,0.1446073,-463.1596],[5.129861,0.1446073,-454.7478],[5.376589,0.1446073,-447.6465],[5.623317,0.1446073,-441.7896],[5.870045,0.1446073,-437.1176],[6.116773,0.1446073,-433.5764],[6.363502,0.1446073,-431.1165],[6.610229,0.1446073,-429.6926],[6.856958,0.1446073,-429.2631],[7.103686,0.1446073,-429.7894],[7.350414,0.1446073,-431.2361],[7.597142,0.1446073,-433.57],[7.84387,0.1446073,-436.7604],[8.090598,0.1446073,-440.7786],[8.337326,0.1446073,-445.5977],[8.584055,0.1446073,-451.1927],[8.830783,0.1446073,-457.5399],[9.077511,0.1446073,-464.6169],[9.324239,0.1446073,-472.4031],[9.570967,0.1446073,-480.8784],[9.817696,0.1446073,-490.0242],[10.06442,0.1446073,-499.8228],[2.909307,0.1500054,-603.7379],[3.156036,0.1500054,-580.3038],[3.402764,0.1500054,-559.139],[3.649492,0.1500054,-540.0538],[3.89622,0.1500054,-522.8876],[4.142948,0.1500054,-507.5027],[4.389677,0.1500054,-493.7799],[4.636405,0.1500054,-481.6147],[4.883132,0.1500054,-470.915],[5.129861,0.1500054,-461.599],[5.376589,0.1500054,-453.5933],[5.623317,0.1500054,-446.8322],[5.870045,0.1500054,-441.256],[6.116773,0.1500054,-436.8105],[6.363502,0.1500054,-433.4464],[6.610229,0.1500054,-431.1183],[6.856958,0.1500054,-429.7845],[7.103686,0.1500054,-429.4066],[7.350414,0.1500054,-429.949],[7.597142,0.1500054,-431.3786],[7.84387,0.1500054,-433.6648],[8.090598,0.1500054,-436.7787],[8.337326,0.1500054,-440.6936],[8.584055,0.1500054,-445.3843],[8.830783,0.1500054,-450.8272],[9.077511,0.1500054,-457.0001],[9.324239,0.1500054,-463.882],[9.570967,0.1500054,-471.453],[9.817696,0.1500054,-479.6946],[10.06442,0.1500054,-488.589],[2.909307,0.1554035,-619.1042],[3.156036,0.1554035,-594.798],[3.402764,0.1554035,-572.7609],[3.649492,0.1554035,-552.8033],[3.89622,0.1554035,-534.7648],[4.142948,0.1554035,-518.5078],[4.389677,0.1554035,-503.9126],[4.636405,0.1554035,-490.8752],[4.883132,0.1554035,-479.3032],[5.129861,0.1554035,-469.1149],[5.376589,0.1554035,-460.2369],[5.623317,0.1554035,-452.6035],[5.870045,0.1554035,-446.1551],[6.116773,0.1554035,-440.8373],[6.363502,0.1554035,-436.6009],[6.610229,0.1554035,-433.4005],[6.856958,0.1554035,-431.1944],[7.103686,0.1554035,-429.9443],[7.350414,0.1554035,-429.6144],[7.597142,0.1554035,-430.1718],[7.84387,0.1554035,-431.5856],[8.090598,0.1554035,-433.8273],[8.337326,0.1554035,-436.8699],[8.584055,0.1554035,-440.6884],[8.830783,0.1554035,-445.259],[9.077511,0.1554035,-450.5596],[9.324239,0.1554035,-456.5692],[9.570967,0.1554035,-463.2679],[9.817696,0.1554035,-470.6372],[10.06442,0.1554035,-478.6593],[2.909307,0.1608016,-634.8218],[3.156036,0.1608016,-609.6731],[3.402764,0.1608016,-586.7935],[3.649492,0.1608016,-565.9935],[3.89622,0.1608016,-547.1125],[4.142948,0.1608016,-530.0129],[4.389677,0.1608016,-514.5753],[4.636405,0.1608016,-500.6954],[4.883132,0.1608016,-488.2809],[5.129861,0.1608016,-477.2501],[5.376589,0.1608016,-467.5297],[5.623317,0.1608016,-459.0538],[5.870045,0.1608016,-451.7628],[6.116773,0.1608016,-445.6026],[6.363502,0.1608016,-440.5237],[6.610229,0.1608016,-436.4808],[6.856958,0.1608016,-433.4323],[7.103686,0.1608016,-431.3396],[7.350414,0.1608016,-430.1672],[7.597142,0.1608016,-429.8821],[7.84387,0.1608016,-430.4535],[8.090598,0.1608016,-431.8527],[8.337326,0.1608016,-434.0528],[8.584055,0.1608016,-437.0287],[8.830783,0.1608016,-440.7569],[9.077511,0.1608016,-445.215],[9.324239,0.1608016,-450.3821],[9.570967,0.1608016,-456.2384],[9.817696,0.1608016,-462.7652],[10.06442,0.1608016,-469.9447],[2.909307,0.1661998,-650.8676],[3.156036,0.1661998,-624.9041],[3.402764,0.1661998,-601.2098],[3.649492,0.1661998,-579.5952],[3.89622,0.1661998,-559.8995],[4.142948,0.1661998,-541.9852],[4.389677,0.1661998,-525.733],[4.636405,0.1661998,-511.0384],[4.883132,0.1661998,-497.8093],[5.129861,0.1661998,-485.9638],[5.376589,0.1661998,-475.4287],[5.623317,0.1661998,-466.1381],[5.870045,0.1661998,-458.0325],[6.116773,0.1661998,-451.0576],[6.363502,0.1661998,-445.164],[6.610229,0.1661998,-440.3065],[6.856958,0.1661998,-436.4432],[7.103686,0.1661998,-433.5359],[7.350414,0.1661998,-431.5489],[7.597142,0.1661998,-430.4491],[7.84387,0.1661998,-430.2058],[8.090598,0.1661998,-430.7903],[8.337326,0.1661998,-432.1758],[8.584055,0.1661998,-434.3371],[8.830783,0.1661998,-437.2505],[9.077511,0.1661998,-440.894],[9.324239,0.1661998,-445.2464],[9.570967,0.1661998,-450.288],[9.817696,0.1661998,-456.0002],[10.06442,0.1661998,-462.3651],[2.909307,0.1715979,-667.2203],[3.156036,0.1715979,-640.4683],[3.402764,0.1715979,-615.9854],[3.649492,0.1715979,-593.5821],[3.89622,0.1715979,-573.0978],[4.142948,0.1715979,-554.3949],[4.389677,0.1715979,-537.354],[4.636405,0.1715979,-521.8707],[4.883132,0.1715979,-507.853],[5.129861,0.1715979,-495.2189],[5.376589,0.1715979,-483.8952],[5.623317,0.1715979,-473.816],[5.870045,0.1715979,-464.9217],[6.116773,0.1715979,-457.1582],[6.363502,0.1715979,-450.476],[6.610229,0.1715979,-444.8298],[6.856958,0.1715979,-440.178],[7.103686,0.1715979,-436.482],[7.350414,0.1715979,-433.7064],[7.597142,0.1715979,-431.8179],[7.84387,0.1715979,-430.786],[8.090598,0.1715979,-430.5819],[8.337326,0.1715979,-431.1787],[8.584055,0.1715979,-432.5514],[8.830783,0.1715979,-434.6762],[9.077511,0.1715979,-437.531],[9.324239,0.1715979,-441.0948],[9.570967,0.1715979,-445.3478],[9.817696,0.1715979,-450.2714],[10.06442,0.1715979,-455.8476],[2.909307,0.176996,-683.8611],[3.156036,0.176996,-656.3448],[3.402764,0.176996,-631.0978],[3.649492,0.176996,-607.9303],[3.89622,0.176996,-586.6818],[4.142948,0.176996,-567.2147],[4.389677,0.176996,-549.4096],[4.636405,0.176996,-533.1622],[4.883132,0.176996,-518.3802],[5.129861,0.176996,-504.9819],[5.376589,0.176996,-492.894],[5.623317,0.176996,-482.0506],[5.870045,0.176996,-472.3922],[6.116773,0.176996,-463.8644],[6.363502,0.176996,-456.4181],[6.610229,0.176996,-450.0077],[6.856958,0.176996,-444.5916],[7.103686,0.176996,-440.1314],[7.350414,0.176996,-436.5916],[7.597142,0.176996,-433.939],[7.84387,0.176996,-432.1429],[8.090598,0.176996,-431.1746],[8.337326,0.176996,-431.0072],[8.584055,0.176996,-431.6157],[8.830783,0.176996,-432.9763],[9.077511,0.176996,-435.0669],[9.324239,0.176996,-437.8665],[9.570967,0.176996,-441.3553],[9.817696,0.176996,-445.5146],[10.06442,0.176996,-450.3267],[2.909307,0.1823941,-700.7726],[3.156036,0.1823941,-672.5151],[3.402764,0.1823941,-646.5269],[3.649492,0.1823941,-622.6181],[3.89622,0.1823941,-600.6284],[4.142948,0.1823941,-580.42],[4.389677,0.1823941,-561.8737],[4.636405,0.1823941,-544.8851],[4.883132,0.1823941,-529.3619],[5.129861,0.1823941,-515.2223],[5.376589,0.1823941,-502.3932],[5.623317,0.1823941,-490.8086],[5.870045,0.1823941,-480.4088],[6.116773,0.1823941,-471.1399],[6.363502,0.1823941,-462.9523],[6.610229,0.1823941,-455.8006],[6.856958,0.1823941,-449.6433],[7.103686,0.1823941,-444.442],[7.350414,0.1823941,-440.1609],[7.597142,0.1823941,-436.767],[7.84387,0.1823941,-434.2296],[8.090598,0.1823941,-432.5201],[8.337326,0.1823941,-431.6115],[8.584055,0.1823941,-431.4787],[8.830783,0.1823941,-432.0981],[9.077511,0.1823941,-433.4475],[9.324239,0.1823941,-435.5059],[9.570967,0.1823941,-438.2534],[9.817696,0.1823941,-441.6715],[10.06442,0.1823941,-445.7423],[2.909307,0.1877922,-717.9391],[3.156036,0.1877922,-688.962],[3.402764,0.1877922,-662.2541],[3.649492,0.1877922,-637.6257],[3.89622,0.1877922,-614.9164],[4.142948,0.1877922,-593.9885],[4.389677,0.1877922,-574.7225],[4.636405,0.1877922,-557.0142],[4.883132,0.1877922,-540.7714],[5.129861,0.1877922,-525.9122],[5.376589,0.1877922,-512.3635],[5.623317,0.1877922,-500.0593],[5.870045,0.1877922,-488.9399],[6.116773,0.1877922,-478.9514],[6.363502,0.1877922,-470.0441],[6.610229,0.1877922,-462.1729],[6.856958,0.1877922,-455.296],[7.103686,0.1877922,-449.3749],[7.350414,0.1877922,-444.3742],[7.597142,0.1877922,-440.2608],[7.84387,0.1877922,-437.0038],[8.090598,0.1877922,-434.5746],[8.337326,0.1877922,-432.9464],[8.584055,0.1877922,-432.094],[8.830783,0.1877922,-431.9938],[9.077511,0.1877922,-432.6236],[9.324239,0.1877922,-433.9623],[9.570967,0.1877922,-435.9903],[9.817696,0.1877922,-438.6887],[10.06442,0.1877922,-442.0399],[2.909307,0.1931904,-735.3461],[3.156036,0.1931904,-705.6698],[3.402764,0.1931904,-678.2626],[3.649492,0.1931904,-652.9351],[3.89622,0.1931904,-629.5265],[4.142948,0.1931904,-607.8994],[4.389677,0.1931904,-587.9342],[4.636405,0.1931904,-569.5267],[4.883132,0.1931904,-552.5846],[5.129861,0.1931904,-537.0262],[5.376589,0.1931904,-522.7783],[5.623317,0.1931904,-509.7748],[5.870045,0.1931904,-497.9562],[6.116773,0.1931904,-487.2685],[6.363502,0.1931904,-477.662],[6.610229,0.1931904,-469.0915],[6.856958,0.1931904,-461.5154],[7.103686,0.1931904,-454.8952],[7.350414,0.1931904,-449.1952],[7.597142,0.1931904,-444.3825],[7.84387,0.1931904,-440.4263],[8.090598,0.1931904,-437.2979],[8.337326,0.1931904,-434.9705],[8.584055,0.1931904,-433.4189],[8.830783,0.1931904,-432.6195],[9.077511,0.1931904,-432.55],[9.324239,0.1931904,-433.1895],[9.570967,0.1931904,-434.5182],[9.817696,0.1931904,-436.5175],[10.06442,0.1931904,-439.1695],[2.909307,0.1985885,-752.9803],[3.156036,0.1985885,-722.624],[3.402764,0.1985885,-694.5369],[3.649492,0.1985885,-668.5294],[3.89622,0.1985885,-644.4409],[4.142948,0.1985885,-622.1338],[4.389677,0.1985885,-601.4887],[4.636405,0.1985885,-582.4012],[4.883132,0.1985885,-564.7792],[5.129861,0.1985885,-548.5409],[5.376589,0.1985885,-533.613],[5.623317,0.1985885,-519.9296],[5.870045,0.1985885,-507.4311],[6.116773,0.1985885,-496.0633],[6.363502,0.1985885,-485.7769],[6.610229,0.1985885,-476.5265],[6.856958,0.1985885,-468.2704],[7.103686,0.1985885,-460.9702],[7.350414,0.1985885,-454.5903],[7.597142,0.1985885,-449.0977],[7.84387,0.1985885,-444.4615],[8.090598,0.1985885,-440.6532],[8.337326,0.1985885,-437.6458],[8.584055,0.1985885,-435.4142],[8.830783,0.1985885,-433.9349],[9.077511,0.1985885,-433.1854],[9.324239,0.1985885,-433.145],[9.570967,0.1985885,-433.7938],[9.817696,0.1985885,-435.1131],[10.06442,0.1985885,-437.0851],[2.909307,0.2039866,-770.8296],[3.156036,0.2039866,-739.8116],[3.402764,0.2039866,-711.0628],[3.649492,0.2039866,-684.3936],[3.89622,0.2039866,-659.6433],[4.142948,0.2039866,-636.6745],[4.389677,0.2039866,-615.3677],[4.636405,0.2039866,-595.6185],[4.883132,0.2039866,-577.3348],[5.129861,0.2039866,-560.4347],[5.376589,0.2039866,-544.8451],[5.623317,0.2039866,-530.4999],[5.870045,0.2039866,-517.3397],[6.116773,0.2039866,-505.3103],[6.363502,0.2039866,-494.3622],[6.610229,0.2039866,-484.45],[6.856958,0.2039866,-475.5322],[7.103686,0.2039866,-467.5703],[7.350414,0.2039866,-460.5287],[7.597142,0.2039866,-454.3744],[7.84387,0.2039866,-449.0765],[8.090598,0.2039866,-444.6064],[8.337326,0.2039866,-440.9374],[8.584055,0.2039866,-438.0441],[8.830783,0.2039866,-435.903],[9.077511,0.2039866,-434.4919],[9.324239,0.2039866,-433.7897],[9.570967,0.2039866,-433.7768],[9.817696,0.2039866,-434.4343],[10.06442,0.2039866,-435.7447],[2.909307,0.2093847,-788.8826],[3.156036,0.2093847,-757.2202],[3.402764,0.2093847,-727.827],[3.649492,0.2093847,-700.5133],[3.89622,0.2093847,-675.1187],[4.142948,0.2093847,-651.5054],[4.389677,0.2093847,-629.5541],[4.636405,0.2093847,-609.1605],[4.883132,0.2093847,-590.2324],[5.129861,0.2093847,-572.6879],[5.376589,0.2093847,-556.4539],[5.623317,0.2093847,-541.4643],[5.870045,0.2093847,-527.6597],[6.116773,0.2093847,-514.9858],[6.363502,0.2093847,-503.3932],[6.610229,0.2093847,-492.8366],[6.856958,0.2093847,-483.2744],[7.103686,0.2093847,-474.6681],[7.350414,0.2093847,-466.9821],[7.597142,0.2093847,-460.1833],[7.84387,0.2093847,-454.241],[8.090598,0.2093847,-449.1265],[8.337326,0.2093847,-444.813],[8.584055,0.2093847,-441.2753],[8.830783,0.2093847,-438.4897],[9.077511,0.2093847,-436.4342],[9.324239,0.2093847,-435.0876],[9.570967,0.2093847,-434.4302],[9.817696,0.2093847,-434.4434],[10.06442,0.2093847,-435.1093],[2.909307,0.2147828,-807.1292],[3.156036,0.2147828,-774.8387],[3.402764,0.2147828,-744.8174],[3.649492,0.2147828,-716.8757],[3.89622,0.2147828,-690.8531],[4.142948,0.2147828,-666.6118],[4.389677,0.2147828,-644.0325],[4.636405,0.2147828,-623.0109],[4.883132,0.2147828,-603.4547],[5.129861,0.2147828,-585.2822],[5.376589,0.2147828,-568.4201],[5.623317,0.2147828,-552.8025],[5.870045,0.2147828,-538.3699],[6.116773,0.2147828,-525.0679],[6.363502,0.2147828,-512.8474],[6.610229,0.2147828,-501.6628],[6.856958,0.2147828,-491.4725],[7.103686,0.2147828,-482.2382],[7.350414,0.2147828,-473.9241],[7.597142,0.2147828,-466.4973],[7.84387,0.2147828,-459.927],[8.090598,0.2147828,-454.1845],[8.337326,0.2147828,-449.2429],[8.584055,0.2147828,-445.0772],[8.830783,0.2147828,-441.6636],[9.077511,0.2147828,-438.98],[9.324239,0.2147828,-437.0054],[9.570967,0.2147828,-435.7201],[9.817696,0.2147828,-435.1052],[10.06442,0.2147828,-435.143]],"normals":[[-0.1733823,-0.9846532,0.01991898],[-0.006314733,-0.9999165,0.0112765],[0.01110619,-0.9999374,0.001380169],[0.01391446,-0.9999028,0.0008538322],[0.01498371,-0.9998875,0.0006270157],[0.01538959,-0.9998815,0.0004973433],[0.01548463,-0.9998801,0.0004127405],[0.01541807,-0.9998811,0.0003529908],[0.01526284,-0.9998835,0.000308472],[0.01505806,-0.9998866,0.0002739868],[0.01482599,-0.9998901,0.0002464715],[0.01457999,-0.9998938,0.0002239995],[0.01432824,-0.9998974,0.0002052961],[0.01407576,-0.9999009,0.0001894841],[0.01382584,-0.9999044,0.0001759393],[0.01358046,-0.9999079,0.0001642058],[0.01334088,-0.999911,0.0001539424],[0.01310785,-0.9999142,0.0001448887],[0.01288171,-0.999917,0.0001368423],[0.01266267,-0.9999199,0.0001296437],[0.01245072,-0.9999226,0.0001231656],[0.01224578,-0.999925,0.0001173048],[0.01204765,-0.9999275,0.000111977],[0.01185619,-0.9999298,0.0001071126],[0.01167118,-0.9999319,0.0001026535],[0.01149233,-0.999934,9.855127e-05],[0.01131941,-0.9999359,9.476446e-05],[0.01115215,-0.9999378,9.125807e-05],[0.01099036,-0.9999397,8.800209e-05],[0.0109173,-0.9999404,8.64332e-05],[-0.4404045,-0.8953233,0.06663439],[-0.3564373,-0.9337018,0.03396469],[0.003059807,-0.9998619,0.01634069],[0.01267542,-0.9999191,0.001198615],[0.01463138,-0.9998927,0.0007852869],[0.01537443,-0.9998817,0.0005936368],[0.01562778,-0.9998778,0.0004793615],[0.01564473,-0.9998776,0.0004027162],[0.01553668,-0.9998793,0.000347511],[0.01535956,-0.999882,0.0003057657],[0.0151439,-0.9998854,0.000273054],[0.01490745,-0.9998889,0.0002467107],[0.01466088,-0.9998925,0.0002250309],[0.01441074,-0.9998962,0.0002068713],[0.01416126,-0.9998997,0.0001914355],[0.01391504,-0.9999031,0.0001781513],[0.01367375,-0.9999065,0.0001665967],[0.01343839,-0.9999097,0.0001564538],[0.01320951,-0.9999128,0.000147478],[0.01298744,-0.9999157,0.0001394784],[0.01277229,-0.9999185,0.0001323037],[0.01256402,-0.9999211,0.0001258323],[0.01236251,-0.9999236,0.0001199656],[0.01216763,-0.999926,0.0001146222],[0.0119792,-0.9999283,0.0001097353],[0.01179695,-0.9999305,0.0001052485],[0.01162066,-0.9999325,0.0001011147],[0.01145008,-0.9999344,9.729367e-05],[0.01128502,-0.9999364,9.375119e-05],[0.0112041,-0.9999373,9.204564e-05],[-0.3665036,0.9301718,0.02133925],[-0.667501,0.7352415,0.1177377],[-0.6590974,-0.7485871,0.07216579],[0.01219322,-0.9995008,0.02914364],[0.01333859,-0.9999102,0.001329768],[0.01513547,-0.9998852,0.000862965],[0.01582004,-0.9998747,0.0006500816],[0.01604743,-0.9998712,0.0005239324],[0.01605271,-0.9998711,0.0004396148],[0.0159401,-0.999873,0.0003790199],[0.01576198,-0.9998757,0.0003332722],[0.01554719,-0.9998792,0.000297467],[0.01531248,-0.9998828,0.0002686595],[0.01506792,-0.9998865,0.0002449696],[0.01481988,-0.9998901,0.0002251386],[0.01457235,-0.9998938,0.000208291],[0.01432787,-0.9998974,0.000193798],[0.01408803,-0.9999008,0.0001811969],[0.01385381,-0.999904,0.0001701389],[0.01362582,-0.9999072,0.0001603563],[0.01340435,-0.9999102,0.0001516398],[0.01318955,-0.999913,0.0001438241],[0.01298135,-0.9999158,0.0001367759],[0.01277973,-0.9999183,0.0001303873],[0.01258457,-0.9999209,0.0001245699],[0.01239562,-0.9999232,0.00011925],[0.01221269,-0.9999255,0.0001143665],[0.01203556,-0.9999276,0.0001098678],[0.01186406,-0.9999297,0.0001057099],[0.01177997,-0.9999307,0.0001037112],[-0.0415815,0.9991337,0.001706968],[-0.1602079,0.9870342,0.009851255],[-0.2329365,0.9708249,0.05691928],[-0.9315635,-0.3444519,0.1163714],[0.01058928,-0.9998778,0.01149942],[0.01403514,-0.9999005,0.001467471],[0.01564566,-0.9998772,0.0009427461],[0.01626107,-0.9998676,0.0007076226],[0.01645588,-0.9998645,0.0005691863],[0.01644498,-0.9998647,0.0004769826],[0.01632438,-0.9998667,0.0004108718],[0.01614275,-0.9998696,0.0003610406],[0.01592691,-0.9998732,0.0003220867],[0.0156924,-0.9998769,0.0002907756],[0.01544882,-0.9998807,0.0002650467],[0.01520204,-0.9998845,0.0002435223],[0.01495584,-0.9998882,0.0002252453],[0.01471265,-0.9998918,0.00020953],[0.01447394,-0.9998952,0.0001958713],[0.01424071,-0.9998987,0.0001838894],[0.01401352,-0.9999018,0.0001732924],[0.01379265,-0.9999049,0.0001638529],[0.01357819,-0.9999079,0.0001553907],[0.01337022,-0.9999107,0.0001477612],[0.01316866,-0.9999134,0.000140847],[0.01297332,-0.9999158,0.000134552],[0.01278406,-0.9999183,0.0001287963],[0.01260067,-0.9999207,0.0001235135],[0.01242298,-0.9999229,0.0001186475],[0.01233587,-0.999924,0.0001163123],[-0.03489898,0.9993902,0.001108186],[-0.03704324,0.9993126,0.001446359],[-0.1097787,0.993929,0.007334975],[-0.1250741,0.9918211,0.02544901],[-0.9750287,-0.173824,0.1382183],[0.01092479,-0.9999043,0.008479653],[0.01476818,-0.9998897,0.001612345],[0.01616383,-0.9998689,0.001024729],[0.01669988,-0.9998603,0.0007662963],[0.01685614,-0.9998578,0.0006151412],[0.01682483,-0.9998584,0.0005148297],[0.01669317,-0.9998606,0.000443073],[0.01650571,-0.9998637,0.0003890751],[0.01628696,-0.9998673,0.0003469162],[0.01605138,-0.9998712,0.0003130616],[0.01580765,-0.9998751,0.0002852638],[0.01556129,-0.9998789,0.0002620234],[0.01531584,-0.9998827,0.0002422999],[0.01507344,-0.9998864,0.0002253484],[0.01483556,-0.9998899,0.0002106211],[0.01460309,-0.9998934,0.0001977059],[0.01437653,-0.9998967,0.000186287],[0.01415615,-0.9998998,0.0001761181],[0.01394208,-0.9999029,0.0001670041],[0.01373438,-0.9999058,0.0001587887],[0.01353288,-0.9999084,0.0001513449],[0.01333749,-0.9999111,0.0001445689],[0.01314804,-0.9999136,0.0001383744],[0.01296437,-0.999916,0.0001326897],[0.01287432,-0.9999171,0.0001299665],[-0.03286643,0.9994595,0.0008619255],[-0.03318558,0.9994488,0.001014286],[-0.03554335,0.999367,0.001512567],[-0.08119119,0.9966813,0.005854147],[-0.08704177,0.9960423,0.01798729],[-0.97961,-0.1190134,0.1618638],[0.01156125,-0.9999058,0.0073926],[0.01554139,-0.9998777,0.001765108],[0.01669141,-0.9998602,0.001109007],[0.01713837,-0.9998528,0.0008261366],[0.01725041,-0.9998511,0.000661813],[0.01719479,-0.9998521,0.000553165],[0.01704931,-0.9998546,0.0004756291],[0.01685386,-0.999858,0.0004173799],[0.01663059,-0.9998617,0.0003719582],[0.01639254,-0.9998657,0.0003355188],[0.01614768,-0.9998696,0.0003056224],[0.01590101,-0.9998736,0.0002806433],[0.01565562,-0.9998775,0.0002594555],[0.01541356,-0.9998812,0.0002412538],[0.01517614,-0.9998848,0.0002254464],[0.01494417,-0.9998884,0.0002115889],[0.01471803,-0.9998918,0.0001993405],[0.01449804,-0.999895,0.0001884356],[0.01428434,-0.999898,0.0001786644],[0.01407682,-0.999901,0.0001698584],[0.01387543,-0.9999037,0.0001618812],[0.01368004,-0.9999064,0.0001546207],[0.0134905,-0.999909,0.0001479844],[0.01339759,-0.9999103,0.0001448118],[-0.03209223,0.9994847,0.0007238006],[-0.03192699,0.99949,0.0008156215],[-0.03211549,0.9994836,0.001065453],[-0.03415851,0.9994152,0.001576298],[-0.06542391,0.9978446,0.005077053],[-0.06796914,0.9975797,0.01466024],[-0.9773641,-0.09092392,0.1910292],[0.01233513,-0.9998997,0.006952933],[0.01635943,-0.9998643,0.001926617],[0.0172299,-0.9998509,0.001195694],[0.01757807,-0.9998452,0.0008871822],[0.01764049,-0.9998443,0.0007092212],[0.01755707,-0.9998457,0.0005919996],[0.01739511,-0.9998487,0.0005085469],[0.01718962,-0.9998522,0.0004459586],[0.01696028,-0.9998561,0.0003972154],[0.01671862,-0.9998603,0.0003581499],[0.01647167,-0.9998643,0.0003261239],[0.01622383,-0.9998684,0.0002993828],[0.0159779,-0.9998723,0.0002767128],[0.01573575,-0.9998763,0.0002572468],[0.01549843,-0.9998799,0.0002403481],[0.01526659,-0.9998835,0.0002255388],[0.01504073,-0.9998869,0.0002124531],[0.01482106,-0.9998902,0.0002008061],[0.01460752,-0.9998933,0.0001903721],[0.01440017,-0.9998963,0.0001809709],[0.01419885,-0.9998993,0.0001724562],[0.01400348,-0.999902,0.0001647078],[0.01390775,-0.9999034,0.0001610117],[-0.03184158,0.9994928,0.0006346626],[-0.0314744,0.9995044,0.0006978182],[-0.03099347,0.9995192,0.0008565079],[-0.03112753,0.9995149,0.00111539],[-0.03287224,0.9994583,0.001637746],[-0.05556508,0.9984444,0.004631756],[-0.05627217,0.9983333,0.01281051],[-0.9709981,-0.07372162,0.2274372],[0.01320791,-0.9998895,0.006818702],[0.01722731,-0.9998494,0.002097878],[0.01778057,-0.9998411,0.001284907],[0.01802015,-0.9998372,0.0009494702],[0.01802794,-0.9998373,0.0007573829],[0.01791327,-0.9998394,0.0006313428],[0.01773236,-0.9998427,0.0005418319],[0.01751508,-0.9998466,0.0004748162],[0.01727824,-0.9998506,0.0004226915],[0.0170318,-0.9998549,0.0003809573],[0.01678178,-0.9998592,0.0003467707],[0.01653206,-0.9998633,0.0003182441],[0.01628508,-0.9998674,0.0002940737],[0.0160423,-0.9998714,0.0002733288],[0.01580463,-0.9998751,0.000255327],[0.01557276,-0.9998787,0.0002395567],[0.01534697,-0.9998823,0.000225626],[0.01512732,-0.9998856,0.00021323],[0.0149139,-0.9998888,0.0002021279],[0.01470657,-0.9998918,0.0001921268],[0.01450532,-0.9998949,0.0001830704],[0.01440673,-0.9998962,0.0001787608],[-0.0318547,0.9994924,0.0005721606],[-0.03138298,0.9995073,0.0006191117],[-0.03059925,0.9995315,0.0007318093],[-0.03013731,0.9995454,0.0008966585],[-0.0302082,0.999543,0.001164141],[-0.03167047,0.9994971,0.001697026],[-0.04873248,0.9988024,0.004355338],[-0.04821124,0.9987691,0.01165826],[-0.959832,-0.06211196,0.2736143],[0.01416968,-0.999876,0.006864647],[0.01815088,-0.9998327,0.002280026],[0.01834447,-0.9998308,0.001376766],[0.0184658,-0.9998291,0.001013043],[0.01841387,-0.9998301,0.0008063175],[0.01826483,-0.999833,0.0006712065],[0.01806275,-0.9998367,0.0005754927],[0.01783188,-0.999841,0.0005039573],[0.01758617,-0.9998453,0.0004483893],[0.01733381,-0.9998497,0.0004039432],[0.0170799,-0.9998541,0.0003675642],[0.01682765,-0.9998584,0.0003372282],[0.01657896,-0.9998626,0.0003115387],[0.01633506,-0.9998666,0.0002895004],[0.01609681,-0.9998704,0.0002703841],[0.01586458,-0.9998741,0.0002536431],[0.01563852,-0.9998777,0.0002388593],[0.01541877,-0.9998811,0.0002257078],[0.01520527,-0.9998844,0.000213932],[0.01499796,-0.9998875,0.0002033262],[0.01489646,-0.999889,0.000198293],[-0.03201561,0.9994872,0.0005258295],[-0.03148216,0.9995043,0.0005625835],[-0.03053358,0.9995335,0.000648194],[-0.02980182,0.9995556,0.0007653105],[-0.02934523,0.9995689,0.0009360958],[-0.02934701,0.9995686,0.001211752],[-0.03054275,0.999532,0.001754283],[-0.0436473,0.9990383,0.00417496],[-0.04222779,0.9990487,0.01089563],[-0.9412521,-0.05366032,0.3334144],[0.01522084,-0.9998594,0.007034805],[0.01913793,-0.9998138,0.002474523],[0.01892287,-0.9998199,0.001471407],[0.01891579,-0.9998206,0.001077942],[0.01879941,-0.9998229,0.0008560438],[0.01861291,-0.9998266,0.0007115997],[0.01838743,-0.9998308,0.0006095336],[0.01814139,-0.9998353,0.0005333852],[0.01788548,-0.99984,0.0004743118],[0.01762622,-0.9998447,0.0004271094],[0.01736763,-0.9998491,0.0003885059],[0.01711212,-0.9998536,0.0003563364],[0.01686118,-0.9998578,0.0003291094],[0.01661582,-0.999862,0.0003057629],[0.01637653,-0.9998659,0.0002855197],[0.01614355,-0.9998697,0.000267798],[0.01591707,-0.9998733,0.0002521533],[0.015697,-0.9998768,0.0002382398],[0.01548331,-0.9998802,0.0002257845],[0.01537876,-0.9998817,0.0002198911],[-0.03226487,0.9994793,0.0004900799],[-0.03169146,0.9994976,0.0005199331],[-0.03064208,0.9995303,0.0005879992],[-0.02976372,0.9995568,0.000676927],[-0.0290684,0.9995771,0.0007983342],[-0.02860675,0.9995903,0.0009748394],[-0.02853582,0.999592,0.001258262],[-0.0294802,0.9995638,0.001809623],[-0.0396577,0.9992051,0.004053008],[-0.03755139,0.9992408,0.0103748],[-0.9097114,-0.04695949,0.4125772],[0.01636896,-0.9998394,0.007303543],[0.02019704,-0.9997925,0.002683054],[0.0195169,-0.9998083,0.001568982],[0.01937115,-0.9998117,0.001144216],[0.01918544,-0.9998156,0.0009065851],[0.01895849,-0.99982,0.0007525359],[0.0187076,-0.9998248,0.0006439632],[0.01844475,-0.9998298,0.0005631058],[0.01817747,-0.9998347,0.0005004626],[0.01791037,-0.9998396,0.0004504592],[0.01764625,-0.9998443,0.000409598],[0.0173868,-0.9998488,0.0003755698],[0.01713312,-0.9998532,0.0003467857],[0.0168858,-0.9998574,0.0003221159],[0.01664511,-0.9998614,0.0003007344],[0.0164112,-0.9998653,0.0002820227],[0.01618395,-0.9998691,0.0002655087],[0.01596341,-0.9998726,0.0002508262],[0.01585563,-0.9998743,0.0002439025],[-0.03256885,0.9994694,0.0004616408],[-0.0319677,0.9994888,0.0004865693],[-0.0308514,0.9995239,0.0005425034],[-0.02988371,0.9995532,0.0006131506],[-0.02905907,0.9995775,0.0007053154],[-0.02838823,0.9995967,0.0008308897],[-0.02791398,0.9996098,0.001012909],[-0.02776834,0.9996136,0.001303719],[-0.02847561,0.9995928,0.001863166],[-0.03640631,0.9993293,0.003969145],[-0.03375597,0.9993799,0.01001781],[-0.8537433,-0.04087403,0.5190873],[0.01762461,-0.9998154,0.00765938],[0.02133911,-0.9997681,0.002907709],[0.02012778,-0.9997961,0.001669634],[0.01983256,-0.9998026,0.001211911],[0.01957266,-0.9998081,0.0009579602],[0.01930244,-0.9998134,0.0007940245],[0.01902408,-0.9998188,0.000678788],[0.01874297,-0.9998242,0.000593123],[0.01846317,-0.9998294,0.0005268441],[0.01818727,-0.9998345,0.0004739937],[0.01791685,-0.9998395,0.0004308419],[0.01765292,-0.9998441,0.0003949301],[0.01739602,-0.9998487,0.00036457],[0.01714632,-0.999853,0.000338562],[0.01690388,-0.9998571,0.0003160295],[0.01666861,-0.9998611,0.0002963176],[0.01644051,-0.9998649,0.0002789266],[0.01632921,-0.9998667,0.0002707569],[-0.03290742,0.9994584,0.0004384701],[-0.0322859,0.9994786,0.0004597385],[-0.03112225,0.9995155,0.0005068686],[-0.03009544,0.9995469,0.0005648672],[-0.02919236,0.9995736,0.0006380418],[-0.02840869,0.9995961,0.0007333665],[-0.02775315,0.9996145,0.0008629872],[-0.0272605,0.9996278,0.00105032],[-0.02703914,0.9996336,0.001348154],[-0.02752276,0.9996194,0.001914994],[-0.03367636,0.9994252,0.003910942],[-0.0305871,0.9994842,0.009779655],[-0.7498045,-0.03405491,0.6607825],[0.01900242,-0.9997867,0.008100312],[0.02257804,-0.9997401,0.003151136],[0.0207565,-0.999783,0.001773517],[0.02030051,-0.9997932,0.001281064],[0.01996182,-0.9998003,0.00101019],[0.01964537,-0.9998067,0.0008360768],[0.01933759,-0.9998127,0.0007140119],[0.01903686,-0.9998186,0.0006234398],[0.01874342,-0.9998242,0.0005534594],[0.01845782,-0.9998296,0.0004977152],[0.01818047,-0.9998347,0.0004522389],[0.0179115,-0.9998395,0.0004144185],[0.0176508,-0.9998443,0.0003824625],[0.01739828,-0.9998487,0.0003551002],[0.01715373,-0.9998529,0.0003314047],[0.01691698,-0.9998569,0.0003106827],[0.01680168,-0.9998588,0.0003009905],[-0.03326781,0.9994464,0.0004192234],[-0.03263068,0.9994674,0.0004376838],[-0.0314318,0.9995058,0.0004781836],[-0.03036335,0.9995388,0.0005270031],[-0.02940855,0.9995673,0.0005870289],[-0.02855675,0.9995919,0.0006626781],[-0.0278041,0.9996132,0.0007610864],[-0.02715672,0.9996309,0.0008946383],[-0.0266413,0.9996445,0.001087095],[-0.02634401,0.999652,0.001391609],[-0.02661692,0.9996439,0.001965215],[-0.03133264,0.9995015,0.003870917],[-0.02788297,0.9995648,0.009634354],[-0.5555333,-0.02451123,0.8311328],[0.02052295,-0.9997521,0.008630321],[0.02393088,-0.9997078,0.003416613],[0.02140461,-0.9997692,0.001880842],[0.02077595,-0.9997832,0.001351741],[0.02035329,-0.9997923,0.001063294],[0.01998797,-0.9997999,0.0008787059],[0.01964902,-0.9998067,0.0007496474],[0.01932716,-0.999813,0.000654063],[0.019019,-0.9998189,0.0005803119],[0.01872296,-0.9998246,0.0005216268],[0.01843798,-0.9998299,0.0004737911],[0.01816329,-0.999835,0.0004340359],[0.01789835,-0.9998398,0.0004004643],[0.01764262,-0.9998444,0.0003717326],[0.01739571,-0.9998487,0.0003468612],[0.0172758,-0.9998507,0.0003352865],[-0.03364165,0.9994339,0.0004029793],[-0.03299213,0.9994556,0.0004192286],[-0.03176595,0.9994953,0.0004545863],[-0.03066658,0.9995296,0.000496494],[-0.02967543,0.9995595,0.0005469748],[-0.02877897,0.9995857,0.0006089903],[-0.02796809,0.9996086,0.0006870631],[-0.02723861,0.9996287,0.0007884811],[-0.02659358,0.9996459,0.0009258504],[-0.02605208,0.99966,0.001123247],[-0.02567942,0.9996692,0.001434115],[-0.02575388,0.9996663,0.002013912],[-0.02928331,0.9995638,0.003843967],[-0.02553373,0.9996281,0.009566114],[-0.2334967,-0.01043484,0.9723016],[0.02221267,-0.9997104,0.00925927],[0.02542051,-0.99967,0.003708425],[0.02207305,-0.9997544,0.001991774],[0.02125935,-0.9997731,0.001423994],[0.02074794,-0.9997841,0.001117307],[0.02033081,-0.9997929,0.0009219242],[0.01995872,-0.9998005,0.0007856977],[0.01961452,-0.9998074,0.0006849971],[0.01929069,-0.9998138,0.0006074056],[0.01898334,-0.9998196,0.0005457301],[0.01869,-0.9998252,0.0004955003],[0.01840913,-0.9998305,0.0004537845],[0.01813949,-0.9998354,0.0004185773],[0.01788026,-0.9998401,0.0003884604],[0.01775484,-0.9998423,0.0003745258],[-0.03402327,0.999421,0.0003890833],[-0.03336357,0.9994433,0.0004035543],[-0.03211542,0.9994841,0.0004348261],[-0.03099207,0.9995195,0.000471374],[-0.02997409,0.9995506,0.0005146683],[-0.02904648,0.999578,0.000566784],[-0.0281977,0.9996022,0.0006307534],[-0.02741941,0.9996239,0.0007111995],[-0.0267066,0.999643,0.0008155535],[-0.02605954,0.99966,0.0009566316],[-0.02548951,0.9996745,0.001158792],[-0.02504232,0.9996853,0.001475701],[-0.02492923,0.9996872,0.002061136],[-0.02746486,0.9996155,0.003826541],[-0.02346465,0.9996789,0.009566952],[0.1529871,0.006033534,0.9882098],[0.02410645,-0.9996594,0.01000389],[0.02707644,-0.9996252,0.004032254],[0.02276359,-0.9997387,0.002106536],[0.02175111,-0.9997624,0.001497865],[0.02114585,-0.9997758,0.001172235],[0.02067434,-0.9997858,0.0009657423],[0.02026733,-0.9997943,0.0008221725],[0.01989946,-0.9998017,0.0007162456],[0.01955898,-0.9998085,0.0006347421],[0.01923951,-0.9998147,0.0005700275],[0.01893722,-0.9998206,0.0005173676],[0.01864959,-0.999826,0.0004736641],[0.01837487,-0.9998311,0.0004368006],[0.01824265,-0.9998335,0.0004198614],[-0.03440881,0.9994078,0.00037706],[-0.0337405,0.9994306,0.000390074],[-0.03247415,0.9994725,0.0004180343],[-0.03133164,0.999509,0.0004503265],[-0.03029298,0.9995409,0.0004880498],[-0.02934241,0.9995693,0.000532711],[-0.02846731,0.9995946,0.0005864348],[-0.02765758,0.9996173,0.0006523226],[-0.02690512,0.9996378,0.0007350933],[-0.02620396,0.9996563,0.0008423146],[-0.02555117,0.9996731,0.0009869935],[-0.02495066,0.999688,0.001193744],[-0.02443018,0.9997004,0.001516399],[-0.02414046,0.9997064,0.002106993],[-0.02583348,0.999659,0.003816444],[-0.02162038,0.9997199,0.009635058],[0.4616211,0.01963062,0.88686],[0.02625278,-0.9995961,0.01088869],[0.02893877,-0.9995715,0.004395674],[0.02347731,-0.9997219,0.002225363],[0.02225212,-0.9997512,0.001573432],[0.02154787,-0.9997671,0.001228119],[0.02101896,-0.9997786,0.001010176],[0.02057527,-0.999788,0.0008590778],[0.02018257,-0.9997961,0.0007478148],[0.0198244,-0.9998032,0.0006623272],[0.01949207,-0.9998099,0.0005945226],[0.01918017,-0.9998159,0.0005393957],[0.01888535,-0.9998215,0.0004936772],[0.01874448,-0.9998242,0.0004728414],[-0.03479549,0.9993944,0.0003665541],[-0.03411977,0.9994177,0.0003783563],[-0.03283802,0.9994607,0.0004035867],[-0.03167969,0.9994981,0.0004324317],[-0.03062447,0.9995309,0.0004657324],[-0.02965619,0.9995601,0.0005046147],[-0.02876184,0.9995862,0.0005506224],[-0.02793051,0.9996098,0.0006059289],[-0.02715282,0.9996311,0.0006737006],[-0.02642072,0.9996507,0.0007587484],[-0.02572696,0.9996687,0.0008687677],[-0.02506549,0.9996853,0.001016946],[-0.0244334,0.9997007,0.001228126],[-0.02384106,0.9997146,0.00155625],[-0.02338434,0.9997243,0.002151532],[-0.02435505,0.9996961,0.003811901],[-0.01996024,0.9997531,0.009773142],[0.6519807,0.02907502,0.757678],[0.02871723,-0.9995162,0.0119492],[0.03106259,-0.9995059,0.004809166],[0.02421637,-0.999704,0.002348518],[0.02276293,-0.9997395,0.001650754],[0.02195407,-0.9997582,0.00128498],[0.0213651,-0.9997712,0.001055238],[0.02088312,-0.9997815,0.0008964242],[0.02046415,-0.9997904,0.0007797099],[0.02008739,-0.9997981,0.0006901625],[0.01974145,-0.999805,0.0006192168],[0.01941946,-0.9998114,0.0005615866],[0.01926717,-0.9998143,0.0005355844],[-0.03518142,0.9993809,0.0003572953],[-0.03449922,0.9994047,0.0003680763],[-0.0332041,0.9994486,0.0003910231],[-0.03203231,0.9994868,0.000417027],[-0.03096338,0.9995204,0.0004467461],[-0.02998105,0.9995504,0.0004810429],[-0.02907198,0.9995772,0.0005210699],[-0.02822489,0.9996015,0.0005684049],[-0.02743004,0.9996236,0.0006252676],[-0.02667868,0.9996439,0.0006948888],[-0.02596234,0.9996627,0.0007821658],[-0.02527259,0.9996802,0.0008949174],[-0.02460025,0.9996969,0.001046497],[-0.02393543,0.9997127,0.001261945],[-0.02327285,0.9997279,0.001595268],[-0.02265866,0.9997409,0.002194821],[-0.02300363,0.9997282,0.003811554],[-0.0184532,0.9997798,0.009989769],[0.7617332,0.03611936,0.6468832],[0.03159419,-0.9994132,0.01323892],[0.03352831,-0.9994237,0.005287892],[0.02498192,-0.9996849,0.002476229],[0.02328366,-0.9997275,0.00172988],[0.02236503,-0.9997491,0.00134284],[0.02171326,-0.9997637,0.001100941],[0.02119092,-0.9997751,0.000934216],[0.02074459,-0.9997845,0.0008119341],[0.02034833,-0.9997927,0.0007182522],[0.0199881,-0.9998001,0.0006441122],[0.01982014,-0.9998034,0.0006110773],[-0.03556517,0.9993674,0.000349073],[-0.03487722,0.9993916,0.0003589834],[-0.03357032,0.9994363,0.0003799968],[-0.03238688,0.9994754,0.0004036264],[-0.03130643,0.9995098,0.0004303965],[-0.03031247,0.9995403,0.0004609808],[-0.02939156,0.9995679,0.0004962606],[-0.02853245,0.9995928,0.0005374158],[-0.02772526,0.9996155,0.0005860581],[-0.02696107,0.9996363,0.0006444526],[-0.02623128,0.9996557,0.0007158906],[-0.02552702,0.9996739,0.0008053518],[-0.0248384,0.9996911,0.000920769],[-0.02415312,0.9997078,0.001075651],[-0.02345517,0.9997241,0.001295219],[-0.02272409,0.9997405,0.001633487],[-0.02196073,0.9997563,0.002236904],[-0.02176128,0.9997559,0.00381461],[-0.0170745,0.9998012,0.01030173],[0.8268293,0.04248445,0.5608461],[0.03502256,-0.9992763,0.01483798],[0.03645426,-0.9993182,0.005854231],[0.02577614,-0.9996644,0.002608855],[0.02381543,-0.9997149,0.001810897],[0.02278109,-0.9997395,0.001401729],[0.02206341,-0.999756,0.001147297],[0.02149922,-0.9997684,0.000972463],[0.02102419,-0.9997787,0.000844493],[0.02060762,-0.9997874,0.0007465989],[0.02041723,-0.9997913,0.0007036753],[-0.03594576,0.9993538,0.0003417218],[-0.03525259,0.9993784,0.0003508824],[-0.03393516,0.999424,0.0003702407],[-0.03274151,0.9994639,0.0003918612],[-0.03165104,0.999499,0.0004161674],[-0.03064716,0.9995303,0.0004436951],[-0.02971659,0.9995583,0.0004751339],[-0.02884799,0.9995838,0.0005113861],[-0.0280314,0.9996069,0.000553655],[-0.02725811,0.9996283,0.0006035856],[-0.02651964,0.9996481,0.0006634868],[-0.02580741,0.9996668,0.0007367076],[-0.02511211,0.9996843,0.000828308],[-0.02442224,0.9997013,0.0009463287],[-0.02372265,0.999718,0.001104419],[-0.02299102,0.9997349,0.001327957],[-0.02219316,0.9997523,0.001670929],[-0.02128926,0.9997708,0.002277848],[-0.02061121,0.9997804,0.003820247],[-0.01580547,0.9998174,0.01073598],[0.867516,0.04937171,0.494953],[0.03921986,-0.9990881,0.01687439],[0.04002715,-0.9991772,0.00654348],[0.02660113,-0.9996424,0.002746687],[0.02435852,-0.9997015,0.001893872],[0.02320259,-0.9997298,0.00146168],[0.02241618,-0.9997481,0.001194327],[0.02180821,-0.9997618,0.001011176],[0.02130347,-0.9997727,0.0008773954],[0.02107928,-0.9997776,0.0008199819],[-0.03632259,0.9993401,0.0003351115],[-0.03562465,0.9993653,0.0003436203],[-0.03429767,0.9994116,0.0003615473],[-0.03309482,0.9994522,0.0003814484],[-0.03199545,0.9994879,0.00040367],[-0.03098306,0.9995198,0.0004286458],[-0.03004432,0.9995486,0.0004569241],[-0.02916783,0.9995745,0.0004892084],[-0.02834382,0.9995981,0.0005264202],[-0.02756375,0.99962,0.0005697883],[-0.02681928,0.9996402,0.0006209884],[-0.02610242,0.9996591,0.0006823721],[-0.02540455,0.999677,0.0007573453],[-0.02471543,0.9996942,0.0008510415],[-0.02402234,0.999711,0.0009716022],[-0.02330717,0.9997278,0.00113281],[-0.02254183,0.9997451,0.00136018],[-0.0216792,0.9997636,0.001707625],[-0.02064209,0.9997844,0.002317701],[-0.01954114,0.9998018,0.003827825],[-0.01462961,0.9998287,0.01133946],[0.8942024,0.05782785,0.4439123],[0.04454361,-0.9988158,0.01956482],[0.04456018,-0.9989792,0.007414429],[0.02745909,-0.9996188,0.002890114],[0.02491376,-0.9996877,0.001978884],[0.02362981,-0.9997196,0.001522721],[0.0227717,-0.9997399,0.001242041],[0.02211828,-0.9997548,0.001050362],[0.02183994,-0.9997611,0.0009705469],[-0.03669498,0.9993265,0.0003291333],[-0.03599263,0.9993521,0.0003370714],[-0.03465695,0.9993992,0.0003537508],[-0.03344575,0.9994405,0.0003721665],[-0.03233844,0.9994769,0.0003926058],[-0.03131855,0.9995095,0.0004154238],[-0.03037259,0.9995385,0.0004410624],[-0.02948938,0.9995651,0.0004700816],[-0.02865935,0.9995891,0.0005032019],[-0.02787389,0.9996113,0.0005413625],[-0.02712504,0.9996319,0.0005858144],[-0.02640528,0.9996512,0.0006382659],[-0.0257066,0.9996693,0.0007011082],[-0.02502003,0.9996867,0.0007777998],[-0.02433501,0.9997036,0.0008735486],[-0.02363715,0.9997201,0.0009965918],[-0.02290547,0.999737,0.001160831],[-0.02210639,0.9997547,0.001391894],[-0.02118074,0.9997742,0.001743592],[-0.02001763,0.9997969,0.002356511],[-0.01854133,0.9998208,0.003837064],[-0.01353491,0.999834,0.01219509],[0.9122919,0.06917898,0.4036554],[0.05163332,-0.9983943,0.02329677],[0.05059454,-0.9986826,0.008569409],[0.02835298,-0.9995934,0.003039563],[0.0254814,-0.9996732,0.002066014],[0.0240631,-0.9997092,0.001584882],[0.0231303,-0.9997317,0.001290456],[0.02275754,-0.9997404,0.001173368],[-0.03706272,0.9993129,0.0003237016],[-0.03635629,0.9993389,0.0003311361],[-0.03501256,0.9993868,0.0003467198],[-0.03379373,0.9994289,0.0003638413],[-0.03267919,0.9994658,0.0003827415],[-0.03165248,0.9994989,0.0004037146],[-0.03070017,0.9995285,0.0004271226],[-0.0298112,0.9995555,0.0004534181],[-0.02897599,0.9995801,0.0004831724],[-0.02818607,0.9996026,0.0005171188],[-0.02743381,0.9996235,0.0005562155],[-0.02671202,0.9996431,0.0006017371],[-0.02601333,0.9996614,0.0006554216],[-0.02532976,0.9996789,0.000719699],[-0.02465231,0.9996958,0.0007980796],[-0.02396945,0.9997123,0.0008958386],[-0.02326532,0.9997289,0.001021304],[-0.02251633,0.9997458,0.001188485],[-0.02168366,0.999764,0.001423108],[-0.02069691,0.9997842,0.001778847],[-0.01941454,0.9998087,0.002394316],[-0.01760421,0.9998376,0.003847596],[-0.01250537,0.9998313,0.01345477],[0.9245047,0.08561853,0.3714305],[0.06174573,-0.9976745,0.02886263],[0.05920929,-0.9981933,0.01021119],[0.02928451,-0.9995661,0.003195417],[0.02606239,-0.999658,0.002155349],[0.02450292,-0.9996984,0.001648199],[0.02394381,-0.9997123,0.001462037],[-0.03742556,0.9992994,0.0003187448],[-0.03671532,0.9993258,0.0003257321],[-0.03536407,0.9993745,0.0003403459],[-0.03413817,0.9994171,0.0003563312],[-0.03301699,0.9994547,0.0003738913],[-0.03198405,0.9994883,0.000393272],[-0.03102604,0.9995186,0.0004147741],[-0.03013193,0.9995459,0.0004387678],[-0.02929213,0.9995708,0.0004657134],[-0.02849839,0.9995938,0.0004961937],[-0.02774333,0.999615,0.0005309572],[-0.02702005,0.9996347,0.0005709793],[-0.02632164,0.9996534,0.0006175569],[-0.02564088,0.999671,0.0006724564],[-0.02497004,0.9996879,0.0007381456],[-0.02429958,0.9997045,0.000818184],[-0.02361719,0.9997208,0.0009179122],[-0.02290571,0.9997371,0.001045742],[-0.02213887,0.9997543,0.001215785],[-0.02127298,0.9997727,0.001453845],[-0.02022697,0.9997938,0.001813433],[-0.01883169,0.9998198,0.002431169],[-0.01672171,0.9998527,0.003859075],[-0.01152757,0.9998143,0.01544288],[0.931769,0.1118716,0.3453855],[0.07779194,-0.9962391,0.03816026],[0.07275128,-0.9972683,0.0127822],[0.03025771,-0.9995365,0.003358229],[0.0266571,-0.9996421,0.002246964],[0.02564594,-0.9996693,0.001907963],[-0.03778341,0.9992859,0.0003142034],[-0.03706958,0.9993126,0.0003207911],[-0.03571126,0.9993621,0.0003345417],[-0.03447875,0.9994054,0.000349522],[-0.0333514,0.9994437,0.000365906],[-0.03231276,0.9994777,0.0003839015],[-0.03134956,0.9995084,0.0004037594],[-0.03045074,0.9995362,0.0004257865],[-0.02960676,0.9995616,0.0004503593],[-0.02880966,0.9995848,0.0004779479],[-0.02805218,0.9996064,0.0005091471],[-0.02732761,0.9996264,0.0005447186],[-0.0266295,0.9996453,0.0005856542],[-0.02595126,0.999663,0.0006332736],[-0.02528603,0.99968,0.0006893715],[-0.0246257,0.9996964,0.0007564506],[-0.02396041,0.9997126,0.0008381172],[-0.02327721,0.9997287,0.000939775],[-0.02255738,0.9997451,0.001069914],[-0.02177225,0.9997622,0.001242734],[-0.02087332,0.9997811,0.001484105],[-0.01976982,0.9998029,0.001847339],[-0.0182675,0.9998302,0.002467072],[-0.01588875,0.9998664,0.00387129],[-0.0105795,0.9997641,0.01897027],[0.9321175,0.1610492,0.3243763],[0.1082792,-0.9924775,0.05713006],[0.09690128,-0.9951428,0.01735342],[0.03127587,-0.9995046,0.00352859],[0.02855658,-0.9995886,0.002698796],[-0.03813616,0.9992726,0.0003100269],[-0.0374189,0.9992996,0.0003162558],[-0.03605392,0.9993498,0.0003292337],[-0.03481523,0.9993938,0.0003433203],[-0.03368214,0.9994326,0.0003586651],[-0.03263818,0.9994672,0.0003754453],[-0.03167016,0.9994984,0.000393873],[-0.03076698,0.9995265,0.000414204],[-0.02991926,0.9995523,0.000436751],[-0.02911913,0.9995759,0.0004618983],[-0.02835944,0.9995977,0.0004901249],[-0.02763371,0.9996181,0.0005220354],[-0.0269358,0.9996371,0.0005584053],[-0.02625963,0.999655,0.0006002433],[-0.02559902,0.9996722,0.0006488909],[-0.02494692,0.9996886,0.0007061688],[-0.02429518,0.9997045,0.0007746148],[-0.02363367,0.9997204,0.0008578818],[-0.02294838,0.9997362,0.0009614304],[-0.02221943,0.9997526,0.001093823],[-0.02141573,0.9997699,0.001269345],[-0.0204842,0.9997891,0.001513914],[-0.01932505,0.9998115,0.00188062],[-0.01772142,0.9998399,0.002502122],[-0.01510072,0.9998785,0.003884195],[-0.009594099,0.9995959,0.02675993],[0.9060876,0.2939891,0.3042624],[0.1898787,-0.9745942,0.1187944],[0.1423715,-0.9894729,0.02595431],[0.03584309,-0.9993469,0.004599025],[-0.0384836,0.9992592,0.0003061721],[-0.03776314,0.9992867,0.0003120773],[-0.03639191,0.9993376,0.0003243601],[-0.0351474,0.9993821,0.0003376474],[-0.03400888,0.9994215,0.0003520681],[-0.03295994,0.9994566,0.0003677748],[-0.03198735,0.9994882,0.0003849479],[-0.03108011,0.9995168,0.0004038038],[-0.03022893,0.999543,0.000424604],[-0.02942596,0.9995669,0.0004476667],[-0.02866421,0.999589,0.0004733831],[-0.02793738,0.9996096,0.000502241],[-0.02723954,0.9996288,0.0005348554],[-0.02656507,0.999647,0.0005720147],[-0.02590823,0.9996642,0.0006147444],[-0.0252628,0.9996806,0.0006644058],[-0.02462189,0.9996966,0.0007228461],[-0.02397726,0.9997123,0.0007926373],[-0.02331806,0.9997277,0.0008774753],[-0.02262974,0.9997435,0.0009828762],[-0.02189107,0.9997597,0.00111747],[-0.02106842,0.9997773,0.001295617],[-0.02010474,0.9997967,0.001543266],[-0.01889194,0.9998197,0.00191327],[-0.01719222,0.9998491,0.002536308],[-0.01435251,0.9998895,0.00389748],[-0.008104507,0.9983678,0.05653498],[0.6922361,0.6862107,0.2234368],[0.5360303,-0.7680002,0.3504954],[0.3571396,-0.9315735,0.06798647],[-0.03882595,0.999246,0.0003026041],[-0.03810245,0.9992738,0.0003082161],[-0.03672527,0.9993254,0.0003198707],[-0.03547519,0.9993706,0.0003324387],[-0.03433153,0.9994105,0.0003460331],[-0.03327791,0.9994462,0.0003607859],[-0.03230103,0.9994781,0.0003768518],[-0.03138997,0.9995072,0.000394415],[-0.03053555,0.9995337,0.0004136965],[-0.0297299,0.999558,0.0004349623],[-0.02896615,0.9995803,0.0004585359],[-0.02823817,0.9996012,0.0004848157],[-0.02754029,0.9996207,0.0005142982],[-0.02686714,0.9996389,0.0005476096],[-0.02621335,0.9996563,0.0005855496],[-0.02557339,0.9996728,0.0006291603],[-0.02494122,0.9996887,0.0006798229],[-0.02430989,0.9997043,0.0007394093],[-0.02367079,0.9997196,0.0008105238],[-0.02301278,0.9997348,0.000896904],[-0.02232059,0.9997504,0.001004117],[-0.02157151,0.9997666,0.00114086],[-0.02072992,0.9997842,0.00132156],[-0.01973474,0.999804,0.001572184],[-0.0184698,0.9998276,0.001945314],[-0.01667906,0.9998576,0.002569688],[-0.01364109,0.9998993,0.003911166],[-0.0001934492,0.9975343,0.0701809],[0.4106432,0.9029209,0.1269087],[0.4994969,0.8254371,0.2629761],[-0.03900231,0.9992391,0.0003008877],[-0.03827111,0.9992674,0.0003063601],[-0.03689104,0.9993193,0.0003177159],[-0.03563827,0.9993647,0.0003299431],[-0.03449216,0.9994049,0.0003431468],[-0.03343629,0.9994408,0.0003574499],[-0.03245738,0.9994732,0.0003729959],[-0.03154455,0.9995024,0.0003899543],[-0.03068864,0.9995289,0.0004085283],[-0.02988179,0.9995534,0.0004289605],[-0.02911717,0.999576,0.0004515444],[-0.02838872,0.9995968,0.0004766404],[-0.02769095,0.9996165,0.0005046932],[-0.02701852,0.9996349,0.0005362596],[-0.02636632,0.9996523,0.0005720456],[-0.02572913,0.9996688,0.0006129607],[-0.02510128,0.9996848,0.000660196],[-0.0244764,0.9997002,0.0007153437],[-0.02384686,0.9997153,0.0007805835],[-0.02320306,0.9997304,0.0008589816],[-0.02253209,0.9997457,0.0009549908],[-0.02181568,0.9997615,0.001075349],[-0.02102619,0.9997783,0.001230776],[-0.02011905,0.9997966,0.001439462],[-0.01901583,0.9998177,0.001735119],[-0.01756278,0.9998435,0.002188683],[-0.01540616,0.999877,0.002983314],[-0.01147838,0.9999225,0.004834914],[0.009082422,0.9989594,0.04469502],[0.2012609,0.9763867,0.07850391]],"colors":[[0.7450981,0.7450981,0.7450981,1]],"dim":[[30,30]],"centers":[[3.032671,0.06093646,-442.2575],[3.2794,0.06093646,-442.2086],[3.526128,0.06093646,-444.334],[3.772856,0.06093646,-448.4588],[4.019584,0.06093646,-454.4337],[4.266313,0.06093646,-462.1304],[4.513041,0.06093646,-471.4369],[4.759768,0.06093646,-482.2549],[5.006496,0.06093646,-494.4975],[5.253225,0.06093646,-508.0871],[5.499953,0.06093646,-522.9542],[5.746681,0.06093646,-539.036],[5.993409,0.06093646,-556.2757],[6.240137,0.06093646,-574.6213],[6.486866,0.06093646,-594.0257],[6.733594,0.06093646,-614.4452],[6.980322,0.06093646,-635.8398],[7.22705,0.06093646,-658.1725],[7.473778,0.06093646,-681.4091],[7.720506,0.06093646,-705.5175],[7.967235,0.06093646,-730.468],[8.213963,0.06093646,-756.2328],[8.46069,0.06093646,-782.7861],[8.707418,0.06093646,-810.1034],[8.954147,0.06093646,-838.1618],[9.200874,0.06093646,-866.9396],[9.447603,0.06093646,-896.4165],[9.694331,0.06093646,-926.5734],[9.941059,0.06093646,-957.3918],[3.032671,0.06633458,-442.1217],[3.2794,0.06633458,-439.9748],[3.526128,0.06633458,-440.0022],[3.772856,0.06633458,-442.0289],[4.019584,0.06633458,-445.9059],[4.266313,0.06633458,-451.5045],[4.513041,0.06633458,-458.713],[4.759768,0.06633458,-467.433],[5.006496,0.06633458,-477.5776],[5.253225,0.06633458,-489.0692],[5.499953,0.06633458,-501.8383],[5.746681,0.06633458,-515.8221],[5.993409,0.06633458,-530.9637],[6.240137,0.06633458,-547.2115],[6.486866,0.06633458,-564.5178],[6.733594,0.06633458,-582.8393],[6.980322,0.06633458,-602.1359],[7.22705,0.06633458,-622.3707],[7.473778,0.06633458,-643.5092],[7.720506,0.06633458,-665.5195],[7.967235,0.06633458,-688.372],[8.213963,0.06633458,-712.0389],[8.46069,0.06633458,-736.4942],[8.707418,0.06633458,-761.7134],[8.954147,0.06633458,-787.6738],[9.200874,0.06633458,-814.3536],[9.447603,0.06633458,-841.7325],[9.694331,0.06633458,-869.7913],[9.941059,0.06633458,-898.5117],[3.032671,0.07173269,-444.011],[3.2794,0.07173269,-439.9308],[3.526128,0.07173269,-438.0249],[3.772856,0.07173269,-438.1184],[4.019584,0.07173269,-440.0621],[4.266313,0.07173269,-443.7275],[4.513041,0.07173269,-449.0027],[4.759768,0.07173269,-455.7896],[5.006496,0.07173269,-464.0009],[5.253225,0.07173269,-473.5593],[5.499953,0.07173269,-484.3951],[5.746681,0.07173269,-496.4456],[5.993409,0.07173269,-509.654],[6.240137,0.07173269,-523.9684],[6.486866,0.07173269,-539.3416],[6.733594,0.07173269,-555.7298],[6.980322,0.07173269,-573.0932],[7.22705,0.07173269,-591.3947],[7.473778,0.07173269,-610.5999],[7.720506,0.07173269,-630.677],[7.967235,0.07173269,-651.5963],[8.213963,0.07173269,-673.33],[8.46069,0.07173269,-695.8519],[8.707418,0.07173269,-719.138],[8.954147,0.07173269,-743.1651],[9.200874,0.07173269,-767.9116],[9.447603,0.07173269,-793.3574],[9.694331,0.07173269,-819.4828],[9.941059,0.07173269,-846.2701],[3.032671,0.07713081,-447.6299],[3.2794,0.07713081,-441.7572],[3.526128,0.07713081,-438.0588],[3.772856,0.07713081,-436.3598],[4.019584,0.07713081,-436.511],[4.266313,0.07713081,-438.3839],[4.513041,0.07713081,-441.8665],[4.759768,0.07713081,-446.8608],[5.006496,0.07713081,-453.2796],[5.253225,0.07713081,-461.0454],[5.499953,0.07713081,-470.0887],[5.746681,0.07713081,-480.3468],[5.993409,0.07713081,-491.7626],[6.240137,0.07713081,-504.2845],[6.486866,0.07713081,-517.8651],[6.733594,0.07713081,-532.4608],[6.980322,0.07713081,-548.0316],[7.22705,0.07713081,-564.5406],[7.473778,0.07713081,-581.9534],[7.720506,0.07713081,-600.2379],[7.967235,0.07713081,-619.3646],[8.213963,0.07713081,-639.3058],[8.46069,0.07713081,-660.0353],[8.707418,0.07713081,-681.5288],[8.954147,0.07713081,-703.7633],[9.200874,0.07713081,-726.7174],[9.447603,0.07713081,-750.3705],[9.694331,0.07713081,-774.7036],[9.941059,0.07713081,-799.6982],[3.032671,0.08252893,-452.7434],[3.2794,0.08252893,-445.1998],[3.526128,0.08252893,-439.8305],[3.772856,0.08252893,-436.4605],[4.019584,0.08252893,-434.9408],[4.266313,0.08252893,-435.1427],[4.513041,0.08252893,-436.9545],[4.759768,0.08252893,-440.2778],[5.006496,0.08252893,-445.0257],[5.253225,0.08252893,-451.1206],[5.499953,0.08252893,-458.493],[5.746681,0.08252893,-467.08],[5.993409,0.08252893,-476.825],[6.240137,0.08252893,-487.676],[6.486866,0.08252893,-499.5856],[6.733594,0.08252893,-512.5104],[6.980322,0.08252893,-526.4103],[7.22705,0.08252893,-541.2483],[7.473778,0.08252893,-556.9901],[7.720506,0.08252893,-573.6038],[7.967235,0.08252893,-591.0596],[8.213963,0.08252893,-609.3297],[8.46069,0.08252893,-628.3883],[8.707418,0.08252893,-648.2109],[8.954147,0.08252893,-668.7745],[9.200874,0.08252893,-690.0576],[9.447603,0.08252893,-712.0399],[9.694331,0.08252893,-734.702],[9.941059,0.08252893,-758.0256],[3.032671,0.08792706,-459.1614],[3.2794,0.08792706,-450.0529],[3.526128,0.08792706,-443.1189],[3.772856,0.08792706,-438.1841],[4.019584,0.08792706,-435.0995],[4.266313,0.08792706,-433.7367],[4.513041,0.08792706,-433.9836],[4.759768,0.08792706,-435.7421],[5.006496,0.08792706,-438.9252],[5.253225,0.08792706,-443.4553],[5.499953,0.08792706,-449.2629],[5.746681,0.08792706,-456.2852],[5.993409,0.08792706,-464.4653],[6.240137,0.08792706,-473.7515],[6.486866,0.08792706,-484.0963],[6.733594,0.08792706,-495.4563],[6.980322,0.08792706,-507.7914],[7.22705,0.08792706,-521.0646],[7.473778,0.08792706,-535.2416],[7.720506,0.08792706,-550.2904],[7.967235,0.08792706,-566.1814],[8.213963,0.08792706,-582.8868],[8.46069,0.08792706,-600.3806],[8.707418,0.08792706,-618.6383],[8.954147,0.08792706,-637.6372],[9.200874,0.08792706,-657.3555],[9.447603,0.08792706,-677.7729],[9.694331,0.08792706,-698.8702],[9.941059,0.08792706,-720.629],[3.032671,0.09332517,-466.7279],[3.2794,0.09332517,-456.148],[3.526128,0.09332517,-447.7426],[3.772856,0.09332517,-441.3365],[4.019584,0.09332517,-436.7805],[4.266313,0.09332517,-433.9463],[4.513041,0.09332517,-432.7219],[4.759768,0.09332517,-433.009],[5.006496,0.09332517,-434.7207],[5.253225,0.09332517,-437.7794],[5.499953,0.09332517,-442.1157],[5.746681,0.09332517,-447.6666],[5.993409,0.09332517,-454.3753],[6.240137,0.09332517,-462.1901],[6.486866,0.09332517,-471.0636],[6.733594,0.09332517,-480.9521],[6.980322,0.09332517,-491.8159],[7.22705,0.09332517,-503.6177],[7.473778,0.09332517,-516.3234],[7.720506,0.09332517,-529.9008],[7.967235,0.09332517,-544.3204],[8.213963,0.09332517,-559.5545],[8.46069,0.09332517,-575.5769],[8.707418,0.09332517,-592.3633],[8.954147,0.09332517,-609.8907],[9.200874,0.09332517,-628.1377],[9.447603,0.09332517,-647.0837],[9.694331,0.09332517,-666.7096],[9.941059,0.09332517,-686.9972],[3.032671,0.09872328,-475.3132],[3.2794,0.09872328,-463.345],[3.526128,0.09872328,-453.551],[3.772856,0.09872328,-445.7564],[4.019584,0.09872328,-439.812],[4.266313,0.09872328,-435.5892],[4.513041,0.09872328,-432.9763],[4.759768,0.09872328,-431.875],[5.006496,0.09872328,-432.1983],[5.253225,0.09872328,-433.8685],[5.499953,0.09872328,-436.8163],[5.746681,0.09872328,-440.9787],[5.993409,0.09872328,-446.299],[6.240137,0.09872328,-452.7253],[6.486866,0.09872328,-460.2103],[6.733594,0.09872328,-468.7104],[6.980322,0.09872328,-478.1857],[7.22705,0.09872328,-488.599],[7.473778,0.09872328,-499.9161],[7.720506,0.09872328,-512.1052],[7.967235,0.09872328,-525.1363],[8.213963,0.09872328,-538.9818],[8.46069,0.09872328,-553.6158],[8.707418,0.09872328,-569.0137],[8.954147,0.09872328,-585.1527],[9.200874,0.09872328,-602.0111],[9.447603,0.09872328,-619.5687],[9.694331,0.09872328,-637.8062],[9.941059,0.09872328,-656.7052],[3.032671,0.1041214,-484.8087],[3.2794,0.1041214,-471.526],[3.526128,0.1041214,-460.4177],[3.772856,0.1041214,-451.3086],[4.019584,0.1041214,-444.0497],[4.266313,0.1041214,-438.5126],[4.513041,0.1041214,-434.5853],[4.759768,0.1041214,-432.1695],[5.006496,0.1041214,-431.1783],[5.253225,0.1041214,-431.5341],[5.499953,0.1041214,-433.1674],[5.746681,0.1041214,-436.0154],[5.993409,0.1041214,-440.0213],[6.240137,0.1041214,-445.1332],[6.486866,0.1041214,-451.3037],[6.733594,0.1041214,-458.4894],[6.980322,0.1041214,-466.6502],[7.22705,0.1041214,-475.7492],[7.473778,0.1041214,-485.7519],[7.720506,0.1041214,-496.6264],[7.967235,0.1041214,-508.3431],[8.213963,0.1041214,-520.8743],[8.46069,0.1041214,-534.1937],[8.707418,0.1041214,-548.2773],[8.954147,0.1041214,-563.1018],[9.200874,0.1041214,-578.6459],[9.447603,0.1041214,-594.889],[9.694331,0.1041214,-611.812],[9.941059,0.1041214,-629.3966],[3.032671,0.1095195,-495.1221],[3.2794,0.1095195,-480.5915],[3.526128,0.1095195,-468.2352],[3.772856,0.1095195,-457.8783],[4.019584,0.1095195,-449.3715],[4.266313,0.1095195,-442.5865],[4.513041,0.1095195,-437.4113],[4.759768,0.1095195,-433.7476],[5.006496,0.1095195,-431.5085],[5.253225,0.1095195,-430.6165],[5.499953,0.1095195,-431.0019],[5.746681,0.1095195,-432.602],[5.993409,0.1095195,-435.36],[6.240137,0.1095195,-439.2239],[6.486866,0.1095195,-444.1466],[6.733594,0.1095195,-450.0844],[6.980322,0.1095195,-456.9974],[7.22705,0.1095195,-464.8484],[7.473778,0.1095195,-473.6032],[7.720506,0.1095195,-483.2299],[7.967235,0.1095195,-493.6987],[8.213963,0.1095195,-504.9819],[8.46069,0.1095195,-517.0535],[8.707418,0.1095195,-529.8892],[8.954147,0.1095195,-543.4658],[9.200874,0.1095195,-557.762],[9.447603,0.1095195,-572.7572],[9.694331,0.1095195,-588.4323],[9.941059,0.1095195,-604.769],[3.032671,0.1149176,-506.1745],[3.2794,0.1149176,-490.4561],[3.526128,0.1149176,-476.9121],[3.772856,0.1149176,-465.3674],[4.019584,0.1149176,-455.6729],[4.266313,0.1149176,-447.7],[4.513041,0.1149176,-441.337],[4.759768,0.1149176,-436.4856],[5.006496,0.1149176,-433.0588],[5.253225,0.1149176,-430.9789],[5.499953,0.1149176,-430.1766],[5.746681,0.1149176,-430.5889],[5.993409,0.1149176,-432.1591],[6.240137,0.1149176,-434.8353],[6.486866,0.1149176,-438.5702],[6.733594,0.1149176,-443.3203],[6.980322,0.1149176,-449.0454],[7.22705,0.1149176,-455.7087],[7.473778,0.1149176,-463.2758],[7.720506,0.1149176,-471.7147],[7.967235,0.1149176,-480.9957],[8.213963,0.1149176,-491.0912],[8.46069,0.1149176,-501.975],[8.707418,0.1149176,-513.6229],[8.954147,0.1149176,-526.0118],[9.200874,0.1149176,-539.1201],[9.447603,0.1149176,-552.9276],[9.694331,0.1149176,-567.4149],[9.941059,0.1149176,-582.5638],[3.032671,0.1203158,-517.8979],[3.2794,0.1203158,-501.0463],[3.526128,0.1203158,-486.3691],[3.772856,0.1203158,-473.6913],[4.019584,0.1203158,-462.8636],[4.266313,0.1203158,-453.7576],[4.513041,0.1203158,-446.2614],[4.759768,0.1203158,-440.2768],[5.006496,0.1203158,-435.7168],[5.253225,0.1203158,-432.5038],[5.499953,0.1203158,-430.5682],[5.746681,0.1203158,-429.8474],[5.993409,0.1203158,-430.2844],[6.240137,0.1203158,-431.8275],[6.486866,0.1203158,-434.4291],[6.733594,0.1203158,-438.046],[6.980322,0.1203158,-442.6381],[7.22705,0.1203158,-448.1681],[7.473778,0.1203158,-454.602],[7.720506,0.1203158,-461.9077],[7.967235,0.1203158,-470.0556],[8.213963,0.1203158,-479.0179],[8.46069,0.1203158,-488.7686],[8.707418,0.1203158,-499.2832],[8.954147,0.1203158,-510.5389],[9.200874,0.1203158,-522.5142],[9.447603,0.1203158,-535.1884],[9.694331,0.1203158,-548.5425],[9.941059,0.1203158,-562.5583],[3.032671,0.1257139,-530.2333],[3.2794,0.1257139,-512.2983],[3.526128,0.1257139,-496.5378],[3.772856,0.1257139,-482.7765],[4.019584,0.1257139,-470.8654],[4.266313,0.1257139,-460.676],[4.513041,0.1257139,-452.0965],[4.759768,0.1257139,-445.0285],[5.006496,0.1257139,-439.3851],[5.253225,0.1257139,-435.0887],[5.499953,0.1257139,-432.0698],[5.746681,0.1257139,-430.2656],[5.993409,0.1257139,-429.6192],[6.240137,0.1257139,-430.0789],[6.486866,0.1257139,-431.5972],[6.733594,0.1257139,-434.1307],[6.980322,0.1257139,-437.6393],[7.22705,0.1257139,-442.086],[7.473778,0.1257139,-447.4365],[7.720506,0.1257139,-453.6588],[7.967235,0.1257139,-460.7233],[8.213963,0.1257139,-468.6022],[8.46069,0.1257139,-477.2695],[8.707418,0.1257139,-486.7008],[8.954147,0.1257139,-496.8731],[9.200874,0.1257139,-507.7649],[9.447603,0.1257139,-519.3558],[9.694331,0.1257139,-531.6266],[9.941059,0.1257139,-544.559],[3.032671,0.131112,-543.1292],[3.2794,0.131112,-524.1564],[3.526128,0.131112,-507.3581],[3.772856,0.131112,-492.559],[4.019584,0.131112,-479.6102],[4.266313,0.131112,-468.383],[4.513041,0.131112,-458.7656],[4.759768,0.131112,-450.6599],[5.006496,0.131112,-443.9787],[5.253225,0.131112,-438.6445],[5.499953,0.131112,-434.5878],[5.746681,0.131112,-431.7458],[5.993409,0.131112,-430.0616],[6.240137,0.131112,-429.4835],[6.486866,0.131112,-429.964],[6.733594,0.131112,-431.4598],[6.980322,0.131112,-433.9306],[7.22705,0.131112,-437.3395],[7.473778,0.131112,-441.6522],[7.720506,0.131112,-446.8368],[7.967235,0.131112,-452.8635],[8.213963,0.131112,-459.7046],[8.46069,0.131112,-467.334],[8.707418,0.131112,-475.7275],[8.954147,0.131112,-484.8621],[9.200874,0.131112,-494.7161],[9.447603,0.131112,-505.2692],[9.694331,0.131112,-516.5022],[9.941059,0.131112,-528.3969],[3.032671,0.1365101,-556.5402],[3.2794,0.1365101,-536.5716],[3.526128,0.1365101,-518.7773],[3.772856,0.1365101,-502.9824],[4.019584,0.1365101,-489.0377],[4.266313,0.1365101,-476.8147],[4.513041,0.1365101,-466.2014],[4.759768,0.1365101,-457.0998],[5.006496,0.1365101,-449.4227],[5.253225,0.1365101,-443.0927],[5.499953,0.1365101,-438.0401],[5.746681,0.1365101,-434.2022],[5.993409,0.1365101,-431.5222],[6.240137,0.1365101,-429.9482],[6.486866,0.1365101,-429.4328],[6.733594,0.1365101,-429.9327],[6.980322,0.1365101,-431.4076],[7.22705,0.1365101,-433.8207],[7.473778,0.1365101,-437.1375],[7.720506,0.1365101,-441.3262],[7.967235,0.1365101,-446.357],[8.213963,0.1365101,-452.2022],[8.46069,0.1365101,-458.8358],[8.707418,0.1365101,-466.2335],[8.954147,0.1365101,-474.3721],[9.200874,0.1365101,-483.2303],[9.447603,0.1365101,-492.7875],[9.694331,0.1365101,-503.0247],[9.941059,0.1365101,-513.9235],[3.032671,0.1419082,-570.4264],[3.2794,0.1419082,-549.5006],[3.526128,0.1419082,-530.7491],[3.772856,0.1419082,-513.9969],[4.019584,0.1419082,-499.095],[4.266313,0.1419082,-485.9147],[4.513041,0.1419082,-474.3443],[4.759768,0.1419082,-464.2855],[5.006496,0.1419082,-455.6512],[5.253225,0.1419082,-448.3639],[5.499953,0.1419082,-442.3541],[5.746681,0.1419082,-437.559],[5.993409,0.1419082,-433.9218],[6.240137,0.1419082,-431.3905],[6.486866,0.1419082,-429.918],[6.733594,0.1419082,-429.4606],[6.980322,0.1419082,-429.9783],[7.22705,0.1419082,-431.4341],[7.473778,0.1419082,-433.7937],[7.720506,0.1419082,-437.0252],[7.967235,0.1419082,-441.0988],[8.213963,0.1419082,-445.9868],[8.46069,0.1419082,-451.6632],[8.707418,0.1419082,-458.1036],[8.954147,0.1419082,-465.2851],[9.200874,0.1419082,-473.186],[9.447603,0.1419082,-481.7861],[9.694331,0.1419082,-491.0659],[9.941059,0.1419082,-501.0075],[3.032671,0.1473064,-584.7522],[3.2794,0.1473064,-562.9049],[3.526128,0.1473064,-543.2321],[3.772856,0.1473064,-525.5585],[4.019584,0.1473064,-509.735],[4.266313,0.1473064,-495.6333],[4.513041,0.1473064,-483.1414],[4.759768,0.1473064,-472.1611],[5.006496,0.1473064,-462.6054],[5.253225,0.1473064,-454.3967],[5.499953,0.1473064,-447.4654],[5.746681,0.1473064,-441.7488],[5.993409,0.1473064,-437.1902],[6.240137,0.1473064,-433.7375],[6.486866,0.1473064,-431.3435],[6.733594,0.1473064,-429.9646],[6.980322,0.1473064,-429.5609],[7.22705,0.1473064,-430.0953],[7.473778,0.1473064,-431.5334],[7.720506,0.1473064,-433.8434],[7.967235,0.1473064,-436.9956],[8.213963,0.1473064,-440.9622],[8.46069,0.1473064,-445.7171],[8.707418,0.1473064,-451.2361],[8.954147,0.1473064,-457.496],[9.200874,0.1473064,-464.4755],[9.447603,0.1473064,-472.1541],[9.694331,0.1473064,-480.5125],[9.941059,0.1473064,-489.5327],[3.032671,0.1527045,-599.486],[3.2794,0.1527045,-576.7504],[3.526128,0.1527045,-556.1893],[3.772856,0.1527045,-537.6274],[4.019584,0.1527045,-520.9157],[4.266313,0.1527045,-505.9257],[4.513041,0.1527045,-492.5456],[4.759768,0.1527045,-480.677],[5.006496,0.1527045,-470.233],[5.253225,0.1527045,-461.136],[5.499953,0.1527045,-453.3165],[5.746681,0.1527045,-446.7117],[5.993409,0.1527045,-441.2647],[6.240137,0.1527045,-436.9238],[6.486866,0.1527045,-433.6415],[6.733594,0.1527045,-431.3744],[6.980322,0.1527045,-430.0825],[7.22705,0.1527045,-429.7285],[7.473778,0.1527045,-430.2784],[7.720506,0.1527045,-431.7002],[7.967235,0.1527045,-433.9641],[8.213963,0.1527045,-437.0424],[8.46069,0.1527045,-440.9091],[8.707418,0.1527045,-445.5397],[8.954147,0.1527045,-450.9115],[9.200874,0.1527045,-457.0027],[9.447603,0.1527045,-463.793],[9.694331,0.1527045,-471.2632],[9.941059,0.1527045,-479.395],[3.032671,0.1581026,-614.5993],[3.2794,0.1581026,-591.0063],[3.526128,0.1581026,-569.5878],[3.772856,0.1581026,-550.1686],[4.019584,0.1581026,-532.5995],[4.266313,0.1581026,-516.7522],[4.513041,0.1581026,-502.5146],[4.759768,0.1581026,-489.7887],[5.006496,0.1581026,-478.4873],[5.253225,0.1581026,-468.5329],[5.499953,0.1581026,-459.856],[5.746681,0.1581026,-452.3938],[5.993409,0.1581026,-446.0895],[6.240137,0.1581026,-440.8911],[6.486866,0.1581026,-436.7515],[6.733594,0.1581026,-433.627],[6.980322,0.1581026,-431.4776],[7.22705,0.1581026,-430.2664],[7.473778,0.1581026,-429.9589],[7.720506,0.1581026,-430.5233],[7.967235,0.1581026,-431.9298],[8.213963,0.1581026,-434.1507],[8.46069,0.1581026,-437.16],[8.707418,0.1581026,-440.9332],[8.954147,0.1581026,-445.4476],[9.200874,0.1581026,-450.6815],[9.447603,0.1581026,-456.6144],[9.694331,0.1581026,-463.2272],[9.941059,0.1581026,-470.5016],[3.032671,0.1635007,-630.0667],[3.2794,0.1635007,-605.6451],[3.526128,0.1635007,-583.3981],[3.772856,0.1635007,-563.1502],[4.019584,0.1635007,-544.7526],[4.266313,0.1635007,-528.0767],[4.513041,0.1635007,-513.0105],[4.759768,0.1635007,-499.456],[5.006496,0.1635007,-487.326],[5.253225,0.1635007,-476.5431],[5.499953,0.1635007,-467.0376],[5.746681,0.1635007,-458.7468],[5.993409,0.1635007,-451.6139],[6.240137,0.1635007,-445.587],[6.486866,0.1635007,-440.6188],[6.733594,0.1635007,-436.6657],[6.980322,0.1635007,-433.6877],[7.22705,0.1635007,-431.6479],[7.473778,0.1635007,-430.5118],[7.720506,0.1635007,-430.2476],[7.967235,0.1635007,-430.8256],[8.213963,0.1635007,-432.2179],[8.46069,0.1635007,-434.3986],[8.707418,0.1635007,-437.3433],[8.954147,0.1635007,-441.0291],[9.200874,0.1635007,-445.4343],[9.447603,0.1635007,-450.5387],[9.694331,0.1635007,-456.3229],[9.941059,0.1635007,-462.7688],[3.032671,0.1688988,-645.8651],[3.2794,0.1688988,-620.6419],[3.526128,0.1688988,-597.5931],[3.772856,0.1688988,-576.5437],[4.019584,0.1688988,-557.3444],[4.266313,0.1688988,-539.8668],[4.513041,0.1688988,-523.999],[4.759768,0.1688988,-509.6429],[5.006496,0.1688988,-496.7112],[5.253225,0.1688988,-485.1266],[5.499953,0.1688988,-474.8195],[5.746681,0.1688988,-465.7271],[5.993409,0.1688988,-457.7925],[6.240137,0.1688988,-450.964],[6.486866,0.1688988,-445.1941],[6.733594,0.1688988,-440.4394],[6.980322,0.1688988,-436.6598],[7.22705,0.1688988,-433.8183],[7.473778,0.1688988,-431.8806],[7.720506,0.1688988,-430.8147],[7.967235,0.1688988,-430.591],[8.213963,0.1688988,-431.1817],[8.46069,0.1688988,-432.5607],[8.707418,0.1688988,-434.7038],[8.954147,0.1688988,-437.5879],[9.200874,0.1688988,-441.1916],[9.447603,0.1688988,-445.4943],[9.694331,0.1688988,-450.4768],[9.941059,0.1688988,-456.1211],[3.032671,0.1742969,-661.9736],[3.2794,0.1742969,-635.9741],[3.526128,0.1742969,-612.1489],[3.772856,0.1742969,-590.323],[4.019584,0.1742969,-570.3473],[4.266313,0.1742969,-552.0933],[4.513041,0.1742969,-535.4491],[4.759768,0.1742969,-520.3165],[5.006496,0.1742969,-506.6085],[5.253225,0.1742969,-494.2475],[5.499953,0.1742969,-483.164],[5.746681,0.1742969,-473.2951],[5.993409,0.1742969,-464.5842],[6.240137,0.1742969,-456.9792],[6.486866,0.1742969,-450.4329],[6.733594,0.1742969,-444.9018],[6.980322,0.1742969,-440.3458],[7.22705,0.1742969,-436.7278],[7.473778,0.1742969,-434.0137],[7.720506,0.1742969,-432.1714],[7.967235,0.1742969,-431.1713],[8.213963,0.1742969,-430.9856],[8.46069,0.1742969,-431.5883],[8.707418,0.1742969,-432.9549],[8.954147,0.1742969,-435.0626],[9.200874,0.1742969,-437.8898],[9.447603,0.1742969,-441.4161],[9.694331,0.1742969,-445.6223],[9.941059,0.1742969,-450.4901],[3.032671,0.1796951,-678.3734],[3.2794,0.1796951,-651.6212],[3.526128,0.1796951,-627.0433],[3.772856,0.1796951,-604.4647],[4.019584,0.1796951,-583.7362],[4.266313,0.1796951,-564.7295],[4.513041,0.1796951,-547.3326],[4.759768,0.1796951,-531.4473],[5.006496,0.1796951,-516.9866],[5.253225,0.1796951,-503.8728],[5.499953,0.1796951,-492.0366],[5.746681,0.1796951,-481.415],[5.993409,0.1796951,-471.9513],[6.240137,0.1796951,-463.5937],[6.486866,0.1796951,-456.2946],[6.733594,0.1796951,-450.0108],[6.980322,0.1796951,-444.7021],[7.22705,0.1796951,-440.3315],[7.473778,0.1796951,-436.8646],[7.720506,0.1796951,-434.2696],[7.967235,0.1796951,-432.5168],[8.213963,0.1796951,-431.5784],[8.46069,0.1796951,-431.4283],[8.707418,0.1796951,-432.0422],[8.954147,0.1796951,-433.3972],[9.200874,0.1796951,-435.4717],[9.447603,0.1796951,-438.2453],[9.694331,0.1796951,-441.6987],[9.941059,0.1796951,-445.8138],[3.032671,0.1850932,-695.0472],[3.2794,0.1850932,-667.5645],[3.526128,0.1850932,-642.2562],[3.772856,0.1850932,-618.9472],[4.019584,0.1850932,-597.4883],[4.266313,0.1850932,-577.7512],[4.513041,0.1850932,-559.6239],[4.759768,0.1850932,-543.0082],[5.006496,0.1850932,-527.817],[5.253225,0.1850932,-513.9728],[5.499953,0.1850932,-501.4061],[5.746681,0.1850932,-490.0541],[5.993409,0.1850932,-479.86],[6.240137,0.1850932,-470.7719],[6.486866,0.1850932,-462.7425],[6.733594,0.1850932,-455.7282],[6.980322,0.1850932,-449.6891],[7.22705,0.1850932,-444.588],[7.473778,0.1850932,-440.3907],[7.720506,0.1850932,-437.0653],[7.967235,0.1850932,-434.582],[8.213963,0.1850932,-432.9131],[8.46069,0.1850932,-432.0327],[8.707418,0.1850932,-431.9162],[8.954147,0.1850932,-432.5407],[9.200874,0.1850932,-433.8848],[9.447603,0.1850932,-435.9279],[9.694331,0.1850932,-438.651],[9.941059,0.1850932,-442.0356],[3.032671,0.1904913,-711.9792],[3.2794,0.1904913,-683.7871],[3.526128,0.1904913,-657.7694],[3.772856,0.1904913,-633.751],[4.019584,0.1904913,-611.5827],[4.266313,0.1904913,-591.1361],[4.513041,0.1904913,-572.2994],[4.759768,0.1904913,-554.9742],[5.006496,0.1904913,-539.0736],[5.253225,0.1904913,-524.52],[5.499953,0.1904913,-511.2439],[5.746681,0.1904913,-499.1826],[5.993409,0.1904913,-488.279],[6.240137,0.1904913,-478.4815],[6.486866,0.1904913,-469.7426],[6.733594,0.1904913,-462.019],[6.980322,0.1904913,-455.2704],[7.22705,0.1904913,-449.4599],[7.473778,0.1904913,-444.5532],[7.720506,0.1904913,-440.5184],[7.967235,0.1904913,-437.3257],[8.213963,0.1904913,-434.9474],[8.46069,0.1904913,-433.3575],[8.707418,0.1904913,-432.5316],[8.954147,0.1904913,-432.4467],[9.200874,0.1904913,-433.0814],[9.447603,0.1904913,-434.4151],[9.694331,0.1904913,-436.4287],[9.941059,0.1904913,-439.1039],[3.032671,0.1958894,-729.155],[3.2794,0.1958894,-700.2733],[3.526128,0.1958894,-673.566],[3.772856,0.1958894,-648.858],[4.019584,0.1958894,-626.0001],[4.266313,0.1958894,-604.864],[4.513041,0.1958894,-585.3377],[4.759768,0.1958894,-567.3229],[5.006496,0.1958894,-550.7328],[5.253225,0.1958894,-535.4896],[5.499953,0.1958894,-521.5239],[5.746681,0.1958894,-508.7729],[5.993409,0.1958894,-497.1798],[6.240137,0.1958894,-486.6927],[6.486866,0.1958894,-477.2642],[6.733594,0.1958894,-468.851],[6.980322,0.1958894,-461.4128],[7.22705,0.1958894,-454.9127],[7.473778,0.1958894,-449.3164],[7.720506,0.1958894,-444.592],[7.967235,0.1958894,-440.7097],[8.213963,0.1958894,-437.6418],[8.46069,0.1958894,-435.3624],[8.707418,0.1958894,-433.8469],[8.954147,0.1958894,-433.0724],[9.200874,0.1958894,-433.0175],[9.447603,0.1958894,-433.6617],[9.694331,0.1958894,-434.9857],[9.941059,0.1958894,-436.9713],[3.032671,0.2012875,-746.5614],[3.2794,0.2012875,-717.0088],[3.526128,0.2012875,-689.6307],[3.772856,0.2012875,-664.2518],[4.019584,0.2012875,-640.7231],[4.266313,0.2012875,-618.9162],[4.513041,0.2012875,-598.719],[4.759768,0.2012875,-580.0334],[5.006496,0.2012875,-562.7723],[5.253225,0.2012875,-546.8584],[5.499953,0.2012875,-532.2219],[5.746681,0.2012875,-518.8],[5.993409,0.2012875,-506.5361],[6.240137,0.2012875,-495.3782],[6.486866,0.2012875,-485.2789],[6.733594,0.2012875,-476.1948],[6.980322,0.2012875,-468.0858],[7.22705,0.2012875,-460.9149],[7.473778,0.2012875,-454.6478],[7.720506,0.2012875,-449.2525],[7.967235,0.2012875,-444.6994],[8.213963,0.2012875,-440.9607],[8.46069,0.2012875,-438.0104],[8.707418,0.2012875,-435.824],[8.954147,0.2012875,-434.3788],[9.200874,0.2012875,-433.653],[9.447603,0.2012875,-433.6263],[9.694331,0.2012875,-434.2795],[9.941059,0.2012875,-435.5943],[3.032671,0.2066857,-764.186],[3.2794,0.2066857,-733.9804],[3.526128,0.2066857,-705.9491],[3.772856,0.2066857,-679.9172],[4.019584,0.2066857,-655.7355],[4.266313,0.2066857,-633.2755],[4.513041,0.2066857,-612.4252],[4.759768,0.2066857,-593.0865],[5.006496,0.2066857,-575.1725],[5.253225,0.2066857,-558.6054],[5.499953,0.2066857,-543.3158],[5.746681,0.2066857,-529.2409],[5.993409,0.2066857,-516.3239],[6.240137,0.2066857,-504.5128],[6.486866,0.2066857,-493.7605],[6.733594,0.2066857,-484.0233],[6.980322,0.2066857,-475.2613],[7.22705,0.2066857,-467.4373],[7.473778,0.2066857,-460.5171],[7.720506,0.2066857,-454.4688],[7.967235,0.2066857,-449.2626],[8.213963,0.2066857,-444.8708],[8.46069,0.2066857,-441.2674],[8.707418,0.2066857,-438.428],[8.954147,0.2066857,-436.3297],[9.200874,0.2066857,-434.9508],[9.447603,0.2066857,-434.2711],[9.694331,0.2066857,-434.2712],[9.941059,0.2066857,-434.9329],[3.032671,0.2120838,-782.0176],[3.2794,0.2120838,-751.1758],[3.526128,0.2120838,-722.5084],[3.772856,0.2120838,-695.8402],[4.019584,0.2120838,-671.0222],[4.266313,0.2120838,-647.926],[4.513041,0.2120838,-626.4395],[4.759768,0.2120838,-606.4646],[5.006496,0.2120838,-587.9143],[5.253225,0.2120838,-570.7111],[5.499953,0.2120838,-554.7852],[5.746681,0.2120838,-540.0741],[5.993409,0.2120838,-526.5208],[6.240137,0.2120838,-514.0735],[6.486866,0.2120838,-502.685],[6.733594,0.2120838,-492.3116],[6.980322,0.2120838,-482.9133],[7.22705,0.2120838,-474.4531],[7.473778,0.2120838,-466.8967],[7.720506,0.2120838,-460.2121],[7.967235,0.2120838,-454.3697],[8.213963,0.2120838,-449.3417],[8.46069,0.2120838,-445.1021],[8.707418,0.2120838,-441.6265],[8.954147,0.2120838,-438.8919],[9.200874,0.2120838,-436.8768],[9.447603,0.2120838,-435.5608],[9.694331,0.2120838,-434.9247],[9.941059,0.2120838,-434.9502]],"ignoreExtent":false,"flags":11},"144":{"id":144,"type":"text","material":{"lit":false},"vertices":[[6.486866,0.03170295,-1102.303]],"colors":[[0,0,0,1]],"texts":[["shape"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[6.486866,0.03170295,-1102.303]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"145":{"id":145,"type":"text","material":{"lit":false},"vertices":[[1.696515,0.1365101,-1102.303]],"colors":[[0,0,0,1]],"texts":[["rate"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[1.696515,0.1365101,-1102.303]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"146":{"id":146,"type":"text","material":{"lit":false},"vertices":[[1.696515,0.03170295,-716.9673]],"colors":[[0,0,0,1]],"texts":[["loglik"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[1.696515,0.03170295,-716.9673]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"148":{"id":148,"type":"clipplanes","normals":[[0,0,1],[0,0,-1]],"offsets":[[433.7844],[-429.1792]],"flags":2048},"149":{"id":149,"type":"surface","material":{},"vertices":[[2.909307,0.0582374,-442.918],[3.156036,0.0582374,-442.828],[3.402764,0.0582374,-445.0072],[3.649492,0.0582374,-449.266],[3.89622,0.0582374,-455.4438],[4.142948,0.0582374,-463.403],[4.389677,0.0582374,-473.0242],[4.636405,0.0582374,-484.203],[4.883132,0.0582374,-496.8474],[5.129861,0.0582374,-510.8753],[5.376589,0.0582374,-526.2137],[5.623317,0.0582374,-542.7966],[5.870045,0.0582374,-560.5645],[6.116773,0.0582374,-579.463],[6.363502,0.0582374,-599.4429],[6.610229,0.0582374,-620.4588],[6.856958,0.0582374,-642.469],[7.103686,0.0582374,-665.4351],[7.350414,0.0582374,-689.3215],[7.597142,0.0582374,-714.0952],[7.84387,0.0582374,-739.7254],[8.090598,0.0582374,-766.1833],[8.337326,0.0582374,-793.4423],[8.584055,0.0582374,-821.4771],[8.830783,0.0582374,-850.264],[9.077511,0.0582374,-879.7808],[9.324239,0.0582374,-910.0067],[9.570967,0.0582374,-940.9218],[9.817696,0.0582374,-972.5074],[10.06442,0.0582374,-1004.746],[2.909307,0.06363552,-442.7806],[3.156036,0.06363552,-440.5035],[3.402764,0.06363552,-440.4956],[3.649492,0.06363552,-442.5673],[3.89622,0.06363552,-446.558],[4.142948,0.06363552,-452.3301],[4.389677,0.06363552,-459.7642],[4.636405,0.06363552,-468.756],[4.883132,0.06363552,-479.2132],[5.129861,0.06363552,-491.0541],[5.376589,0.06363552,-504.2054],[5.623317,0.06363552,-518.6011],[5.870045,0.06363552,-534.1819],[6.116773,0.06363552,-550.8934],[6.363502,0.06363552,-568.6862],[6.610229,0.06363552,-587.515],[6.856958,0.06363552,-607.3381],[7.103686,0.06363552,-628.1171],[7.350414,0.06363552,-649.8164],[7.597142,0.06363552,-672.403],[7.84387,0.06363552,-695.8461],[8.090598,0.06363552,-720.1169],[8.337326,0.06363552,-745.1888],[8.584055,0.06363552,-771.0364],[8.830783,0.06363552,-797.6362],[9.077511,0.06363552,-824.9661],[9.324239,0.06363552,-853.0048],[9.570967,0.06363552,-881.7328],[9.817696,0.06363552,-911.1313],[10.06442,0.06363552,-941.1826],[2.909307,0.06903364,-444.7443],[3.156036,0.06903364,-440.4583],[3.402764,0.06903364,-438.4415],[3.649492,0.06903364,-438.5043],[3.89622,0.06903364,-440.4861],[4.142948,0.06903364,-444.2493],[4.389677,0.06903364,-449.6745],[4.636405,0.06903364,-456.6573],[4.883132,0.06903364,-465.1056],[5.129861,0.06903364,-474.9376],[5.376589,0.06903364,-486.08],[5.623317,0.06903364,-498.4668],[5.870045,0.06903364,-512.0386],[6.116773,0.06903364,-526.7412],[6.363502,0.06903364,-542.5251],[6.610229,0.06903364,-559.345],[6.856958,0.06903364,-577.1592],[7.103686,0.06903364,-595.9293],[7.350414,0.06903364,-615.6197],[7.597142,0.06903364,-636.1974],[7.84387,0.06903364,-657.6315],[8.090598,0.06903364,-679.8935],[8.337326,0.06903364,-702.9564],[8.584055,0.06903364,-726.7952],[8.830783,0.06903364,-751.386],[9.077511,0.06903364,-776.7069],[9.324239,0.06903364,-802.7368],[9.570967,0.06903364,-829.4559],[9.817696,0.06903364,-856.8455],[10.06442,0.06903364,-884.8878],[2.909307,0.07443175,-448.4924],[3.156036,0.07443175,-442.3488],[3.402764,0.07443175,-438.4744],[3.649492,0.07443175,-436.6796],[3.89622,0.07443175,-436.8038],[4.142948,0.07443175,-438.7094],[4.389677,0.07443175,-442.277],[4.636405,0.07443175,-447.4023],[4.883132,0.07443175,-453.993],[5.129861,0.07443175,-461.9673],[5.376589,0.07443175,-471.2521],[5.623317,0.07443175,-481.7814],[5.870045,0.07443175,-493.4957],[6.116773,0.07443175,-506.3406],[6.363502,0.07443175,-520.2669],[6.610229,0.07443175,-535.2292],[6.856958,0.07443175,-551.1859],[7.103686,0.07443175,-568.0984],[7.350414,0.07443175,-585.9312],[7.597142,0.07443175,-604.6513],[7.84387,0.07443175,-624.2278],[8.090598,0.07443175,-644.6323],[8.337326,0.07443175,-665.8376],[8.584055,0.07443175,-687.8187],[8.830783,0.07443175,-710.5521],[9.077511,0.07443175,-734.0153],[9.324239,0.07443175,-758.1876],[9.570967,0.07443175,-783.0491],[9.817696,0.07443175,-808.5811],[10.06442,0.07443175,-834.7659],[2.909307,0.07982987,-453.7747],[3.156036,0.07982987,-445.9037],[3.402764,0.07982987,-440.3018],[3.649492,0.07982987,-436.7795],[3.89622,0.07982987,-435.1763],[4.142948,0.07982987,-435.3544],[4.389677,0.07982987,-437.1945],[4.636405,0.07982987,-440.5923],[4.883132,0.07982987,-445.4556],[5.129861,0.07982987,-451.7025],[5.376589,0.07982987,-459.2598],[5.623317,0.07982987,-468.0616],[5.870045,0.07982987,-478.0484],[6.116773,0.07982987,-489.1659],[6.363502,0.07982987,-501.3647],[6.610229,0.07982987,-514.5995],[6.856958,0.07982987,-528.8287],[7.103686,0.07982987,-544.0137],[7.350414,0.07982987,-560.1191],[7.597142,0.07982987,-577.1117],[7.84387,0.07982987,-594.9608],[8.090598,0.07982987,-613.6377],[8.337326,0.07982987,-633.1156],[8.584055,0.07982987,-653.3693],[8.830783,0.07982987,-674.3751],[9.077511,0.07982987,-696.111],[9.324239,0.07982987,-718.5557],[9.570967,0.07982987,-741.6898],[9.817696,0.07982987,-765.4943],[10.06442,0.07982987,-789.9516],[2.909307,0.085228,-460.3904],[3.156036,0.085228,-450.9049],[3.402764,0.085228,-443.6887],[3.649492,0.085228,-438.552],[3.89622,0.085228,-435.3344],[4.142948,0.085228,-433.8981],[4.389677,0.085228,-434.1238],[4.636405,0.085228,-435.9072],[4.883132,0.085228,-439.1561],[5.129861,0.085228,-443.7886],[5.376589,0.085228,-449.7315],[5.623317,0.085228,-456.9189],[5.870045,0.085228,-465.2913],[6.116773,0.085228,-474.7944],[6.363502,0.085228,-485.3788],[6.610229,0.085228,-496.9993],[6.856958,0.085228,-509.614],[7.103686,0.085228,-523.1847],[7.350414,0.085228,-537.6757],[7.597142,0.085228,-553.0539],[7.84387,0.085228,-569.2886],[8.090598,0.085228,-586.3511],[8.337326,0.085228,-604.2146],[8.584055,0.085228,-622.8539],[8.830783,0.085228,-642.2453],[9.077511,0.085228,-662.3668],[9.324239,0.085228,-683.1971],[9.570967,0.085228,-704.7168],[9.817696,0.085228,-726.9069],[10.06442,0.085228,-749.7498],[2.909307,0.09062611,-468.1755],[3.156036,0.09062611,-457.1748],[3.402764,0.09062611,-448.4434],[3.649492,0.09062611,-441.7915],[3.89622,0.09062611,-437.0586],[4.142948,0.09062611,-434.1071],[4.389677,0.09062611,-432.8177],[4.636405,0.09062611,-433.0858],[4.883132,0.09062611,-434.8195],[5.129861,0.09062611,-437.9367],[5.376589,0.09062611,-442.3644],[5.623317,0.09062611,-448.0367],[5.870045,0.09062611,-454.8938],[6.116773,0.09062611,-462.8817],[6.363502,0.09062611,-471.9509],[6.610229,0.09062611,-482.0561],[6.856958,0.09062611,-493.1557],[7.103686,0.09062611,-505.2111],[7.350414,0.09062611,-518.1869],[7.597142,0.09062611,-532.0499],[7.84387,0.09062611,-546.7693],[8.090598,0.09062611,-562.3167],[8.337326,0.09062611,-578.6649],[8.584055,0.09062611,-595.7889],[8.830783,0.09062611,-613.6652],[9.077511,0.09062611,-632.2714],[9.324239,0.09062611,-651.5866],[9.570967,0.09062611,-671.5911],[9.817696,0.09062611,-692.2659],[10.06442,0.09062611,-713.5936],[2.909307,0.09602423,-476.9947],[3.156036,0.09602423,-464.5665],[3.402764,0.09602423,-454.4075],[3.649492,0.09602423,-446.3281],[3.89622,0.09602423,-440.1677],[4.142948,0.09602423,-435.7887],[4.389677,0.09602423,-433.0717],[4.636405,0.09602423,-431.9123],[4.883132,0.09602423,-432.2184],[5.129861,0.09602423,-433.9082],[5.376589,0.09602423,-436.9084],[5.623317,0.09602423,-441.1531],[5.870045,0.09602423,-446.5827],[6.116773,0.09602423,-453.1431],[6.363502,0.09602423,-460.7848],[6.610229,0.09602423,-469.4624],[6.856958,0.09602423,-479.1345],[7.103686,0.09602423,-489.7624],[7.350414,0.09602423,-501.3106],[7.597142,0.09602423,-513.7461],[7.84387,0.09602423,-527.038],[8.090598,0.09602423,-541.1578],[8.337326,0.09602423,-556.0786],[8.584055,0.09602423,-571.7751],[8.830783,0.09602423,-588.2238],[9.077511,0.09602423,-605.4025],[9.324239,0.09602423,-623.2902],[9.570967,0.09602423,-641.8671],[9.817696,0.09602423,-661.1144],[10.06442,0.09602423,-681.0146],[2.909307,0.1014223,-486.7347],[3.156036,0.1014223,-472.9571],[3.402764,0.1014223,-461.4487],[3.649492,0.1014223,-452.0198],[3.89622,0.1014223,-444.51],[4.142948,0.1014223,-438.7816],[4.389677,0.1014223,-434.7151],[4.636405,0.1014223,-432.2063],[4.883132,0.1014223,-431.1631],[5.129861,0.1014223,-431.5034],[5.376589,0.1014223,-433.1541],[5.623317,0.1014223,-436.0494],[5.870045,0.1014223,-440.1296],[6.116773,0.1014223,-445.3405],[6.363502,0.1014223,-451.6328],[6.610229,0.1014223,-458.9611],[6.856958,0.1014223,-467.2837],[7.103686,0.1014223,-476.5622],[7.350414,0.1014223,-486.761],[7.597142,0.1014223,-497.847],[7.84387,0.1014223,-509.7895],[8.090598,0.1014223,-522.5599],[8.337326,0.1014223,-536.1312],[8.584055,0.1014223,-550.4783],[8.830783,0.1014223,-565.5776],[9.077511,0.1014223,-581.4069],[9.324239,0.1014223,-597.9451],[9.570967,0.1014223,-615.1725],[9.817696,0.1014223,-633.0705],[10.06442,0.1014223,-651.6212],[2.909307,0.1068205,-497.3001],[3.156036,0.1068205,-482.243],[3.402764,0.1068205,-469.4552],[3.649492,0.1068205,-458.7469],[3.89622,0.1068205,-449.9576],[4.142948,0.1068205,-442.9497],[4.389677,0.1068205,-437.6039],[4.636405,0.1068205,-433.8156],[4.883132,0.1068205,-431.4929],[5.129861,0.1068205,-430.5538],[5.376589,0.1068205,-430.9251],[5.623317,0.1068205,-432.541],[5.870045,0.1068205,-435.3417],[6.116773,0.1068205,-439.2733],[6.363502,0.1068205,-444.2861],[6.610229,0.1068205,-450.3349],[6.856958,0.1068205,-457.3781],[7.103686,0.1068205,-465.3771],[7.350414,0.1068205,-474.2965],[7.597142,0.1068205,-484.1031],[7.84387,0.1068205,-494.7662],[8.090598,0.1068205,-506.2571],[8.337326,0.1068205,-518.549],[8.584055,0.1068205,-531.6166],[8.830783,0.1068205,-545.4365],[9.077511,0.1068205,-559.9863],[9.324239,0.1068205,-575.2451],[9.570967,0.1068205,-591.1932],[9.817696,0.1068205,-607.8117],[10.06442,0.1068205,-625.083],[2.909307,0.1122186,-508.6093],[3.156036,0.1122186,-492.336],[3.402764,0.1122186,-478.3318],[3.649492,0.1122186,-466.4071],[3.89622,0.1122186,-456.4015],[4.142948,0.1122186,-448.1773],[4.389677,0.1122186,-441.6151],[4.636405,0.1122186,-436.6105],[4.883132,0.1122186,-433.0714],[5.129861,0.1122186,-430.916],[5.376589,0.1122186,-430.071],[5.623317,0.1122186,-430.4704],[5.870045,0.1122186,-432.0548],[6.116773,0.1122186,-434.77],[6.363502,0.1122186,-438.5665],[6.610229,0.1122186,-443.399],[6.856958,0.1122186,-449.2258],[7.103686,0.1122186,-456.0085],[7.350414,0.1122186,-463.7115],[7.597142,0.1122186,-472.3018],[7.84387,0.1122186,-481.7485],[8.090598,0.1122186,-492.0231],[8.337326,0.1122186,-503.0986],[8.584055,0.1122186,-514.95],[8.830783,0.1122186,-527.5535],[9.077511,0.1122186,-540.8869],[9.324239,0.1122186,-554.9294],[9.570967,0.1122186,-569.6611],[9.817696,0.1122186,-585.0632],[10.06442,0.1122186,-601.1182],[2.909307,0.1176167,-520.5926],[3.156036,0.1176167,-503.16],[3.402764,0.1176167,-487.9966],[3.649492,0.1176167,-474.9128],[3.89622,0.1176167,-463.748],[4.142948,0.1176167,-454.3646],[4.389677,0.1176167,-446.6432],[4.636405,0.1176167,-440.4794],[4.883132,0.1176167,-435.7812],[5.129861,0.1176167,-432.4665],[5.376589,0.1176167,-430.4623],[5.623317,0.1176167,-429.7026],[5.870045,0.1176167,-430.1278],[6.116773,0.1176167,-431.6838],[6.363502,0.1176167,-434.3211],[6.610229,0.1176167,-437.9944],[6.856958,0.1176167,-442.662],[7.103686,0.1176167,-448.2855],[7.350414,0.1176167,-454.8293],[7.597142,0.1176167,-462.2604],[7.84387,0.1176167,-470.548],[8.090598,0.1176167,-479.6634],[8.337326,0.1176167,-489.5797],[8.584055,0.1176167,-500.2718],[8.830783,0.1176167,-511.7162],[9.077511,0.1176167,-523.8904],[9.324239,0.1176167,-536.7737],[9.570967,0.1176167,-550.3462],[9.817696,0.1176167,-564.5892],[10.06442,0.1176167,-579.485],[2.909307,0.1230148,-533.1893],[3.156036,0.1230148,-514.6496],[3.402764,0.1230148,-498.379],[3.649492,0.1230148,-484.188],[3.89622,0.1230148,-471.9161],[4.142948,0.1230148,-461.4255],[4.389677,0.1230148,-452.597],[4.636405,0.1230148,-445.326],[4.883132,0.1230148,-439.5206],[5.129861,0.1230148,-435.0988],[5.376589,0.1230148,-431.9874],[5.623317,0.1230148,-430.1205],[5.870045,0.1230148,-429.4386],[6.116773,0.1230148,-429.8874],[6.363502,0.1230148,-431.4175],[6.610229,0.1230148,-433.9837],[6.856958,0.1230148,-437.5441],[7.103686,0.1230148,-442.0605],[7.350414,0.1230148,-447.4972],[7.597142,0.1230148,-453.821],[7.84387,0.1230148,-461.0015],[8.090598,0.1230148,-469.0097],[8.337326,0.1230148,-477.8188],[8.584055,0.1230148,-487.4038],[8.830783,0.1230148,-497.741],[9.077511,0.1230148,-508.8081],[9.324239,0.1230148,-520.5842],[9.570967,0.1230148,-533.0496],[9.817696,0.1230148,-546.1854],[10.06442,0.1230148,-559.974],[2.909307,0.1284129,-546.3468],[3.156036,0.1284129,-526.7474],[3.402764,0.1284129,-509.4173],[3.649492,0.1284129,-494.1667],[3.89622,0.1284129,-480.8351],[4.142948,0.1284129,-469.2849],[4.389677,0.1284129,-459.3968],[4.636405,0.1284129,-451.0663],[4.883132,0.1284129,-444.2012],[5.129861,0.1284129,-438.7198],[5.376589,0.1284129,-434.5488],[5.623317,0.1284129,-431.6224],[5.870045,0.1284129,-429.8808],[6.116773,0.1284129,-429.27],[6.363502,0.1284129,-429.7405],[6.610229,0.1284129,-431.247],[6.856958,0.1284129,-433.7479],[7.103686,0.1284129,-437.2047],[7.350414,0.1284129,-441.5817],[7.597142,0.1284129,-446.846],[7.84387,0.1284129,-452.9668],[8.090598,0.1284129,-459.9154],[8.337326,0.1284129,-467.665],[8.584055,0.1284129,-476.1904],[8.830783,0.1284129,-485.4679],[9.077511,0.1284129,-495.4754],[9.324239,0.1284129,-506.1919],[9.570967,0.1284129,-517.5977],[9.817696,0.1284129,-529.6739],[10.06442,0.1284129,-542.4029],[2.909307,0.1338111,-560.0189],[3.156036,0.1338111,-539.4036],[3.402764,0.1338111,-521.0574],[3.649492,0.1338111,-504.7909],[3.89622,0.1338111,-490.4433],[4.142948,0.1338111,-477.8772],[4.389677,0.1338111,-466.973],[4.636405,0.1338111,-457.6265],[4.883132,0.1338111,-449.7455],[5.129861,0.1338111,-443.2482],[5.376589,0.1338111,-438.0612],[5.623317,0.1338111,-434.1188],[5.870045,0.1338111,-431.3612],[6.116773,0.1338111,-429.7345],[6.363502,0.1338111,-429.189],[6.610229,0.1338111,-429.6796],[6.856958,0.1338111,-431.1645],[7.103686,0.1338111,-433.6053],[7.350414,0.1338111,-436.9663],[7.597142,0.1338111,-441.2147],[7.84387,0.1338111,-446.3195],[8.090598,0.1338111,-452.2521],[8.337326,0.1338111,-458.9857],[8.584055,0.1338111,-466.4951],[8.830783,0.1338111,-474.7567],[9.077511,0.1338111,-483.7483],[9.324239,0.1338111,-493.4488],[9.570967,0.1338111,-503.8386],[9.817696,0.1338111,-514.8988],[10.06442,0.1338111,-526.6119],[2.909307,0.1392092,-574.1647],[3.156036,0.1392092,-552.5737],[3.402764,0.1392092,-533.2518],[3.649492,0.1392092,-516.0094],[3.89622,0.1392092,-500.6861],[4.142948,0.1392092,-487.1442],[4.389677,0.1392092,-475.2643],[4.636405,0.1392092,-464.942],[4.883132,0.1392092,-456.0852],[5.129861,0.1392092,-448.612],[5.376589,0.1392092,-442.4493],[5.623317,0.1392092,-437.5311],[5.870045,0.1392092,-433.7978],[6.116773,0.1392092,-431.1952],[6.363502,0.1392092,-429.674],[6.610229,0.1392092,-429.1888],[6.856958,0.1392092,-429.6979],[7.103686,0.1392092,-431.1629],[7.350414,0.1392092,-433.5482],[7.597142,0.1392092,-436.8207],[7.84387,0.1392092,-440.9498],[8.090598,0.1392092,-445.9066],[8.337326,0.1392092,-451.6644],[8.584055,0.1392092,-458.1981],[8.830783,0.1392092,-465.4839],[9.077511,0.1392092,-473.4996],[9.324239,0.1392092,-482.2244],[9.570967,0.1392092,-491.6384],[9.817696,0.1392092,-501.7228],[10.06442,0.1392092,-512.4601],[2.909307,0.1446073,-588.7485],[3.156036,0.1446073,-566.2187],[3.402764,0.1446073,-545.9581],[3.649492,0.1446073,-527.7772],[3.89622,0.1446073,-511.5152],[4.142948,0.1446073,-497.0346],[4.389677,0.1446073,-484.216],[4.636405,0.1446073,-472.9551],[4.883132,0.1446073,-463.1596],[5.129861,0.1446073,-454.7478],[5.376589,0.1446073,-447.6465],[5.623317,0.1446073,-441.7896],[5.870045,0.1446073,-437.1176],[6.116773,0.1446073,-433.5764],[6.363502,0.1446073,-431.1165],[6.610229,0.1446073,-429.6926],[6.856958,0.1446073,-429.2631],[7.103686,0.1446073,-429.7894],[7.350414,0.1446073,-431.2361],[7.597142,0.1446073,-433.57],[7.84387,0.1446073,-436.7604],[8.090598,0.1446073,-440.7786],[8.337326,0.1446073,-445.5977],[8.584055,0.1446073,-451.1927],[8.830783,0.1446073,-457.5399],[9.077511,0.1446073,-464.6169],[9.324239,0.1446073,-472.4031],[9.570967,0.1446073,-480.8784],[9.817696,0.1446073,-490.0242],[10.06442,0.1446073,-499.8228],[2.909307,0.1500054,-603.7379],[3.156036,0.1500054,-580.3038],[3.402764,0.1500054,-559.139],[3.649492,0.1500054,-540.0538],[3.89622,0.1500054,-522.8876],[4.142948,0.1500054,-507.5027],[4.389677,0.1500054,-493.7799],[4.636405,0.1500054,-481.6147],[4.883132,0.1500054,-470.915],[5.129861,0.1500054,-461.599],[5.376589,0.1500054,-453.5933],[5.623317,0.1500054,-446.8322],[5.870045,0.1500054,-441.256],[6.116773,0.1500054,-436.8105],[6.363502,0.1500054,-433.4464],[6.610229,0.1500054,-431.1183],[6.856958,0.1500054,-429.7845],[7.103686,0.1500054,-429.4066],[7.350414,0.1500054,-429.949],[7.597142,0.1500054,-431.3786],[7.84387,0.1500054,-433.6648],[8.090598,0.1500054,-436.7787],[8.337326,0.1500054,-440.6936],[8.584055,0.1500054,-445.3843],[8.830783,0.1500054,-450.8272],[9.077511,0.1500054,-457.0001],[9.324239,0.1500054,-463.882],[9.570967,0.1500054,-471.453],[9.817696,0.1500054,-479.6946],[10.06442,0.1500054,-488.589],[2.909307,0.1554035,-619.1042],[3.156036,0.1554035,-594.798],[3.402764,0.1554035,-572.7609],[3.649492,0.1554035,-552.8033],[3.89622,0.1554035,-534.7648],[4.142948,0.1554035,-518.5078],[4.389677,0.1554035,-503.9126],[4.636405,0.1554035,-490.8752],[4.883132,0.1554035,-479.3032],[5.129861,0.1554035,-469.1149],[5.376589,0.1554035,-460.2369],[5.623317,0.1554035,-452.6035],[5.870045,0.1554035,-446.1551],[6.116773,0.1554035,-440.8373],[6.363502,0.1554035,-436.6009],[6.610229,0.1554035,-433.4005],[6.856958,0.1554035,-431.1944],[7.103686,0.1554035,-429.9443],[7.350414,0.1554035,-429.6144],[7.597142,0.1554035,-430.1718],[7.84387,0.1554035,-431.5856],[8.090598,0.1554035,-433.8273],[8.337326,0.1554035,-436.8699],[8.584055,0.1554035,-440.6884],[8.830783,0.1554035,-445.259],[9.077511,0.1554035,-450.5596],[9.324239,0.1554035,-456.5692],[9.570967,0.1554035,-463.2679],[9.817696,0.1554035,-470.6372],[10.06442,0.1554035,-478.6593],[2.909307,0.1608016,-634.8218],[3.156036,0.1608016,-609.6731],[3.402764,0.1608016,-586.7935],[3.649492,0.1608016,-565.9935],[3.89622,0.1608016,-547.1125],[4.142948,0.1608016,-530.0129],[4.389677,0.1608016,-514.5753],[4.636405,0.1608016,-500.6954],[4.883132,0.1608016,-488.2809],[5.129861,0.1608016,-477.2501],[5.376589,0.1608016,-467.5297],[5.623317,0.1608016,-459.0538],[5.870045,0.1608016,-451.7628],[6.116773,0.1608016,-445.6026],[6.363502,0.1608016,-440.5237],[6.610229,0.1608016,-436.4808],[6.856958,0.1608016,-433.4323],[7.103686,0.1608016,-431.3396],[7.350414,0.1608016,-430.1672],[7.597142,0.1608016,-429.8821],[7.84387,0.1608016,-430.4535],[8.090598,0.1608016,-431.8527],[8.337326,0.1608016,-434.0528],[8.584055,0.1608016,-437.0287],[8.830783,0.1608016,-440.7569],[9.077511,0.1608016,-445.215],[9.324239,0.1608016,-450.3821],[9.570967,0.1608016,-456.2384],[9.817696,0.1608016,-462.7652],[10.06442,0.1608016,-469.9447],[2.909307,0.1661998,-650.8676],[3.156036,0.1661998,-624.9041],[3.402764,0.1661998,-601.2098],[3.649492,0.1661998,-579.5952],[3.89622,0.1661998,-559.8995],[4.142948,0.1661998,-541.9852],[4.389677,0.1661998,-525.733],[4.636405,0.1661998,-511.0384],[4.883132,0.1661998,-497.8093],[5.129861,0.1661998,-485.9638],[5.376589,0.1661998,-475.4287],[5.623317,0.1661998,-466.1381],[5.870045,0.1661998,-458.0325],[6.116773,0.1661998,-451.0576],[6.363502,0.1661998,-445.164],[6.610229,0.1661998,-440.3065],[6.856958,0.1661998,-436.4432],[7.103686,0.1661998,-433.5359],[7.350414,0.1661998,-431.5489],[7.597142,0.1661998,-430.4491],[7.84387,0.1661998,-430.2058],[8.090598,0.1661998,-430.7903],[8.337326,0.1661998,-432.1758],[8.584055,0.1661998,-434.3371],[8.830783,0.1661998,-437.2505],[9.077511,0.1661998,-440.894],[9.324239,0.1661998,-445.2464],[9.570967,0.1661998,-450.288],[9.817696,0.1661998,-456.0002],[10.06442,0.1661998,-462.3651],[2.909307,0.1715979,-667.2203],[3.156036,0.1715979,-640.4683],[3.402764,0.1715979,-615.9854],[3.649492,0.1715979,-593.5821],[3.89622,0.1715979,-573.0978],[4.142948,0.1715979,-554.3949],[4.389677,0.1715979,-537.354],[4.636405,0.1715979,-521.8707],[4.883132,0.1715979,-507.853],[5.129861,0.1715979,-495.2189],[5.376589,0.1715979,-483.8952],[5.623317,0.1715979,-473.816],[5.870045,0.1715979,-464.9217],[6.116773,0.1715979,-457.1582],[6.363502,0.1715979,-450.476],[6.610229,0.1715979,-444.8298],[6.856958,0.1715979,-440.178],[7.103686,0.1715979,-436.482],[7.350414,0.1715979,-433.7064],[7.597142,0.1715979,-431.8179],[7.84387,0.1715979,-430.786],[8.090598,0.1715979,-430.5819],[8.337326,0.1715979,-431.1787],[8.584055,0.1715979,-432.5514],[8.830783,0.1715979,-434.6762],[9.077511,0.1715979,-437.531],[9.324239,0.1715979,-441.0948],[9.570967,0.1715979,-445.3478],[9.817696,0.1715979,-450.2714],[10.06442,0.1715979,-455.8476],[2.909307,0.176996,-683.8611],[3.156036,0.176996,-656.3448],[3.402764,0.176996,-631.0978],[3.649492,0.176996,-607.9303],[3.89622,0.176996,-586.6818],[4.142948,0.176996,-567.2147],[4.389677,0.176996,-549.4096],[4.636405,0.176996,-533.1622],[4.883132,0.176996,-518.3802],[5.129861,0.176996,-504.9819],[5.376589,0.176996,-492.894],[5.623317,0.176996,-482.0506],[5.870045,0.176996,-472.3922],[6.116773,0.176996,-463.8644],[6.363502,0.176996,-456.4181],[6.610229,0.176996,-450.0077],[6.856958,0.176996,-444.5916],[7.103686,0.176996,-440.1314],[7.350414,0.176996,-436.5916],[7.597142,0.176996,-433.939],[7.84387,0.176996,-432.1429],[8.090598,0.176996,-431.1746],[8.337326,0.176996,-431.0072],[8.584055,0.176996,-431.6157],[8.830783,0.176996,-432.9763],[9.077511,0.176996,-435.0669],[9.324239,0.176996,-437.8665],[9.570967,0.176996,-441.3553],[9.817696,0.176996,-445.5146],[10.06442,0.176996,-450.3267],[2.909307,0.1823941,-700.7726],[3.156036,0.1823941,-672.5151],[3.402764,0.1823941,-646.5269],[3.649492,0.1823941,-622.6181],[3.89622,0.1823941,-600.6284],[4.142948,0.1823941,-580.42],[4.389677,0.1823941,-561.8737],[4.636405,0.1823941,-544.8851],[4.883132,0.1823941,-529.3619],[5.129861,0.1823941,-515.2223],[5.376589,0.1823941,-502.3932],[5.623317,0.1823941,-490.8086],[5.870045,0.1823941,-480.4088],[6.116773,0.1823941,-471.1399],[6.363502,0.1823941,-462.9523],[6.610229,0.1823941,-455.8006],[6.856958,0.1823941,-449.6433],[7.103686,0.1823941,-444.442],[7.350414,0.1823941,-440.1609],[7.597142,0.1823941,-436.767],[7.84387,0.1823941,-434.2296],[8.090598,0.1823941,-432.5201],[8.337326,0.1823941,-431.6115],[8.584055,0.1823941,-431.4787],[8.830783,0.1823941,-432.0981],[9.077511,0.1823941,-433.4475],[9.324239,0.1823941,-435.5059],[9.570967,0.1823941,-438.2534],[9.817696,0.1823941,-441.6715],[10.06442,0.1823941,-445.7423],[2.909307,0.1877922,-717.9391],[3.156036,0.1877922,-688.962],[3.402764,0.1877922,-662.2541],[3.649492,0.1877922,-637.6257],[3.89622,0.1877922,-614.9164],[4.142948,0.1877922,-593.9885],[4.389677,0.1877922,-574.7225],[4.636405,0.1877922,-557.0142],[4.883132,0.1877922,-540.7714],[5.129861,0.1877922,-525.9122],[5.376589,0.1877922,-512.3635],[5.623317,0.1877922,-500.0593],[5.870045,0.1877922,-488.9399],[6.116773,0.1877922,-478.9514],[6.363502,0.1877922,-470.0441],[6.610229,0.1877922,-462.1729],[6.856958,0.1877922,-455.296],[7.103686,0.1877922,-449.3749],[7.350414,0.1877922,-444.3742],[7.597142,0.1877922,-440.2608],[7.84387,0.1877922,-437.0038],[8.090598,0.1877922,-434.5746],[8.337326,0.1877922,-432.9464],[8.584055,0.1877922,-432.094],[8.830783,0.1877922,-431.9938],[9.077511,0.1877922,-432.6236],[9.324239,0.1877922,-433.9623],[9.570967,0.1877922,-435.9903],[9.817696,0.1877922,-438.6887],[10.06442,0.1877922,-442.0399],[2.909307,0.1931904,-735.3461],[3.156036,0.1931904,-705.6698],[3.402764,0.1931904,-678.2626],[3.649492,0.1931904,-652.9351],[3.89622,0.1931904,-629.5265],[4.142948,0.1931904,-607.8994],[4.389677,0.1931904,-587.9342],[4.636405,0.1931904,-569.5267],[4.883132,0.1931904,-552.5846],[5.129861,0.1931904,-537.0262],[5.376589,0.1931904,-522.7783],[5.623317,0.1931904,-509.7748],[5.870045,0.1931904,-497.9562],[6.116773,0.1931904,-487.2685],[6.363502,0.1931904,-477.662],[6.610229,0.1931904,-469.0915],[6.856958,0.1931904,-461.5154],[7.103686,0.1931904,-454.8952],[7.350414,0.1931904,-449.1952],[7.597142,0.1931904,-444.3825],[7.84387,0.1931904,-440.4263],[8.090598,0.1931904,-437.2979],[8.337326,0.1931904,-434.9705],[8.584055,0.1931904,-433.4189],[8.830783,0.1931904,-432.6195],[9.077511,0.1931904,-432.55],[9.324239,0.1931904,-433.1895],[9.570967,0.1931904,-434.5182],[9.817696,0.1931904,-436.5175],[10.06442,0.1931904,-439.1695],[2.909307,0.1985885,-752.9803],[3.156036,0.1985885,-722.624],[3.402764,0.1985885,-694.5369],[3.649492,0.1985885,-668.5294],[3.89622,0.1985885,-644.4409],[4.142948,0.1985885,-622.1338],[4.389677,0.1985885,-601.4887],[4.636405,0.1985885,-582.4012],[4.883132,0.1985885,-564.7792],[5.129861,0.1985885,-548.5409],[5.376589,0.1985885,-533.613],[5.623317,0.1985885,-519.9296],[5.870045,0.1985885,-507.4311],[6.116773,0.1985885,-496.0633],[6.363502,0.1985885,-485.7769],[6.610229,0.1985885,-476.5265],[6.856958,0.1985885,-468.2704],[7.103686,0.1985885,-460.9702],[7.350414,0.1985885,-454.5903],[7.597142,0.1985885,-449.0977],[7.84387,0.1985885,-444.4615],[8.090598,0.1985885,-440.6532],[8.337326,0.1985885,-437.6458],[8.584055,0.1985885,-435.4142],[8.830783,0.1985885,-433.9349],[9.077511,0.1985885,-433.1854],[9.324239,0.1985885,-433.145],[9.570967,0.1985885,-433.7938],[9.817696,0.1985885,-435.1131],[10.06442,0.1985885,-437.0851],[2.909307,0.2039866,-770.8296],[3.156036,0.2039866,-739.8116],[3.402764,0.2039866,-711.0628],[3.649492,0.2039866,-684.3936],[3.89622,0.2039866,-659.6433],[4.142948,0.2039866,-636.6745],[4.389677,0.2039866,-615.3677],[4.636405,0.2039866,-595.6185],[4.883132,0.2039866,-577.3348],[5.129861,0.2039866,-560.4347],[5.376589,0.2039866,-544.8451],[5.623317,0.2039866,-530.4999],[5.870045,0.2039866,-517.3397],[6.116773,0.2039866,-505.3103],[6.363502,0.2039866,-494.3622],[6.610229,0.2039866,-484.45],[6.856958,0.2039866,-475.5322],[7.103686,0.2039866,-467.5703],[7.350414,0.2039866,-460.5287],[7.597142,0.2039866,-454.3744],[7.84387,0.2039866,-449.0765],[8.090598,0.2039866,-444.6064],[8.337326,0.2039866,-440.9374],[8.584055,0.2039866,-438.0441],[8.830783,0.2039866,-435.903],[9.077511,0.2039866,-434.4919],[9.324239,0.2039866,-433.7897],[9.570967,0.2039866,-433.7768],[9.817696,0.2039866,-434.4343],[10.06442,0.2039866,-435.7447],[2.909307,0.2093847,-788.8826],[3.156036,0.2093847,-757.2202],[3.402764,0.2093847,-727.827],[3.649492,0.2093847,-700.5133],[3.89622,0.2093847,-675.1187],[4.142948,0.2093847,-651.5054],[4.389677,0.2093847,-629.5541],[4.636405,0.2093847,-609.1605],[4.883132,0.2093847,-590.2324],[5.129861,0.2093847,-572.6879],[5.376589,0.2093847,-556.4539],[5.623317,0.2093847,-541.4643],[5.870045,0.2093847,-527.6597],[6.116773,0.2093847,-514.9858],[6.363502,0.2093847,-503.3932],[6.610229,0.2093847,-492.8366],[6.856958,0.2093847,-483.2744],[7.103686,0.2093847,-474.6681],[7.350414,0.2093847,-466.9821],[7.597142,0.2093847,-460.1833],[7.84387,0.2093847,-454.241],[8.090598,0.2093847,-449.1265],[8.337326,0.2093847,-444.813],[8.584055,0.2093847,-441.2753],[8.830783,0.2093847,-438.4897],[9.077511,0.2093847,-436.4342],[9.324239,0.2093847,-435.0876],[9.570967,0.2093847,-434.4302],[9.817696,0.2093847,-434.4434],[10.06442,0.2093847,-435.1093],[2.909307,0.2147828,-807.1292],[3.156036,0.2147828,-774.8387],[3.402764,0.2147828,-744.8174],[3.649492,0.2147828,-716.8757],[3.89622,0.2147828,-690.8531],[4.142948,0.2147828,-666.6118],[4.389677,0.2147828,-644.0325],[4.636405,0.2147828,-623.0109],[4.883132,0.2147828,-603.4547],[5.129861,0.2147828,-585.2822],[5.376589,0.2147828,-568.4201],[5.623317,0.2147828,-552.8025],[5.870045,0.2147828,-538.3699],[6.116773,0.2147828,-525.0679],[6.363502,0.2147828,-512.8474],[6.610229,0.2147828,-501.6628],[6.856958,0.2147828,-491.4725],[7.103686,0.2147828,-482.2382],[7.350414,0.2147828,-473.9241],[7.597142,0.2147828,-466.4973],[7.84387,0.2147828,-459.927],[8.090598,0.2147828,-454.1845],[8.337326,0.2147828,-449.2429],[8.584055,0.2147828,-445.0772],[8.830783,0.2147828,-441.6636],[9.077511,0.2147828,-438.98],[9.324239,0.2147828,-437.0054],[9.570967,0.2147828,-435.7201],[9.817696,0.2147828,-435.1052],[10.06442,0.2147828,-435.143]],"normals":[[-0.1733823,-0.9846532,0.01991898],[-0.006314733,-0.9999165,0.0112765],[0.01110619,-0.9999374,0.001380169],[0.01391446,-0.9999028,0.0008538322],[0.01498371,-0.9998875,0.0006270157],[0.01538959,-0.9998815,0.0004973433],[0.01548463,-0.9998801,0.0004127405],[0.01541807,-0.9998811,0.0003529908],[0.01526284,-0.9998835,0.000308472],[0.01505806,-0.9998866,0.0002739868],[0.01482599,-0.9998901,0.0002464715],[0.01457999,-0.9998938,0.0002239995],[0.01432824,-0.9998974,0.0002052961],[0.01407576,-0.9999009,0.0001894841],[0.01382584,-0.9999044,0.0001759393],[0.01358046,-0.9999079,0.0001642058],[0.01334088,-0.999911,0.0001539424],[0.01310785,-0.9999142,0.0001448887],[0.01288171,-0.999917,0.0001368423],[0.01266267,-0.9999199,0.0001296437],[0.01245072,-0.9999226,0.0001231656],[0.01224578,-0.999925,0.0001173048],[0.01204765,-0.9999275,0.000111977],[0.01185619,-0.9999298,0.0001071126],[0.01167118,-0.9999319,0.0001026535],[0.01149233,-0.999934,9.855127e-05],[0.01131941,-0.9999359,9.476446e-05],[0.01115215,-0.9999378,9.125807e-05],[0.01099036,-0.9999397,8.800209e-05],[0.0109173,-0.9999404,8.64332e-05],[-0.4404045,-0.8953233,0.06663439],[-0.3564373,-0.9337018,0.03396469],[0.003059807,-0.9998619,0.01634069],[0.01267542,-0.9999191,0.001198615],[0.01463138,-0.9998927,0.0007852869],[0.01537443,-0.9998817,0.0005936368],[0.01562778,-0.9998778,0.0004793615],[0.01564473,-0.9998776,0.0004027162],[0.01553668,-0.9998793,0.000347511],[0.01535956,-0.999882,0.0003057657],[0.0151439,-0.9998854,0.000273054],[0.01490745,-0.9998889,0.0002467107],[0.01466088,-0.9998925,0.0002250309],[0.01441074,-0.9998962,0.0002068713],[0.01416126,-0.9998997,0.0001914355],[0.01391504,-0.9999031,0.0001781513],[0.01367375,-0.9999065,0.0001665967],[0.01343839,-0.9999097,0.0001564538],[0.01320951,-0.9999128,0.000147478],[0.01298744,-0.9999157,0.0001394784],[0.01277229,-0.9999185,0.0001323037],[0.01256402,-0.9999211,0.0001258323],[0.01236251,-0.9999236,0.0001199656],[0.01216763,-0.999926,0.0001146222],[0.0119792,-0.9999283,0.0001097353],[0.01179695,-0.9999305,0.0001052485],[0.01162066,-0.9999325,0.0001011147],[0.01145008,-0.9999344,9.729367e-05],[0.01128502,-0.9999364,9.375119e-05],[0.0112041,-0.9999373,9.204564e-05],[-0.3665036,0.9301718,0.02133925],[-0.667501,0.7352415,0.1177377],[-0.6590974,-0.7485871,0.07216579],[0.01219322,-0.9995008,0.02914364],[0.01333859,-0.9999102,0.001329768],[0.01513547,-0.9998852,0.000862965],[0.01582004,-0.9998747,0.0006500816],[0.01604743,-0.9998712,0.0005239324],[0.01605271,-0.9998711,0.0004396148],[0.0159401,-0.999873,0.0003790199],[0.01576198,-0.9998757,0.0003332722],[0.01554719,-0.9998792,0.000297467],[0.01531248,-0.9998828,0.0002686595],[0.01506792,-0.9998865,0.0002449696],[0.01481988,-0.9998901,0.0002251386],[0.01457235,-0.9998938,0.000208291],[0.01432787,-0.9998974,0.000193798],[0.01408803,-0.9999008,0.0001811969],[0.01385381,-0.999904,0.0001701389],[0.01362582,-0.9999072,0.0001603563],[0.01340435,-0.9999102,0.0001516398],[0.01318955,-0.999913,0.0001438241],[0.01298135,-0.9999158,0.0001367759],[0.01277973,-0.9999183,0.0001303873],[0.01258457,-0.9999209,0.0001245699],[0.01239562,-0.9999232,0.00011925],[0.01221269,-0.9999255,0.0001143665],[0.01203556,-0.9999276,0.0001098678],[0.01186406,-0.9999297,0.0001057099],[0.01177997,-0.9999307,0.0001037112],[-0.0415815,0.9991337,0.001706968],[-0.1602079,0.9870342,0.009851255],[-0.2329365,0.9708249,0.05691928],[-0.9315635,-0.3444519,0.1163714],[0.01058928,-0.9998778,0.01149942],[0.01403514,-0.9999005,0.001467471],[0.01564566,-0.9998772,0.0009427461],[0.01626107,-0.9998676,0.0007076226],[0.01645588,-0.9998645,0.0005691863],[0.01644498,-0.9998647,0.0004769826],[0.01632438,-0.9998667,0.0004108718],[0.01614275,-0.9998696,0.0003610406],[0.01592691,-0.9998732,0.0003220867],[0.0156924,-0.9998769,0.0002907756],[0.01544882,-0.9998807,0.0002650467],[0.01520204,-0.9998845,0.0002435223],[0.01495584,-0.9998882,0.0002252453],[0.01471265,-0.9998918,0.00020953],[0.01447394,-0.9998952,0.0001958713],[0.01424071,-0.9998987,0.0001838894],[0.01401352,-0.9999018,0.0001732924],[0.01379265,-0.9999049,0.0001638529],[0.01357819,-0.9999079,0.0001553907],[0.01337022,-0.9999107,0.0001477612],[0.01316866,-0.9999134,0.000140847],[0.01297332,-0.9999158,0.000134552],[0.01278406,-0.9999183,0.0001287963],[0.01260067,-0.9999207,0.0001235135],[0.01242298,-0.9999229,0.0001186475],[0.01233587,-0.999924,0.0001163123],[-0.03489898,0.9993902,0.001108186],[-0.03704324,0.9993126,0.001446359],[-0.1097787,0.993929,0.007334975],[-0.1250741,0.9918211,0.02544901],[-0.9750287,-0.173824,0.1382183],[0.01092479,-0.9999043,0.008479653],[0.01476818,-0.9998897,0.001612345],[0.01616383,-0.9998689,0.001024729],[0.01669988,-0.9998603,0.0007662963],[0.01685614,-0.9998578,0.0006151412],[0.01682483,-0.9998584,0.0005148297],[0.01669317,-0.9998606,0.000443073],[0.01650571,-0.9998637,0.0003890751],[0.01628696,-0.9998673,0.0003469162],[0.01605138,-0.9998712,0.0003130616],[0.01580765,-0.9998751,0.0002852638],[0.01556129,-0.9998789,0.0002620234],[0.01531584,-0.9998827,0.0002422999],[0.01507344,-0.9998864,0.0002253484],[0.01483556,-0.9998899,0.0002106211],[0.01460309,-0.9998934,0.0001977059],[0.01437653,-0.9998967,0.000186287],[0.01415615,-0.9998998,0.0001761181],[0.01394208,-0.9999029,0.0001670041],[0.01373438,-0.9999058,0.0001587887],[0.01353288,-0.9999084,0.0001513449],[0.01333749,-0.9999111,0.0001445689],[0.01314804,-0.9999136,0.0001383744],[0.01296437,-0.999916,0.0001326897],[0.01287432,-0.9999171,0.0001299665],[-0.03286643,0.9994595,0.0008619255],[-0.03318558,0.9994488,0.001014286],[-0.03554335,0.999367,0.001512567],[-0.08119119,0.9966813,0.005854147],[-0.08704177,0.9960423,0.01798729],[-0.97961,-0.1190134,0.1618638],[0.01156125,-0.9999058,0.0073926],[0.01554139,-0.9998777,0.001765108],[0.01669141,-0.9998602,0.001109007],[0.01713837,-0.9998528,0.0008261366],[0.01725041,-0.9998511,0.000661813],[0.01719479,-0.9998521,0.000553165],[0.01704931,-0.9998546,0.0004756291],[0.01685386,-0.999858,0.0004173799],[0.01663059,-0.9998617,0.0003719582],[0.01639254,-0.9998657,0.0003355188],[0.01614768,-0.9998696,0.0003056224],[0.01590101,-0.9998736,0.0002806433],[0.01565562,-0.9998775,0.0002594555],[0.01541356,-0.9998812,0.0002412538],[0.01517614,-0.9998848,0.0002254464],[0.01494417,-0.9998884,0.0002115889],[0.01471803,-0.9998918,0.0001993405],[0.01449804,-0.999895,0.0001884356],[0.01428434,-0.999898,0.0001786644],[0.01407682,-0.999901,0.0001698584],[0.01387543,-0.9999037,0.0001618812],[0.01368004,-0.9999064,0.0001546207],[0.0134905,-0.999909,0.0001479844],[0.01339759,-0.9999103,0.0001448118],[-0.03209223,0.9994847,0.0007238006],[-0.03192699,0.99949,0.0008156215],[-0.03211549,0.9994836,0.001065453],[-0.03415851,0.9994152,0.001576298],[-0.06542391,0.9978446,0.005077053],[-0.06796914,0.9975797,0.01466024],[-0.9773641,-0.09092392,0.1910292],[0.01233513,-0.9998997,0.006952933],[0.01635943,-0.9998643,0.001926617],[0.0172299,-0.9998509,0.001195694],[0.01757807,-0.9998452,0.0008871822],[0.01764049,-0.9998443,0.0007092212],[0.01755707,-0.9998457,0.0005919996],[0.01739511,-0.9998487,0.0005085469],[0.01718962,-0.9998522,0.0004459586],[0.01696028,-0.9998561,0.0003972154],[0.01671862,-0.9998603,0.0003581499],[0.01647167,-0.9998643,0.0003261239],[0.01622383,-0.9998684,0.0002993828],[0.0159779,-0.9998723,0.0002767128],[0.01573575,-0.9998763,0.0002572468],[0.01549843,-0.9998799,0.0002403481],[0.01526659,-0.9998835,0.0002255388],[0.01504073,-0.9998869,0.0002124531],[0.01482106,-0.9998902,0.0002008061],[0.01460752,-0.9998933,0.0001903721],[0.01440017,-0.9998963,0.0001809709],[0.01419885,-0.9998993,0.0001724562],[0.01400348,-0.999902,0.0001647078],[0.01390775,-0.9999034,0.0001610117],[-0.03184158,0.9994928,0.0006346626],[-0.0314744,0.9995044,0.0006978182],[-0.03099347,0.9995192,0.0008565079],[-0.03112753,0.9995149,0.00111539],[-0.03287224,0.9994583,0.001637746],[-0.05556508,0.9984444,0.004631756],[-0.05627217,0.9983333,0.01281051],[-0.9709981,-0.07372162,0.2274372],[0.01320791,-0.9998895,0.006818702],[0.01722731,-0.9998494,0.002097878],[0.01778057,-0.9998411,0.001284907],[0.01802015,-0.9998372,0.0009494702],[0.01802794,-0.9998373,0.0007573829],[0.01791327,-0.9998394,0.0006313428],[0.01773236,-0.9998427,0.0005418319],[0.01751508,-0.9998466,0.0004748162],[0.01727824,-0.9998506,0.0004226915],[0.0170318,-0.9998549,0.0003809573],[0.01678178,-0.9998592,0.0003467707],[0.01653206,-0.9998633,0.0003182441],[0.01628508,-0.9998674,0.0002940737],[0.0160423,-0.9998714,0.0002733288],[0.01580463,-0.9998751,0.000255327],[0.01557276,-0.9998787,0.0002395567],[0.01534697,-0.9998823,0.000225626],[0.01512732,-0.9998856,0.00021323],[0.0149139,-0.9998888,0.0002021279],[0.01470657,-0.9998918,0.0001921268],[0.01450532,-0.9998949,0.0001830704],[0.01440673,-0.9998962,0.0001787608],[-0.0318547,0.9994924,0.0005721606],[-0.03138298,0.9995073,0.0006191117],[-0.03059925,0.9995315,0.0007318093],[-0.03013731,0.9995454,0.0008966585],[-0.0302082,0.999543,0.001164141],[-0.03167047,0.9994971,0.001697026],[-0.04873248,0.9988024,0.004355338],[-0.04821124,0.9987691,0.01165826],[-0.959832,-0.06211196,0.2736143],[0.01416968,-0.999876,0.006864647],[0.01815088,-0.9998327,0.002280026],[0.01834447,-0.9998308,0.001376766],[0.0184658,-0.9998291,0.001013043],[0.01841387,-0.9998301,0.0008063175],[0.01826483,-0.999833,0.0006712065],[0.01806275,-0.9998367,0.0005754927],[0.01783188,-0.999841,0.0005039573],[0.01758617,-0.9998453,0.0004483893],[0.01733381,-0.9998497,0.0004039432],[0.0170799,-0.9998541,0.0003675642],[0.01682765,-0.9998584,0.0003372282],[0.01657896,-0.9998626,0.0003115387],[0.01633506,-0.9998666,0.0002895004],[0.01609681,-0.9998704,0.0002703841],[0.01586458,-0.9998741,0.0002536431],[0.01563852,-0.9998777,0.0002388593],[0.01541877,-0.9998811,0.0002257078],[0.01520527,-0.9998844,0.000213932],[0.01499796,-0.9998875,0.0002033262],[0.01489646,-0.999889,0.000198293],[-0.03201561,0.9994872,0.0005258295],[-0.03148216,0.9995043,0.0005625835],[-0.03053358,0.9995335,0.000648194],[-0.02980182,0.9995556,0.0007653105],[-0.02934523,0.9995689,0.0009360958],[-0.02934701,0.9995686,0.001211752],[-0.03054275,0.999532,0.001754283],[-0.0436473,0.9990383,0.00417496],[-0.04222779,0.9990487,0.01089563],[-0.9412521,-0.05366032,0.3334144],[0.01522084,-0.9998594,0.007034805],[0.01913793,-0.9998138,0.002474523],[0.01892287,-0.9998199,0.001471407],[0.01891579,-0.9998206,0.001077942],[0.01879941,-0.9998229,0.0008560438],[0.01861291,-0.9998266,0.0007115997],[0.01838743,-0.9998308,0.0006095336],[0.01814139,-0.9998353,0.0005333852],[0.01788548,-0.99984,0.0004743118],[0.01762622,-0.9998447,0.0004271094],[0.01736763,-0.9998491,0.0003885059],[0.01711212,-0.9998536,0.0003563364],[0.01686118,-0.9998578,0.0003291094],[0.01661582,-0.999862,0.0003057629],[0.01637653,-0.9998659,0.0002855197],[0.01614355,-0.9998697,0.000267798],[0.01591707,-0.9998733,0.0002521533],[0.015697,-0.9998768,0.0002382398],[0.01548331,-0.9998802,0.0002257845],[0.01537876,-0.9998817,0.0002198911],[-0.03226487,0.9994793,0.0004900799],[-0.03169146,0.9994976,0.0005199331],[-0.03064208,0.9995303,0.0005879992],[-0.02976372,0.9995568,0.000676927],[-0.0290684,0.9995771,0.0007983342],[-0.02860675,0.9995903,0.0009748394],[-0.02853582,0.999592,0.001258262],[-0.0294802,0.9995638,0.001809623],[-0.0396577,0.9992051,0.004053008],[-0.03755139,0.9992408,0.0103748],[-0.9097114,-0.04695949,0.4125772],[0.01636896,-0.9998394,0.007303543],[0.02019704,-0.9997925,0.002683054],[0.0195169,-0.9998083,0.001568982],[0.01937115,-0.9998117,0.001144216],[0.01918544,-0.9998156,0.0009065851],[0.01895849,-0.99982,0.0007525359],[0.0187076,-0.9998248,0.0006439632],[0.01844475,-0.9998298,0.0005631058],[0.01817747,-0.9998347,0.0005004626],[0.01791037,-0.9998396,0.0004504592],[0.01764625,-0.9998443,0.000409598],[0.0173868,-0.9998488,0.0003755698],[0.01713312,-0.9998532,0.0003467857],[0.0168858,-0.9998574,0.0003221159],[0.01664511,-0.9998614,0.0003007344],[0.0164112,-0.9998653,0.0002820227],[0.01618395,-0.9998691,0.0002655087],[0.01596341,-0.9998726,0.0002508262],[0.01585563,-0.9998743,0.0002439025],[-0.03256885,0.9994694,0.0004616408],[-0.0319677,0.9994888,0.0004865693],[-0.0308514,0.9995239,0.0005425034],[-0.02988371,0.9995532,0.0006131506],[-0.02905907,0.9995775,0.0007053154],[-0.02838823,0.9995967,0.0008308897],[-0.02791398,0.9996098,0.001012909],[-0.02776834,0.9996136,0.001303719],[-0.02847561,0.9995928,0.001863166],[-0.03640631,0.9993293,0.003969145],[-0.03375597,0.9993799,0.01001781],[-0.8537433,-0.04087403,0.5190873],[0.01762461,-0.9998154,0.00765938],[0.02133911,-0.9997681,0.002907709],[0.02012778,-0.9997961,0.001669634],[0.01983256,-0.9998026,0.001211911],[0.01957266,-0.9998081,0.0009579602],[0.01930244,-0.9998134,0.0007940245],[0.01902408,-0.9998188,0.000678788],[0.01874297,-0.9998242,0.000593123],[0.01846317,-0.9998294,0.0005268441],[0.01818727,-0.9998345,0.0004739937],[0.01791685,-0.9998395,0.0004308419],[0.01765292,-0.9998441,0.0003949301],[0.01739602,-0.9998487,0.00036457],[0.01714632,-0.999853,0.000338562],[0.01690388,-0.9998571,0.0003160295],[0.01666861,-0.9998611,0.0002963176],[0.01644051,-0.9998649,0.0002789266],[0.01632921,-0.9998667,0.0002707569],[-0.03290742,0.9994584,0.0004384701],[-0.0322859,0.9994786,0.0004597385],[-0.03112225,0.9995155,0.0005068686],[-0.03009544,0.9995469,0.0005648672],[-0.02919236,0.9995736,0.0006380418],[-0.02840869,0.9995961,0.0007333665],[-0.02775315,0.9996145,0.0008629872],[-0.0272605,0.9996278,0.00105032],[-0.02703914,0.9996336,0.001348154],[-0.02752276,0.9996194,0.001914994],[-0.03367636,0.9994252,0.003910942],[-0.0305871,0.9994842,0.009779655],[-0.7498045,-0.03405491,0.6607825],[0.01900242,-0.9997867,0.008100312],[0.02257804,-0.9997401,0.003151136],[0.0207565,-0.999783,0.001773517],[0.02030051,-0.9997932,0.001281064],[0.01996182,-0.9998003,0.00101019],[0.01964537,-0.9998067,0.0008360768],[0.01933759,-0.9998127,0.0007140119],[0.01903686,-0.9998186,0.0006234398],[0.01874342,-0.9998242,0.0005534594],[0.01845782,-0.9998296,0.0004977152],[0.01818047,-0.9998347,0.0004522389],[0.0179115,-0.9998395,0.0004144185],[0.0176508,-0.9998443,0.0003824625],[0.01739828,-0.9998487,0.0003551002],[0.01715373,-0.9998529,0.0003314047],[0.01691698,-0.9998569,0.0003106827],[0.01680168,-0.9998588,0.0003009905],[-0.03326781,0.9994464,0.0004192234],[-0.03263068,0.9994674,0.0004376838],[-0.0314318,0.9995058,0.0004781836],[-0.03036335,0.9995388,0.0005270031],[-0.02940855,0.9995673,0.0005870289],[-0.02855675,0.9995919,0.0006626781],[-0.0278041,0.9996132,0.0007610864],[-0.02715672,0.9996309,0.0008946383],[-0.0266413,0.9996445,0.001087095],[-0.02634401,0.999652,0.001391609],[-0.02661692,0.9996439,0.001965215],[-0.03133264,0.9995015,0.003870917],[-0.02788297,0.9995648,0.009634354],[-0.5555333,-0.02451123,0.8311328],[0.02052295,-0.9997521,0.008630321],[0.02393088,-0.9997078,0.003416613],[0.02140461,-0.9997692,0.001880842],[0.02077595,-0.9997832,0.001351741],[0.02035329,-0.9997923,0.001063294],[0.01998797,-0.9997999,0.0008787059],[0.01964902,-0.9998067,0.0007496474],[0.01932716,-0.999813,0.000654063],[0.019019,-0.9998189,0.0005803119],[0.01872296,-0.9998246,0.0005216268],[0.01843798,-0.9998299,0.0004737911],[0.01816329,-0.999835,0.0004340359],[0.01789835,-0.9998398,0.0004004643],[0.01764262,-0.9998444,0.0003717326],[0.01739571,-0.9998487,0.0003468612],[0.0172758,-0.9998507,0.0003352865],[-0.03364165,0.9994339,0.0004029793],[-0.03299213,0.9994556,0.0004192286],[-0.03176595,0.9994953,0.0004545863],[-0.03066658,0.9995296,0.000496494],[-0.02967543,0.9995595,0.0005469748],[-0.02877897,0.9995857,0.0006089903],[-0.02796809,0.9996086,0.0006870631],[-0.02723861,0.9996287,0.0007884811],[-0.02659358,0.9996459,0.0009258504],[-0.02605208,0.99966,0.001123247],[-0.02567942,0.9996692,0.001434115],[-0.02575388,0.9996663,0.002013912],[-0.02928331,0.9995638,0.003843967],[-0.02553373,0.9996281,0.009566114],[-0.2334967,-0.01043484,0.9723016],[0.02221267,-0.9997104,0.00925927],[0.02542051,-0.99967,0.003708425],[0.02207305,-0.9997544,0.001991774],[0.02125935,-0.9997731,0.001423994],[0.02074794,-0.9997841,0.001117307],[0.02033081,-0.9997929,0.0009219242],[0.01995872,-0.9998005,0.0007856977],[0.01961452,-0.9998074,0.0006849971],[0.01929069,-0.9998138,0.0006074056],[0.01898334,-0.9998196,0.0005457301],[0.01869,-0.9998252,0.0004955003],[0.01840913,-0.9998305,0.0004537845],[0.01813949,-0.9998354,0.0004185773],[0.01788026,-0.9998401,0.0003884604],[0.01775484,-0.9998423,0.0003745258],[-0.03402327,0.999421,0.0003890833],[-0.03336357,0.9994433,0.0004035543],[-0.03211542,0.9994841,0.0004348261],[-0.03099207,0.9995195,0.000471374],[-0.02997409,0.9995506,0.0005146683],[-0.02904648,0.999578,0.000566784],[-0.0281977,0.9996022,0.0006307534],[-0.02741941,0.9996239,0.0007111995],[-0.0267066,0.999643,0.0008155535],[-0.02605954,0.99966,0.0009566316],[-0.02548951,0.9996745,0.001158792],[-0.02504232,0.9996853,0.001475701],[-0.02492923,0.9996872,0.002061136],[-0.02746486,0.9996155,0.003826541],[-0.02346465,0.9996789,0.009566952],[0.1529871,0.006033534,0.9882098],[0.02410645,-0.9996594,0.01000389],[0.02707644,-0.9996252,0.004032254],[0.02276359,-0.9997387,0.002106536],[0.02175111,-0.9997624,0.001497865],[0.02114585,-0.9997758,0.001172235],[0.02067434,-0.9997858,0.0009657423],[0.02026733,-0.9997943,0.0008221725],[0.01989946,-0.9998017,0.0007162456],[0.01955898,-0.9998085,0.0006347421],[0.01923951,-0.9998147,0.0005700275],[0.01893722,-0.9998206,0.0005173676],[0.01864959,-0.999826,0.0004736641],[0.01837487,-0.9998311,0.0004368006],[0.01824265,-0.9998335,0.0004198614],[-0.03440881,0.9994078,0.00037706],[-0.0337405,0.9994306,0.000390074],[-0.03247415,0.9994725,0.0004180343],[-0.03133164,0.999509,0.0004503265],[-0.03029298,0.9995409,0.0004880498],[-0.02934241,0.9995693,0.000532711],[-0.02846731,0.9995946,0.0005864348],[-0.02765758,0.9996173,0.0006523226],[-0.02690512,0.9996378,0.0007350933],[-0.02620396,0.9996563,0.0008423146],[-0.02555117,0.9996731,0.0009869935],[-0.02495066,0.999688,0.001193744],[-0.02443018,0.9997004,0.001516399],[-0.02414046,0.9997064,0.002106993],[-0.02583348,0.999659,0.003816444],[-0.02162038,0.9997199,0.009635058],[0.4616211,0.01963062,0.88686],[0.02625278,-0.9995961,0.01088869],[0.02893877,-0.9995715,0.004395674],[0.02347731,-0.9997219,0.002225363],[0.02225212,-0.9997512,0.001573432],[0.02154787,-0.9997671,0.001228119],[0.02101896,-0.9997786,0.001010176],[0.02057527,-0.999788,0.0008590778],[0.02018257,-0.9997961,0.0007478148],[0.0198244,-0.9998032,0.0006623272],[0.01949207,-0.9998099,0.0005945226],[0.01918017,-0.9998159,0.0005393957],[0.01888535,-0.9998215,0.0004936772],[0.01874448,-0.9998242,0.0004728414],[-0.03479549,0.9993944,0.0003665541],[-0.03411977,0.9994177,0.0003783563],[-0.03283802,0.9994607,0.0004035867],[-0.03167969,0.9994981,0.0004324317],[-0.03062447,0.9995309,0.0004657324],[-0.02965619,0.9995601,0.0005046147],[-0.02876184,0.9995862,0.0005506224],[-0.02793051,0.9996098,0.0006059289],[-0.02715282,0.9996311,0.0006737006],[-0.02642072,0.9996507,0.0007587484],[-0.02572696,0.9996687,0.0008687677],[-0.02506549,0.9996853,0.001016946],[-0.0244334,0.9997007,0.001228126],[-0.02384106,0.9997146,0.00155625],[-0.02338434,0.9997243,0.002151532],[-0.02435505,0.9996961,0.003811901],[-0.01996024,0.9997531,0.009773142],[0.6519807,0.02907502,0.757678],[0.02871723,-0.9995162,0.0119492],[0.03106259,-0.9995059,0.004809166],[0.02421637,-0.999704,0.002348518],[0.02276293,-0.9997395,0.001650754],[0.02195407,-0.9997582,0.00128498],[0.0213651,-0.9997712,0.001055238],[0.02088312,-0.9997815,0.0008964242],[0.02046415,-0.9997904,0.0007797099],[0.02008739,-0.9997981,0.0006901625],[0.01974145,-0.999805,0.0006192168],[0.01941946,-0.9998114,0.0005615866],[0.01926717,-0.9998143,0.0005355844],[-0.03518142,0.9993809,0.0003572953],[-0.03449922,0.9994047,0.0003680763],[-0.0332041,0.9994486,0.0003910231],[-0.03203231,0.9994868,0.000417027],[-0.03096338,0.9995204,0.0004467461],[-0.02998105,0.9995504,0.0004810429],[-0.02907198,0.9995772,0.0005210699],[-0.02822489,0.9996015,0.0005684049],[-0.02743004,0.9996236,0.0006252676],[-0.02667868,0.9996439,0.0006948888],[-0.02596234,0.9996627,0.0007821658],[-0.02527259,0.9996802,0.0008949174],[-0.02460025,0.9996969,0.001046497],[-0.02393543,0.9997127,0.001261945],[-0.02327285,0.9997279,0.001595268],[-0.02265866,0.9997409,0.002194821],[-0.02300363,0.9997282,0.003811554],[-0.0184532,0.9997798,0.009989769],[0.7617332,0.03611936,0.6468832],[0.03159419,-0.9994132,0.01323892],[0.03352831,-0.9994237,0.005287892],[0.02498192,-0.9996849,0.002476229],[0.02328366,-0.9997275,0.00172988],[0.02236503,-0.9997491,0.00134284],[0.02171326,-0.9997637,0.001100941],[0.02119092,-0.9997751,0.000934216],[0.02074459,-0.9997845,0.0008119341],[0.02034833,-0.9997927,0.0007182522],[0.0199881,-0.9998001,0.0006441122],[0.01982014,-0.9998034,0.0006110773],[-0.03556517,0.9993674,0.000349073],[-0.03487722,0.9993916,0.0003589834],[-0.03357032,0.9994363,0.0003799968],[-0.03238688,0.9994754,0.0004036264],[-0.03130643,0.9995098,0.0004303965],[-0.03031247,0.9995403,0.0004609808],[-0.02939156,0.9995679,0.0004962606],[-0.02853245,0.9995928,0.0005374158],[-0.02772526,0.9996155,0.0005860581],[-0.02696107,0.9996363,0.0006444526],[-0.02623128,0.9996557,0.0007158906],[-0.02552702,0.9996739,0.0008053518],[-0.0248384,0.9996911,0.000920769],[-0.02415312,0.9997078,0.001075651],[-0.02345517,0.9997241,0.001295219],[-0.02272409,0.9997405,0.001633487],[-0.02196073,0.9997563,0.002236904],[-0.02176128,0.9997559,0.00381461],[-0.0170745,0.9998012,0.01030173],[0.8268293,0.04248445,0.5608461],[0.03502256,-0.9992763,0.01483798],[0.03645426,-0.9993182,0.005854231],[0.02577614,-0.9996644,0.002608855],[0.02381543,-0.9997149,0.001810897],[0.02278109,-0.9997395,0.001401729],[0.02206341,-0.999756,0.001147297],[0.02149922,-0.9997684,0.000972463],[0.02102419,-0.9997787,0.000844493],[0.02060762,-0.9997874,0.0007465989],[0.02041723,-0.9997913,0.0007036753],[-0.03594576,0.9993538,0.0003417218],[-0.03525259,0.9993784,0.0003508824],[-0.03393516,0.999424,0.0003702407],[-0.03274151,0.9994639,0.0003918612],[-0.03165104,0.999499,0.0004161674],[-0.03064716,0.9995303,0.0004436951],[-0.02971659,0.9995583,0.0004751339],[-0.02884799,0.9995838,0.0005113861],[-0.0280314,0.9996069,0.000553655],[-0.02725811,0.9996283,0.0006035856],[-0.02651964,0.9996481,0.0006634868],[-0.02580741,0.9996668,0.0007367076],[-0.02511211,0.9996843,0.000828308],[-0.02442224,0.9997013,0.0009463287],[-0.02372265,0.999718,0.001104419],[-0.02299102,0.9997349,0.001327957],[-0.02219316,0.9997523,0.001670929],[-0.02128926,0.9997708,0.002277848],[-0.02061121,0.9997804,0.003820247],[-0.01580547,0.9998174,0.01073598],[0.867516,0.04937171,0.494953],[0.03921986,-0.9990881,0.01687439],[0.04002715,-0.9991772,0.00654348],[0.02660113,-0.9996424,0.002746687],[0.02435852,-0.9997015,0.001893872],[0.02320259,-0.9997298,0.00146168],[0.02241618,-0.9997481,0.001194327],[0.02180821,-0.9997618,0.001011176],[0.02130347,-0.9997727,0.0008773954],[0.02107928,-0.9997776,0.0008199819],[-0.03632259,0.9993401,0.0003351115],[-0.03562465,0.9993653,0.0003436203],[-0.03429767,0.9994116,0.0003615473],[-0.03309482,0.9994522,0.0003814484],[-0.03199545,0.9994879,0.00040367],[-0.03098306,0.9995198,0.0004286458],[-0.03004432,0.9995486,0.0004569241],[-0.02916783,0.9995745,0.0004892084],[-0.02834382,0.9995981,0.0005264202],[-0.02756375,0.99962,0.0005697883],[-0.02681928,0.9996402,0.0006209884],[-0.02610242,0.9996591,0.0006823721],[-0.02540455,0.999677,0.0007573453],[-0.02471543,0.9996942,0.0008510415],[-0.02402234,0.999711,0.0009716022],[-0.02330717,0.9997278,0.00113281],[-0.02254183,0.9997451,0.00136018],[-0.0216792,0.9997636,0.001707625],[-0.02064209,0.9997844,0.002317701],[-0.01954114,0.9998018,0.003827825],[-0.01462961,0.9998287,0.01133946],[0.8942024,0.05782785,0.4439123],[0.04454361,-0.9988158,0.01956482],[0.04456018,-0.9989792,0.007414429],[0.02745909,-0.9996188,0.002890114],[0.02491376,-0.9996877,0.001978884],[0.02362981,-0.9997196,0.001522721],[0.0227717,-0.9997399,0.001242041],[0.02211828,-0.9997548,0.001050362],[0.02183994,-0.9997611,0.0009705469],[-0.03669498,0.9993265,0.0003291333],[-0.03599263,0.9993521,0.0003370714],[-0.03465695,0.9993992,0.0003537508],[-0.03344575,0.9994405,0.0003721665],[-0.03233844,0.9994769,0.0003926058],[-0.03131855,0.9995095,0.0004154238],[-0.03037259,0.9995385,0.0004410624],[-0.02948938,0.9995651,0.0004700816],[-0.02865935,0.9995891,0.0005032019],[-0.02787389,0.9996113,0.0005413625],[-0.02712504,0.9996319,0.0005858144],[-0.02640528,0.9996512,0.0006382659],[-0.0257066,0.9996693,0.0007011082],[-0.02502003,0.9996867,0.0007777998],[-0.02433501,0.9997036,0.0008735486],[-0.02363715,0.9997201,0.0009965918],[-0.02290547,0.999737,0.001160831],[-0.02210639,0.9997547,0.001391894],[-0.02118074,0.9997742,0.001743592],[-0.02001763,0.9997969,0.002356511],[-0.01854133,0.9998208,0.003837064],[-0.01353491,0.999834,0.01219509],[0.9122919,0.06917898,0.4036554],[0.05163332,-0.9983943,0.02329677],[0.05059454,-0.9986826,0.008569409],[0.02835298,-0.9995934,0.003039563],[0.0254814,-0.9996732,0.002066014],[0.0240631,-0.9997092,0.001584882],[0.0231303,-0.9997317,0.001290456],[0.02275754,-0.9997404,0.001173368],[-0.03706272,0.9993129,0.0003237016],[-0.03635629,0.9993389,0.0003311361],[-0.03501256,0.9993868,0.0003467198],[-0.03379373,0.9994289,0.0003638413],[-0.03267919,0.9994658,0.0003827415],[-0.03165248,0.9994989,0.0004037146],[-0.03070017,0.9995285,0.0004271226],[-0.0298112,0.9995555,0.0004534181],[-0.02897599,0.9995801,0.0004831724],[-0.02818607,0.9996026,0.0005171188],[-0.02743381,0.9996235,0.0005562155],[-0.02671202,0.9996431,0.0006017371],[-0.02601333,0.9996614,0.0006554216],[-0.02532976,0.9996789,0.000719699],[-0.02465231,0.9996958,0.0007980796],[-0.02396945,0.9997123,0.0008958386],[-0.02326532,0.9997289,0.001021304],[-0.02251633,0.9997458,0.001188485],[-0.02168366,0.999764,0.001423108],[-0.02069691,0.9997842,0.001778847],[-0.01941454,0.9998087,0.002394316],[-0.01760421,0.9998376,0.003847596],[-0.01250537,0.9998313,0.01345477],[0.9245047,0.08561853,0.3714305],[0.06174573,-0.9976745,0.02886263],[0.05920929,-0.9981933,0.01021119],[0.02928451,-0.9995661,0.003195417],[0.02606239,-0.999658,0.002155349],[0.02450292,-0.9996984,0.001648199],[0.02394381,-0.9997123,0.001462037],[-0.03742556,0.9992994,0.0003187448],[-0.03671532,0.9993258,0.0003257321],[-0.03536407,0.9993745,0.0003403459],[-0.03413817,0.9994171,0.0003563312],[-0.03301699,0.9994547,0.0003738913],[-0.03198405,0.9994883,0.000393272],[-0.03102604,0.9995186,0.0004147741],[-0.03013193,0.9995459,0.0004387678],[-0.02929213,0.9995708,0.0004657134],[-0.02849839,0.9995938,0.0004961937],[-0.02774333,0.999615,0.0005309572],[-0.02702005,0.9996347,0.0005709793],[-0.02632164,0.9996534,0.0006175569],[-0.02564088,0.999671,0.0006724564],[-0.02497004,0.9996879,0.0007381456],[-0.02429958,0.9997045,0.000818184],[-0.02361719,0.9997208,0.0009179122],[-0.02290571,0.9997371,0.001045742],[-0.02213887,0.9997543,0.001215785],[-0.02127298,0.9997727,0.001453845],[-0.02022697,0.9997938,0.001813433],[-0.01883169,0.9998198,0.002431169],[-0.01672171,0.9998527,0.003859075],[-0.01152757,0.9998143,0.01544288],[0.931769,0.1118716,0.3453855],[0.07779194,-0.9962391,0.03816026],[0.07275128,-0.9972683,0.0127822],[0.03025771,-0.9995365,0.003358229],[0.0266571,-0.9996421,0.002246964],[0.02564594,-0.9996693,0.001907963],[-0.03778341,0.9992859,0.0003142034],[-0.03706958,0.9993126,0.0003207911],[-0.03571126,0.9993621,0.0003345417],[-0.03447875,0.9994054,0.000349522],[-0.0333514,0.9994437,0.000365906],[-0.03231276,0.9994777,0.0003839015],[-0.03134956,0.9995084,0.0004037594],[-0.03045074,0.9995362,0.0004257865],[-0.02960676,0.9995616,0.0004503593],[-0.02880966,0.9995848,0.0004779479],[-0.02805218,0.9996064,0.0005091471],[-0.02732761,0.9996264,0.0005447186],[-0.0266295,0.9996453,0.0005856542],[-0.02595126,0.999663,0.0006332736],[-0.02528603,0.99968,0.0006893715],[-0.0246257,0.9996964,0.0007564506],[-0.02396041,0.9997126,0.0008381172],[-0.02327721,0.9997287,0.000939775],[-0.02255738,0.9997451,0.001069914],[-0.02177225,0.9997622,0.001242734],[-0.02087332,0.9997811,0.001484105],[-0.01976982,0.9998029,0.001847339],[-0.0182675,0.9998302,0.002467072],[-0.01588875,0.9998664,0.00387129],[-0.0105795,0.9997641,0.01897027],[0.9321175,0.1610492,0.3243763],[0.1082792,-0.9924775,0.05713006],[0.09690128,-0.9951428,0.01735342],[0.03127587,-0.9995046,0.00352859],[0.02855658,-0.9995886,0.002698796],[-0.03813616,0.9992726,0.0003100269],[-0.0374189,0.9992996,0.0003162558],[-0.03605392,0.9993498,0.0003292337],[-0.03481523,0.9993938,0.0003433203],[-0.03368214,0.9994326,0.0003586651],[-0.03263818,0.9994672,0.0003754453],[-0.03167016,0.9994984,0.000393873],[-0.03076698,0.9995265,0.000414204],[-0.02991926,0.9995523,0.000436751],[-0.02911913,0.9995759,0.0004618983],[-0.02835944,0.9995977,0.0004901249],[-0.02763371,0.9996181,0.0005220354],[-0.0269358,0.9996371,0.0005584053],[-0.02625963,0.999655,0.0006002433],[-0.02559902,0.9996722,0.0006488909],[-0.02494692,0.9996886,0.0007061688],[-0.02429518,0.9997045,0.0007746148],[-0.02363367,0.9997204,0.0008578818],[-0.02294838,0.9997362,0.0009614304],[-0.02221943,0.9997526,0.001093823],[-0.02141573,0.9997699,0.001269345],[-0.0204842,0.9997891,0.001513914],[-0.01932505,0.9998115,0.00188062],[-0.01772142,0.9998399,0.002502122],[-0.01510072,0.9998785,0.003884195],[-0.009594099,0.9995959,0.02675993],[0.9060876,0.2939891,0.3042624],[0.1898787,-0.9745942,0.1187944],[0.1423715,-0.9894729,0.02595431],[0.03584309,-0.9993469,0.004599025],[-0.0384836,0.9992592,0.0003061721],[-0.03776314,0.9992867,0.0003120773],[-0.03639191,0.9993376,0.0003243601],[-0.0351474,0.9993821,0.0003376474],[-0.03400888,0.9994215,0.0003520681],[-0.03295994,0.9994566,0.0003677748],[-0.03198735,0.9994882,0.0003849479],[-0.03108011,0.9995168,0.0004038038],[-0.03022893,0.999543,0.000424604],[-0.02942596,0.9995669,0.0004476667],[-0.02866421,0.999589,0.0004733831],[-0.02793738,0.9996096,0.000502241],[-0.02723954,0.9996288,0.0005348554],[-0.02656507,0.999647,0.0005720147],[-0.02590823,0.9996642,0.0006147444],[-0.0252628,0.9996806,0.0006644058],[-0.02462189,0.9996966,0.0007228461],[-0.02397726,0.9997123,0.0007926373],[-0.02331806,0.9997277,0.0008774753],[-0.02262974,0.9997435,0.0009828762],[-0.02189107,0.9997597,0.00111747],[-0.02106842,0.9997773,0.001295617],[-0.02010474,0.9997967,0.001543266],[-0.01889194,0.9998197,0.00191327],[-0.01719222,0.9998491,0.002536308],[-0.01435251,0.9998895,0.00389748],[-0.008104507,0.9983678,0.05653498],[0.6922361,0.6862107,0.2234368],[0.5360303,-0.7680002,0.3504954],[0.3571396,-0.9315735,0.06798647],[-0.03882595,0.999246,0.0003026041],[-0.03810245,0.9992738,0.0003082161],[-0.03672527,0.9993254,0.0003198707],[-0.03547519,0.9993706,0.0003324387],[-0.03433153,0.9994105,0.0003460331],[-0.03327791,0.9994462,0.0003607859],[-0.03230103,0.9994781,0.0003768518],[-0.03138997,0.9995072,0.000394415],[-0.03053555,0.9995337,0.0004136965],[-0.0297299,0.999558,0.0004349623],[-0.02896615,0.9995803,0.0004585359],[-0.02823817,0.9996012,0.0004848157],[-0.02754029,0.9996207,0.0005142982],[-0.02686714,0.9996389,0.0005476096],[-0.02621335,0.9996563,0.0005855496],[-0.02557339,0.9996728,0.0006291603],[-0.02494122,0.9996887,0.0006798229],[-0.02430989,0.9997043,0.0007394093],[-0.02367079,0.9997196,0.0008105238],[-0.02301278,0.9997348,0.000896904],[-0.02232059,0.9997504,0.001004117],[-0.02157151,0.9997666,0.00114086],[-0.02072992,0.9997842,0.00132156],[-0.01973474,0.999804,0.001572184],[-0.0184698,0.9998276,0.001945314],[-0.01667906,0.9998576,0.002569688],[-0.01364109,0.9998993,0.003911166],[-0.0001934492,0.9975343,0.0701809],[0.4106432,0.9029209,0.1269087],[0.4994969,0.8254371,0.2629761],[-0.03900231,0.9992391,0.0003008877],[-0.03827111,0.9992674,0.0003063601],[-0.03689104,0.9993193,0.0003177159],[-0.03563827,0.9993647,0.0003299431],[-0.03449216,0.9994049,0.0003431468],[-0.03343629,0.9994408,0.0003574499],[-0.03245738,0.9994732,0.0003729959],[-0.03154455,0.9995024,0.0003899543],[-0.03068864,0.9995289,0.0004085283],[-0.02988179,0.9995534,0.0004289605],[-0.02911717,0.999576,0.0004515444],[-0.02838872,0.9995968,0.0004766404],[-0.02769095,0.9996165,0.0005046932],[-0.02701852,0.9996349,0.0005362596],[-0.02636632,0.9996523,0.0005720456],[-0.02572913,0.9996688,0.0006129607],[-0.02510128,0.9996848,0.000660196],[-0.0244764,0.9997002,0.0007153437],[-0.02384686,0.9997153,0.0007805835],[-0.02320306,0.9997304,0.0008589816],[-0.02253209,0.9997457,0.0009549908],[-0.02181568,0.9997615,0.001075349],[-0.02102619,0.9997783,0.001230776],[-0.02011905,0.9997966,0.001439462],[-0.01901583,0.9998177,0.001735119],[-0.01756278,0.9998435,0.002188683],[-0.01540616,0.999877,0.002983314],[-0.01147838,0.9999225,0.004834914],[0.009082422,0.9989594,0.04469502],[0.2012609,0.9763867,0.07850391]],"colors":[[0.7450981,0.7450981,0.7450981,1]],"dim":[[30,30]],"centers":[[3.032671,0.06093646,-442.2575],[3.2794,0.06093646,-442.2086],[3.526128,0.06093646,-444.334],[3.772856,0.06093646,-448.4588],[4.019584,0.06093646,-454.4337],[4.266313,0.06093646,-462.1304],[4.513041,0.06093646,-471.4369],[4.759768,0.06093646,-482.2549],[5.006496,0.06093646,-494.4975],[5.253225,0.06093646,-508.0871],[5.499953,0.06093646,-522.9542],[5.746681,0.06093646,-539.036],[5.993409,0.06093646,-556.2757],[6.240137,0.06093646,-574.6213],[6.486866,0.06093646,-594.0257],[6.733594,0.06093646,-614.4452],[6.980322,0.06093646,-635.8398],[7.22705,0.06093646,-658.1725],[7.473778,0.06093646,-681.4091],[7.720506,0.06093646,-705.5175],[7.967235,0.06093646,-730.468],[8.213963,0.06093646,-756.2328],[8.46069,0.06093646,-782.7861],[8.707418,0.06093646,-810.1034],[8.954147,0.06093646,-838.1618],[9.200874,0.06093646,-866.9396],[9.447603,0.06093646,-896.4165],[9.694331,0.06093646,-926.5734],[9.941059,0.06093646,-957.3918],[3.032671,0.06633458,-442.1217],[3.2794,0.06633458,-439.9748],[3.526128,0.06633458,-440.0022],[3.772856,0.06633458,-442.0289],[4.019584,0.06633458,-445.9059],[4.266313,0.06633458,-451.5045],[4.513041,0.06633458,-458.713],[4.759768,0.06633458,-467.433],[5.006496,0.06633458,-477.5776],[5.253225,0.06633458,-489.0692],[5.499953,0.06633458,-501.8383],[5.746681,0.06633458,-515.8221],[5.993409,0.06633458,-530.9637],[6.240137,0.06633458,-547.2115],[6.486866,0.06633458,-564.5178],[6.733594,0.06633458,-582.8393],[6.980322,0.06633458,-602.1359],[7.22705,0.06633458,-622.3707],[7.473778,0.06633458,-643.5092],[7.720506,0.06633458,-665.5195],[7.967235,0.06633458,-688.372],[8.213963,0.06633458,-712.0389],[8.46069,0.06633458,-736.4942],[8.707418,0.06633458,-761.7134],[8.954147,0.06633458,-787.6738],[9.200874,0.06633458,-814.3536],[9.447603,0.06633458,-841.7325],[9.694331,0.06633458,-869.7913],[9.941059,0.06633458,-898.5117],[3.032671,0.07173269,-444.011],[3.2794,0.07173269,-439.9308],[3.526128,0.07173269,-438.0249],[3.772856,0.07173269,-438.1184],[4.019584,0.07173269,-440.0621],[4.266313,0.07173269,-443.7275],[4.513041,0.07173269,-449.0027],[4.759768,0.07173269,-455.7896],[5.006496,0.07173269,-464.0009],[5.253225,0.07173269,-473.5593],[5.499953,0.07173269,-484.3951],[5.746681,0.07173269,-496.4456],[5.993409,0.07173269,-509.654],[6.240137,0.07173269,-523.9684],[6.486866,0.07173269,-539.3416],[6.733594,0.07173269,-555.7298],[6.980322,0.07173269,-573.0932],[7.22705,0.07173269,-591.3947],[7.473778,0.07173269,-610.5999],[7.720506,0.07173269,-630.677],[7.967235,0.07173269,-651.5963],[8.213963,0.07173269,-673.33],[8.46069,0.07173269,-695.8519],[8.707418,0.07173269,-719.138],[8.954147,0.07173269,-743.1651],[9.200874,0.07173269,-767.9116],[9.447603,0.07173269,-793.3574],[9.694331,0.07173269,-819.4828],[9.941059,0.07173269,-846.2701],[3.032671,0.07713081,-447.6299],[3.2794,0.07713081,-441.7572],[3.526128,0.07713081,-438.0588],[3.772856,0.07713081,-436.3598],[4.019584,0.07713081,-436.511],[4.266313,0.07713081,-438.3839],[4.513041,0.07713081,-441.8665],[4.759768,0.07713081,-446.8608],[5.006496,0.07713081,-453.2796],[5.253225,0.07713081,-461.0454],[5.499953,0.07713081,-470.0887],[5.746681,0.07713081,-480.3468],[5.993409,0.07713081,-491.7626],[6.240137,0.07713081,-504.2845],[6.486866,0.07713081,-517.8651],[6.733594,0.07713081,-532.4608],[6.980322,0.07713081,-548.0316],[7.22705,0.07713081,-564.5406],[7.473778,0.07713081,-581.9534],[7.720506,0.07713081,-600.2379],[7.967235,0.07713081,-619.3646],[8.213963,0.07713081,-639.3058],[8.46069,0.07713081,-660.0353],[8.707418,0.07713081,-681.5288],[8.954147,0.07713081,-703.7633],[9.200874,0.07713081,-726.7174],[9.447603,0.07713081,-750.3705],[9.694331,0.07713081,-774.7036],[9.941059,0.07713081,-799.6982],[3.032671,0.08252893,-452.7434],[3.2794,0.08252893,-445.1998],[3.526128,0.08252893,-439.8305],[3.772856,0.08252893,-436.4605],[4.019584,0.08252893,-434.9408],[4.266313,0.08252893,-435.1427],[4.513041,0.08252893,-436.9545],[4.759768,0.08252893,-440.2778],[5.006496,0.08252893,-445.0257],[5.253225,0.08252893,-451.1206],[5.499953,0.08252893,-458.493],[5.746681,0.08252893,-467.08],[5.993409,0.08252893,-476.825],[6.240137,0.08252893,-487.676],[6.486866,0.08252893,-499.5856],[6.733594,0.08252893,-512.5104],[6.980322,0.08252893,-526.4103],[7.22705,0.08252893,-541.2483],[7.473778,0.08252893,-556.9901],[7.720506,0.08252893,-573.6038],[7.967235,0.08252893,-591.0596],[8.213963,0.08252893,-609.3297],[8.46069,0.08252893,-628.3883],[8.707418,0.08252893,-648.2109],[8.954147,0.08252893,-668.7745],[9.200874,0.08252893,-690.0576],[9.447603,0.08252893,-712.0399],[9.694331,0.08252893,-734.702],[9.941059,0.08252893,-758.0256],[3.032671,0.08792706,-459.1614],[3.2794,0.08792706,-450.0529],[3.526128,0.08792706,-443.1189],[3.772856,0.08792706,-438.1841],[4.019584,0.08792706,-435.0995],[4.266313,0.08792706,-433.7367],[4.513041,0.08792706,-433.9836],[4.759768,0.08792706,-435.7421],[5.006496,0.08792706,-438.9252],[5.253225,0.08792706,-443.4553],[5.499953,0.08792706,-449.2629],[5.746681,0.08792706,-456.2852],[5.993409,0.08792706,-464.4653],[6.240137,0.08792706,-473.7515],[6.486866,0.08792706,-484.0963],[6.733594,0.08792706,-495.4563],[6.980322,0.08792706,-507.7914],[7.22705,0.08792706,-521.0646],[7.473778,0.08792706,-535.2416],[7.720506,0.08792706,-550.2904],[7.967235,0.08792706,-566.1814],[8.213963,0.08792706,-582.8868],[8.46069,0.08792706,-600.3806],[8.707418,0.08792706,-618.6383],[8.954147,0.08792706,-637.6372],[9.200874,0.08792706,-657.3555],[9.447603,0.08792706,-677.7729],[9.694331,0.08792706,-698.8702],[9.941059,0.08792706,-720.629],[3.032671,0.09332517,-466.7279],[3.2794,0.09332517,-456.148],[3.526128,0.09332517,-447.7426],[3.772856,0.09332517,-441.3365],[4.019584,0.09332517,-436.7805],[4.266313,0.09332517,-433.9463],[4.513041,0.09332517,-432.7219],[4.759768,0.09332517,-433.009],[5.006496,0.09332517,-434.7207],[5.253225,0.09332517,-437.7794],[5.499953,0.09332517,-442.1157],[5.746681,0.09332517,-447.6666],[5.993409,0.09332517,-454.3753],[6.240137,0.09332517,-462.1901],[6.486866,0.09332517,-471.0636],[6.733594,0.09332517,-480.9521],[6.980322,0.09332517,-491.8159],[7.22705,0.09332517,-503.6177],[7.473778,0.09332517,-516.3234],[7.720506,0.09332517,-529.9008],[7.967235,0.09332517,-544.3204],[8.213963,0.09332517,-559.5545],[8.46069,0.09332517,-575.5769],[8.707418,0.09332517,-592.3633],[8.954147,0.09332517,-609.8907],[9.200874,0.09332517,-628.1377],[9.447603,0.09332517,-647.0837],[9.694331,0.09332517,-666.7096],[9.941059,0.09332517,-686.9972],[3.032671,0.09872328,-475.3132],[3.2794,0.09872328,-463.345],[3.526128,0.09872328,-453.551],[3.772856,0.09872328,-445.7564],[4.019584,0.09872328,-439.812],[4.266313,0.09872328,-435.5892],[4.513041,0.09872328,-432.9763],[4.759768,0.09872328,-431.875],[5.006496,0.09872328,-432.1983],[5.253225,0.09872328,-433.8685],[5.499953,0.09872328,-436.8163],[5.746681,0.09872328,-440.9787],[5.993409,0.09872328,-446.299],[6.240137,0.09872328,-452.7253],[6.486866,0.09872328,-460.2103],[6.733594,0.09872328,-468.7104],[6.980322,0.09872328,-478.1857],[7.22705,0.09872328,-488.599],[7.473778,0.09872328,-499.9161],[7.720506,0.09872328,-512.1052],[7.967235,0.09872328,-525.1363],[8.213963,0.09872328,-538.9818],[8.46069,0.09872328,-553.6158],[8.707418,0.09872328,-569.0137],[8.954147,0.09872328,-585.1527],[9.200874,0.09872328,-602.0111],[9.447603,0.09872328,-619.5687],[9.694331,0.09872328,-637.8062],[9.941059,0.09872328,-656.7052],[3.032671,0.1041214,-484.8087],[3.2794,0.1041214,-471.526],[3.526128,0.1041214,-460.4177],[3.772856,0.1041214,-451.3086],[4.019584,0.1041214,-444.0497],[4.266313,0.1041214,-438.5126],[4.513041,0.1041214,-434.5853],[4.759768,0.1041214,-432.1695],[5.006496,0.1041214,-431.1783],[5.253225,0.1041214,-431.5341],[5.499953,0.1041214,-433.1674],[5.746681,0.1041214,-436.0154],[5.993409,0.1041214,-440.0213],[6.240137,0.1041214,-445.1332],[6.486866,0.1041214,-451.3037],[6.733594,0.1041214,-458.4894],[6.980322,0.1041214,-466.6502],[7.22705,0.1041214,-475.7492],[7.473778,0.1041214,-485.7519],[7.720506,0.1041214,-496.6264],[7.967235,0.1041214,-508.3431],[8.213963,0.1041214,-520.8743],[8.46069,0.1041214,-534.1937],[8.707418,0.1041214,-548.2773],[8.954147,0.1041214,-563.1018],[9.200874,0.1041214,-578.6459],[9.447603,0.1041214,-594.889],[9.694331,0.1041214,-611.812],[9.941059,0.1041214,-629.3966],[3.032671,0.1095195,-495.1221],[3.2794,0.1095195,-480.5915],[3.526128,0.1095195,-468.2352],[3.772856,0.1095195,-457.8783],[4.019584,0.1095195,-449.3715],[4.266313,0.1095195,-442.5865],[4.513041,0.1095195,-437.4113],[4.759768,0.1095195,-433.7476],[5.006496,0.1095195,-431.5085],[5.253225,0.1095195,-430.6165],[5.499953,0.1095195,-431.0019],[5.746681,0.1095195,-432.602],[5.993409,0.1095195,-435.36],[6.240137,0.1095195,-439.2239],[6.486866,0.1095195,-444.1466],[6.733594,0.1095195,-450.0844],[6.980322,0.1095195,-456.9974],[7.22705,0.1095195,-464.8484],[7.473778,0.1095195,-473.6032],[7.720506,0.1095195,-483.2299],[7.967235,0.1095195,-493.6987],[8.213963,0.1095195,-504.9819],[8.46069,0.1095195,-517.0535],[8.707418,0.1095195,-529.8892],[8.954147,0.1095195,-543.4658],[9.200874,0.1095195,-557.762],[9.447603,0.1095195,-572.7572],[9.694331,0.1095195,-588.4323],[9.941059,0.1095195,-604.769],[3.032671,0.1149176,-506.1745],[3.2794,0.1149176,-490.4561],[3.526128,0.1149176,-476.9121],[3.772856,0.1149176,-465.3674],[4.019584,0.1149176,-455.6729],[4.266313,0.1149176,-447.7],[4.513041,0.1149176,-441.337],[4.759768,0.1149176,-436.4856],[5.006496,0.1149176,-433.0588],[5.253225,0.1149176,-430.9789],[5.499953,0.1149176,-430.1766],[5.746681,0.1149176,-430.5889],[5.993409,0.1149176,-432.1591],[6.240137,0.1149176,-434.8353],[6.486866,0.1149176,-438.5702],[6.733594,0.1149176,-443.3203],[6.980322,0.1149176,-449.0454],[7.22705,0.1149176,-455.7087],[7.473778,0.1149176,-463.2758],[7.720506,0.1149176,-471.7147],[7.967235,0.1149176,-480.9957],[8.213963,0.1149176,-491.0912],[8.46069,0.1149176,-501.975],[8.707418,0.1149176,-513.6229],[8.954147,0.1149176,-526.0118],[9.200874,0.1149176,-539.1201],[9.447603,0.1149176,-552.9276],[9.694331,0.1149176,-567.4149],[9.941059,0.1149176,-582.5638],[3.032671,0.1203158,-517.8979],[3.2794,0.1203158,-501.0463],[3.526128,0.1203158,-486.3691],[3.772856,0.1203158,-473.6913],[4.019584,0.1203158,-462.8636],[4.266313,0.1203158,-453.7576],[4.513041,0.1203158,-446.2614],[4.759768,0.1203158,-440.2768],[5.006496,0.1203158,-435.7168],[5.253225,0.1203158,-432.5038],[5.499953,0.1203158,-430.5682],[5.746681,0.1203158,-429.8474],[5.993409,0.1203158,-430.2844],[6.240137,0.1203158,-431.8275],[6.486866,0.1203158,-434.4291],[6.733594,0.1203158,-438.046],[6.980322,0.1203158,-442.6381],[7.22705,0.1203158,-448.1681],[7.473778,0.1203158,-454.602],[7.720506,0.1203158,-461.9077],[7.967235,0.1203158,-470.0556],[8.213963,0.1203158,-479.0179],[8.46069,0.1203158,-488.7686],[8.707418,0.1203158,-499.2832],[8.954147,0.1203158,-510.5389],[9.200874,0.1203158,-522.5142],[9.447603,0.1203158,-535.1884],[9.694331,0.1203158,-548.5425],[9.941059,0.1203158,-562.5583],[3.032671,0.1257139,-530.2333],[3.2794,0.1257139,-512.2983],[3.526128,0.1257139,-496.5378],[3.772856,0.1257139,-482.7765],[4.019584,0.1257139,-470.8654],[4.266313,0.1257139,-460.676],[4.513041,0.1257139,-452.0965],[4.759768,0.1257139,-445.0285],[5.006496,0.1257139,-439.3851],[5.253225,0.1257139,-435.0887],[5.499953,0.1257139,-432.0698],[5.746681,0.1257139,-430.2656],[5.993409,0.1257139,-429.6192],[6.240137,0.1257139,-430.0789],[6.486866,0.1257139,-431.5972],[6.733594,0.1257139,-434.1307],[6.980322,0.1257139,-437.6393],[7.22705,0.1257139,-442.086],[7.473778,0.1257139,-447.4365],[7.720506,0.1257139,-453.6588],[7.967235,0.1257139,-460.7233],[8.213963,0.1257139,-468.6022],[8.46069,0.1257139,-477.2695],[8.707418,0.1257139,-486.7008],[8.954147,0.1257139,-496.8731],[9.200874,0.1257139,-507.7649],[9.447603,0.1257139,-519.3558],[9.694331,0.1257139,-531.6266],[9.941059,0.1257139,-544.559],[3.032671,0.131112,-543.1292],[3.2794,0.131112,-524.1564],[3.526128,0.131112,-507.3581],[3.772856,0.131112,-492.559],[4.019584,0.131112,-479.6102],[4.266313,0.131112,-468.383],[4.513041,0.131112,-458.7656],[4.759768,0.131112,-450.6599],[5.006496,0.131112,-443.9787],[5.253225,0.131112,-438.6445],[5.499953,0.131112,-434.5878],[5.746681,0.131112,-431.7458],[5.993409,0.131112,-430.0616],[6.240137,0.131112,-429.4835],[6.486866,0.131112,-429.964],[6.733594,0.131112,-431.4598],[6.980322,0.131112,-433.9306],[7.22705,0.131112,-437.3395],[7.473778,0.131112,-441.6522],[7.720506,0.131112,-446.8368],[7.967235,0.131112,-452.8635],[8.213963,0.131112,-459.7046],[8.46069,0.131112,-467.334],[8.707418,0.131112,-475.7275],[8.954147,0.131112,-484.8621],[9.200874,0.131112,-494.7161],[9.447603,0.131112,-505.2692],[9.694331,0.131112,-516.5022],[9.941059,0.131112,-528.3969],[3.032671,0.1365101,-556.5402],[3.2794,0.1365101,-536.5716],[3.526128,0.1365101,-518.7773],[3.772856,0.1365101,-502.9824],[4.019584,0.1365101,-489.0377],[4.266313,0.1365101,-476.8147],[4.513041,0.1365101,-466.2014],[4.759768,0.1365101,-457.0998],[5.006496,0.1365101,-449.4227],[5.253225,0.1365101,-443.0927],[5.499953,0.1365101,-438.0401],[5.746681,0.1365101,-434.2022],[5.993409,0.1365101,-431.5222],[6.240137,0.1365101,-429.9482],[6.486866,0.1365101,-429.4328],[6.733594,0.1365101,-429.9327],[6.980322,0.1365101,-431.4076],[7.22705,0.1365101,-433.8207],[7.473778,0.1365101,-437.1375],[7.720506,0.1365101,-441.3262],[7.967235,0.1365101,-446.357],[8.213963,0.1365101,-452.2022],[8.46069,0.1365101,-458.8358],[8.707418,0.1365101,-466.2335],[8.954147,0.1365101,-474.3721],[9.200874,0.1365101,-483.2303],[9.447603,0.1365101,-492.7875],[9.694331,0.1365101,-503.0247],[9.941059,0.1365101,-513.9235],[3.032671,0.1419082,-570.4264],[3.2794,0.1419082,-549.5006],[3.526128,0.1419082,-530.7491],[3.772856,0.1419082,-513.9969],[4.019584,0.1419082,-499.095],[4.266313,0.1419082,-485.9147],[4.513041,0.1419082,-474.3443],[4.759768,0.1419082,-464.2855],[5.006496,0.1419082,-455.6512],[5.253225,0.1419082,-448.3639],[5.499953,0.1419082,-442.3541],[5.746681,0.1419082,-437.559],[5.993409,0.1419082,-433.9218],[6.240137,0.1419082,-431.3905],[6.486866,0.1419082,-429.918],[6.733594,0.1419082,-429.4606],[6.980322,0.1419082,-429.9783],[7.22705,0.1419082,-431.4341],[7.473778,0.1419082,-433.7937],[7.720506,0.1419082,-437.0252],[7.967235,0.1419082,-441.0988],[8.213963,0.1419082,-445.9868],[8.46069,0.1419082,-451.6632],[8.707418,0.1419082,-458.1036],[8.954147,0.1419082,-465.2851],[9.200874,0.1419082,-473.186],[9.447603,0.1419082,-481.7861],[9.694331,0.1419082,-491.0659],[9.941059,0.1419082,-501.0075],[3.032671,0.1473064,-584.7522],[3.2794,0.1473064,-562.9049],[3.526128,0.1473064,-543.2321],[3.772856,0.1473064,-525.5585],[4.019584,0.1473064,-509.735],[4.266313,0.1473064,-495.6333],[4.513041,0.1473064,-483.1414],[4.759768,0.1473064,-472.1611],[5.006496,0.1473064,-462.6054],[5.253225,0.1473064,-454.3967],[5.499953,0.1473064,-447.4654],[5.746681,0.1473064,-441.7488],[5.993409,0.1473064,-437.1902],[6.240137,0.1473064,-433.7375],[6.486866,0.1473064,-431.3435],[6.733594,0.1473064,-429.9646],[6.980322,0.1473064,-429.5609],[7.22705,0.1473064,-430.0953],[7.473778,0.1473064,-431.5334],[7.720506,0.1473064,-433.8434],[7.967235,0.1473064,-436.9956],[8.213963,0.1473064,-440.9622],[8.46069,0.1473064,-445.7171],[8.707418,0.1473064,-451.2361],[8.954147,0.1473064,-457.496],[9.200874,0.1473064,-464.4755],[9.447603,0.1473064,-472.1541],[9.694331,0.1473064,-480.5125],[9.941059,0.1473064,-489.5327],[3.032671,0.1527045,-599.486],[3.2794,0.1527045,-576.7504],[3.526128,0.1527045,-556.1893],[3.772856,0.1527045,-537.6274],[4.019584,0.1527045,-520.9157],[4.266313,0.1527045,-505.9257],[4.513041,0.1527045,-492.5456],[4.759768,0.1527045,-480.677],[5.006496,0.1527045,-470.233],[5.253225,0.1527045,-461.136],[5.499953,0.1527045,-453.3165],[5.746681,0.1527045,-446.7117],[5.993409,0.1527045,-441.2647],[6.240137,0.1527045,-436.9238],[6.486866,0.1527045,-433.6415],[6.733594,0.1527045,-431.3744],[6.980322,0.1527045,-430.0825],[7.22705,0.1527045,-429.7285],[7.473778,0.1527045,-430.2784],[7.720506,0.1527045,-431.7002],[7.967235,0.1527045,-433.9641],[8.213963,0.1527045,-437.0424],[8.46069,0.1527045,-440.9091],[8.707418,0.1527045,-445.5397],[8.954147,0.1527045,-450.9115],[9.200874,0.1527045,-457.0027],[9.447603,0.1527045,-463.793],[9.694331,0.1527045,-471.2632],[9.941059,0.1527045,-479.395],[3.032671,0.1581026,-614.5993],[3.2794,0.1581026,-591.0063],[3.526128,0.1581026,-569.5878],[3.772856,0.1581026,-550.1686],[4.019584,0.1581026,-532.5995],[4.266313,0.1581026,-516.7522],[4.513041,0.1581026,-502.5146],[4.759768,0.1581026,-489.7887],[5.006496,0.1581026,-478.4873],[5.253225,0.1581026,-468.5329],[5.499953,0.1581026,-459.856],[5.746681,0.1581026,-452.3938],[5.993409,0.1581026,-446.0895],[6.240137,0.1581026,-440.8911],[6.486866,0.1581026,-436.7515],[6.733594,0.1581026,-433.627],[6.980322,0.1581026,-431.4776],[7.22705,0.1581026,-430.2664],[7.473778,0.1581026,-429.9589],[7.720506,0.1581026,-430.5233],[7.967235,0.1581026,-431.9298],[8.213963,0.1581026,-434.1507],[8.46069,0.1581026,-437.16],[8.707418,0.1581026,-440.9332],[8.954147,0.1581026,-445.4476],[9.200874,0.1581026,-450.6815],[9.447603,0.1581026,-456.6144],[9.694331,0.1581026,-463.2272],[9.941059,0.1581026,-470.5016],[3.032671,0.1635007,-630.0667],[3.2794,0.1635007,-605.6451],[3.526128,0.1635007,-583.3981],[3.772856,0.1635007,-563.1502],[4.019584,0.1635007,-544.7526],[4.266313,0.1635007,-528.0767],[4.513041,0.1635007,-513.0105],[4.759768,0.1635007,-499.456],[5.006496,0.1635007,-487.326],[5.253225,0.1635007,-476.5431],[5.499953,0.1635007,-467.0376],[5.746681,0.1635007,-458.7468],[5.993409,0.1635007,-451.6139],[6.240137,0.1635007,-445.587],[6.486866,0.1635007,-440.6188],[6.733594,0.1635007,-436.6657],[6.980322,0.1635007,-433.6877],[7.22705,0.1635007,-431.6479],[7.473778,0.1635007,-430.5118],[7.720506,0.1635007,-430.2476],[7.967235,0.1635007,-430.8256],[8.213963,0.1635007,-432.2179],[8.46069,0.1635007,-434.3986],[8.707418,0.1635007,-437.3433],[8.954147,0.1635007,-441.0291],[9.200874,0.1635007,-445.4343],[9.447603,0.1635007,-450.5387],[9.694331,0.1635007,-456.3229],[9.941059,0.1635007,-462.7688],[3.032671,0.1688988,-645.8651],[3.2794,0.1688988,-620.6419],[3.526128,0.1688988,-597.5931],[3.772856,0.1688988,-576.5437],[4.019584,0.1688988,-557.3444],[4.266313,0.1688988,-539.8668],[4.513041,0.1688988,-523.999],[4.759768,0.1688988,-509.6429],[5.006496,0.1688988,-496.7112],[5.253225,0.1688988,-485.1266],[5.499953,0.1688988,-474.8195],[5.746681,0.1688988,-465.7271],[5.993409,0.1688988,-457.7925],[6.240137,0.1688988,-450.964],[6.486866,0.1688988,-445.1941],[6.733594,0.1688988,-440.4394],[6.980322,0.1688988,-436.6598],[7.22705,0.1688988,-433.8183],[7.473778,0.1688988,-431.8806],[7.720506,0.1688988,-430.8147],[7.967235,0.1688988,-430.591],[8.213963,0.1688988,-431.1817],[8.46069,0.1688988,-432.5607],[8.707418,0.1688988,-434.7038],[8.954147,0.1688988,-437.5879],[9.200874,0.1688988,-441.1916],[9.447603,0.1688988,-445.4943],[9.694331,0.1688988,-450.4768],[9.941059,0.1688988,-456.1211],[3.032671,0.1742969,-661.9736],[3.2794,0.1742969,-635.9741],[3.526128,0.1742969,-612.1489],[3.772856,0.1742969,-590.323],[4.019584,0.1742969,-570.3473],[4.266313,0.1742969,-552.0933],[4.513041,0.1742969,-535.4491],[4.759768,0.1742969,-520.3165],[5.006496,0.1742969,-506.6085],[5.253225,0.1742969,-494.2475],[5.499953,0.1742969,-483.164],[5.746681,0.1742969,-473.2951],[5.993409,0.1742969,-464.5842],[6.240137,0.1742969,-456.9792],[6.486866,0.1742969,-450.4329],[6.733594,0.1742969,-444.9018],[6.980322,0.1742969,-440.3458],[7.22705,0.1742969,-436.7278],[7.473778,0.1742969,-434.0137],[7.720506,0.1742969,-432.1714],[7.967235,0.1742969,-431.1713],[8.213963,0.1742969,-430.9856],[8.46069,0.1742969,-431.5883],[8.707418,0.1742969,-432.9549],[8.954147,0.1742969,-435.0626],[9.200874,0.1742969,-437.8898],[9.447603,0.1742969,-441.4161],[9.694331,0.1742969,-445.6223],[9.941059,0.1742969,-450.4901],[3.032671,0.1796951,-678.3734],[3.2794,0.1796951,-651.6212],[3.526128,0.1796951,-627.0433],[3.772856,0.1796951,-604.4647],[4.019584,0.1796951,-583.7362],[4.266313,0.1796951,-564.7295],[4.513041,0.1796951,-547.3326],[4.759768,0.1796951,-531.4473],[5.006496,0.1796951,-516.9866],[5.253225,0.1796951,-503.8728],[5.499953,0.1796951,-492.0366],[5.746681,0.1796951,-481.415],[5.993409,0.1796951,-471.9513],[6.240137,0.1796951,-463.5937],[6.486866,0.1796951,-456.2946],[6.733594,0.1796951,-450.0108],[6.980322,0.1796951,-444.7021],[7.22705,0.1796951,-440.3315],[7.473778,0.1796951,-436.8646],[7.720506,0.1796951,-434.2696],[7.967235,0.1796951,-432.5168],[8.213963,0.1796951,-431.5784],[8.46069,0.1796951,-431.4283],[8.707418,0.1796951,-432.0422],[8.954147,0.1796951,-433.3972],[9.200874,0.1796951,-435.4717],[9.447603,0.1796951,-438.2453],[9.694331,0.1796951,-441.6987],[9.941059,0.1796951,-445.8138],[3.032671,0.1850932,-695.0472],[3.2794,0.1850932,-667.5645],[3.526128,0.1850932,-642.2562],[3.772856,0.1850932,-618.9472],[4.019584,0.1850932,-597.4883],[4.266313,0.1850932,-577.7512],[4.513041,0.1850932,-559.6239],[4.759768,0.1850932,-543.0082],[5.006496,0.1850932,-527.817],[5.253225,0.1850932,-513.9728],[5.499953,0.1850932,-501.4061],[5.746681,0.1850932,-490.0541],[5.993409,0.1850932,-479.86],[6.240137,0.1850932,-470.7719],[6.486866,0.1850932,-462.7425],[6.733594,0.1850932,-455.7282],[6.980322,0.1850932,-449.6891],[7.22705,0.1850932,-444.588],[7.473778,0.1850932,-440.3907],[7.720506,0.1850932,-437.0653],[7.967235,0.1850932,-434.582],[8.213963,0.1850932,-432.9131],[8.46069,0.1850932,-432.0327],[8.707418,0.1850932,-431.9162],[8.954147,0.1850932,-432.5407],[9.200874,0.1850932,-433.8848],[9.447603,0.1850932,-435.9279],[9.694331,0.1850932,-438.651],[9.941059,0.1850932,-442.0356],[3.032671,0.1904913,-711.9792],[3.2794,0.1904913,-683.7871],[3.526128,0.1904913,-657.7694],[3.772856,0.1904913,-633.751],[4.019584,0.1904913,-611.5827],[4.266313,0.1904913,-591.1361],[4.513041,0.1904913,-572.2994],[4.759768,0.1904913,-554.9742],[5.006496,0.1904913,-539.0736],[5.253225,0.1904913,-524.52],[5.499953,0.1904913,-511.2439],[5.746681,0.1904913,-499.1826],[5.993409,0.1904913,-488.279],[6.240137,0.1904913,-478.4815],[6.486866,0.1904913,-469.7426],[6.733594,0.1904913,-462.019],[6.980322,0.1904913,-455.2704],[7.22705,0.1904913,-449.4599],[7.473778,0.1904913,-444.5532],[7.720506,0.1904913,-440.5184],[7.967235,0.1904913,-437.3257],[8.213963,0.1904913,-434.9474],[8.46069,0.1904913,-433.3575],[8.707418,0.1904913,-432.5316],[8.954147,0.1904913,-432.4467],[9.200874,0.1904913,-433.0814],[9.447603,0.1904913,-434.4151],[9.694331,0.1904913,-436.4287],[9.941059,0.1904913,-439.1039],[3.032671,0.1958894,-729.155],[3.2794,0.1958894,-700.2733],[3.526128,0.1958894,-673.566],[3.772856,0.1958894,-648.858],[4.019584,0.1958894,-626.0001],[4.266313,0.1958894,-604.864],[4.513041,0.1958894,-585.3377],[4.759768,0.1958894,-567.3229],[5.006496,0.1958894,-550.7328],[5.253225,0.1958894,-535.4896],[5.499953,0.1958894,-521.5239],[5.746681,0.1958894,-508.7729],[5.993409,0.1958894,-497.1798],[6.240137,0.1958894,-486.6927],[6.486866,0.1958894,-477.2642],[6.733594,0.1958894,-468.851],[6.980322,0.1958894,-461.4128],[7.22705,0.1958894,-454.9127],[7.473778,0.1958894,-449.3164],[7.720506,0.1958894,-444.592],[7.967235,0.1958894,-440.7097],[8.213963,0.1958894,-437.6418],[8.46069,0.1958894,-435.3624],[8.707418,0.1958894,-433.8469],[8.954147,0.1958894,-433.0724],[9.200874,0.1958894,-433.0175],[9.447603,0.1958894,-433.6617],[9.694331,0.1958894,-434.9857],[9.941059,0.1958894,-436.9713],[3.032671,0.2012875,-746.5614],[3.2794,0.2012875,-717.0088],[3.526128,0.2012875,-689.6307],[3.772856,0.2012875,-664.2518],[4.019584,0.2012875,-640.7231],[4.266313,0.2012875,-618.9162],[4.513041,0.2012875,-598.719],[4.759768,0.2012875,-580.0334],[5.006496,0.2012875,-562.7723],[5.253225,0.2012875,-546.8584],[5.499953,0.2012875,-532.2219],[5.746681,0.2012875,-518.8],[5.993409,0.2012875,-506.5361],[6.240137,0.2012875,-495.3782],[6.486866,0.2012875,-485.2789],[6.733594,0.2012875,-476.1948],[6.980322,0.2012875,-468.0858],[7.22705,0.2012875,-460.9149],[7.473778,0.2012875,-454.6478],[7.720506,0.2012875,-449.2525],[7.967235,0.2012875,-444.6994],[8.213963,0.2012875,-440.9607],[8.46069,0.2012875,-438.0104],[8.707418,0.2012875,-435.824],[8.954147,0.2012875,-434.3788],[9.200874,0.2012875,-433.653],[9.447603,0.2012875,-433.6263],[9.694331,0.2012875,-434.2795],[9.941059,0.2012875,-435.5943],[3.032671,0.2066857,-764.186],[3.2794,0.2066857,-733.9804],[3.526128,0.2066857,-705.9491],[3.772856,0.2066857,-679.9172],[4.019584,0.2066857,-655.7355],[4.266313,0.2066857,-633.2755],[4.513041,0.2066857,-612.4252],[4.759768,0.2066857,-593.0865],[5.006496,0.2066857,-575.1725],[5.253225,0.2066857,-558.6054],[5.499953,0.2066857,-543.3158],[5.746681,0.2066857,-529.2409],[5.993409,0.2066857,-516.3239],[6.240137,0.2066857,-504.5128],[6.486866,0.2066857,-493.7605],[6.733594,0.2066857,-484.0233],[6.980322,0.2066857,-475.2613],[7.22705,0.2066857,-467.4373],[7.473778,0.2066857,-460.5171],[7.720506,0.2066857,-454.4688],[7.967235,0.2066857,-449.2626],[8.213963,0.2066857,-444.8708],[8.46069,0.2066857,-441.2674],[8.707418,0.2066857,-438.428],[8.954147,0.2066857,-436.3297],[9.200874,0.2066857,-434.9508],[9.447603,0.2066857,-434.2711],[9.694331,0.2066857,-434.2712],[9.941059,0.2066857,-434.9329],[3.032671,0.2120838,-782.0176],[3.2794,0.2120838,-751.1758],[3.526128,0.2120838,-722.5084],[3.772856,0.2120838,-695.8402],[4.019584,0.2120838,-671.0222],[4.266313,0.2120838,-647.926],[4.513041,0.2120838,-626.4395],[4.759768,0.2120838,-606.4646],[5.006496,0.2120838,-587.9143],[5.253225,0.2120838,-570.7111],[5.499953,0.2120838,-554.7852],[5.746681,0.2120838,-540.0741],[5.993409,0.2120838,-526.5208],[6.240137,0.2120838,-514.0735],[6.486866,0.2120838,-502.685],[6.733594,0.2120838,-492.3116],[6.980322,0.2120838,-482.9133],[7.22705,0.2120838,-474.4531],[7.473778,0.2120838,-466.8967],[7.720506,0.2120838,-460.2121],[7.967235,0.2120838,-454.3697],[8.213963,0.2120838,-449.3417],[8.46069,0.2120838,-445.1021],[8.707418,0.2120838,-441.6265],[8.954147,0.2120838,-438.8919],[9.200874,0.2120838,-436.8768],[9.447603,0.2120838,-435.5608],[9.694331,0.2120838,-434.9247],[9.941059,0.2120838,-434.9502]],"ignoreExtent":false,"flags":11},"150":{"id":150,"type":"lines","material":{"lit":false},"vertices":[[2.909307,0.0582374,-433.7844],[2.909307,0.0582374,-433.7844],[10.06442,0.2147828,-429.1792],[10.06442,0.2147828,-429.1792]],"colors":[[0,0,0,1]],"centers":[[2.909307,0.0582374,-433.7844],[10.06442,0.2147828,-429.1792]],"ignoreExtent":false,"flags":128},"152":{"id":152,"type":"text","material":{"lit":false},"vertices":[[6.486866,0.03170295,-434.5649]],"colors":[[0,0,0,1]],"texts":[["shape"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[6.486866,0.03170295,-434.5649]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"153":{"id":153,"type":"text","material":{"lit":false},"vertices":[[1.696515,0.1365101,-434.5649]],"colors":[[0,0,0,1]],"texts":[["rate"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[1.696515,0.1365101,-434.5649]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"154":{"id":154,"type":"text","material":{"lit":false},"vertices":[[1.696515,0.03170295,-431.4818]],"colors":[[0,0,0,1]],"texts":[["loglik"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[1.696515,0.03170295,-431.4818]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"138":{"id":138,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"137":{"id":137,"type":"background","colors":[[0.2980392,0.2980392,0.2980392,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"139":{"id":139,"type":"background","colors":[[1,1,1,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"143":{"id":143,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":[[4,null,null],[6,null,null],[8,null,null],[10,null,null],[null,0.1,null],[null,0.15,null],[null,0.2,null],[null,null,-1000],[null,null,-900],[null,null,-800],[null,null,-700],[null,null,-600],[null,null,-500]],"colors":[[0,0,0,1]],"draw_front":true,"newIds":[162,163,164,165,166,167,168]},"151":{"id":151,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":[[4,null,null],[6,null,null],[8,null,null],[10,null,null],[null,0.1,null],[null,0.15,null],[null,0.2,null],[null,null,-433],[null,null,-432],[null,null,-431],[null,null,-430]],"colors":[[0,0,0,1]],"draw_front":true,"newIds":[171,172,173,174,175,176,177]},"140":{"id":140,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":[140,141],"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,1408.504],"modelMatrix":[[46.44561,0,0,-301.2864],[0,726.0602,0.5425738,289.8931],[0,-1994.834,0.1974807,-994.6017],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-5077.494],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[46.44561,2122.858,0.5773949],"viewport":{"x":0,"y":0,"width":0.5,"height":1},"zoom":1,"bbox":[2.909307,10.06442,0.0582374,0.2147828,-1004.746,-429.1888],"windowRect":[100,100,676,388],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[143,142,144,145,146,138,162,163,164,165,166,167,168],"parent":134,"subscenes":[],"flags":1195},"147":{"id":147,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":[140,141],"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,20.82515],"modelMatrix":[[0.6867127,0,0,-4.454613],[0,10.73503,1.002611,431.143],[0,-29.49424,0.3649206,140.6577],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-75.07225],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[0.6867127,31.38711,1.066957],"viewport":{"x":0.5,"y":0,"width":0.5,"height":1},"zoom":1,"bbox":[2.909307,10.06442,0.0582374,0.2147828,-433.7844,-429.1888],"windowRect":[100,100,676,388],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"inherit","projection":"inherit","model":"inherit"},"objects":[148,149,138],"parent":141,"subscenes":[],"flags":3083},"141":{"id":141,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":[140,141],"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,20.82515],"modelMatrix":[[0.6867127,0,0,-4.454613],[0,10.73503,1.002611,431.143],[0,-29.49424,0.3649206,140.6577],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-75.07225],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[0.6867127,31.38711,1.066957],"viewport":{"x":0.5,"y":0,"width":0.5,"height":1},"zoom":1,"bbox":[2.909307,10.06442,0.0582374,0.2147828,-433.7844,-429.1792],"windowRect":[100,100,676,388],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[151,150,152,153,154,138,147,171,172,173,174,175,176,177],"subscenes":147,"parent":134,"flags":3243},"134":{"id":134,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":134,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38],"windowRect":[100,100,676,388],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[139,138,140,141],"subscenes":[140,141],"flags":3243},"162":{"id":162,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4,0.05588922,-1013.379],[10,0.05588922,-1013.379],[4,0.05588922,-1013.379],[4,0.05185817,-1028.2],[6,0.05588922,-1013.379],[6,0.05185817,-1028.2],[8,0.05588922,-1013.379],[8,0.05185817,-1028.2],[10,0.05588922,-1013.379],[10,0.05185817,-1028.2]],"colors":[[0,0,0,1]],"centers":[[7,0.05588922,-1013.379],[4,0.0538737,-1020.789],[6,0.0538737,-1020.789],[8,0.0538737,-1020.789],[10,0.0538737,-1020.789]],"ignoreExtent":true,"origId":143,"flags":128},"163":{"id":163,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4,0.04379608,-1057.841],[6,0.04379608,-1057.841],[8,0.04379608,-1057.841],[10,0.04379608,-1057.841]],"colors":[[0,0,0,1]],"texts":[["4"],["6"],["8"],["10"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[4,0.04379608,-1057.841],[6,0.04379608,-1057.841],[8,0.04379608,-1057.841],[10,0.04379608,-1057.841]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":143,"flags":40},"164":{"id":164,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.1,-1013.379],[2.801981,0.2,-1013.379],[2.801981,0.1,-1013.379],[2.617737,0.1,-1028.2],[2.801981,0.15,-1013.379],[2.617737,0.15,-1028.2],[2.801981,0.2,-1013.379],[2.617737,0.2,-1028.2]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.15,-1013.379],[2.709859,0.1,-1020.789],[2.709859,0.15,-1020.789],[2.709859,0.2,-1020.789]],"ignoreExtent":true,"origId":143,"flags":128},"165":{"id":165,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.249248,0.1,-1057.841],[2.249248,0.15,-1057.841],[2.249248,0.2,-1057.841]],"colors":[[0,0,0,1]],"texts":[["0.1"],["0.15"],["0.2"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[2.249248,0.1,-1057.841],[2.249248,0.15,-1057.841],[2.249248,0.2,-1057.841]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":143,"flags":40},"166":{"id":166,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.05588922,-1000],[2.801981,0.05588922,-500],[2.801981,0.05588922,-1000],[2.617737,0.05185817,-1000],[2.801981,0.05588922,-900],[2.617737,0.05185817,-900],[2.801981,0.05588922,-800],[2.617737,0.05185817,-800],[2.801981,0.05588922,-700],[2.617737,0.05185817,-700],[2.801981,0.05588922,-600],[2.617737,0.05185817,-600],[2.801981,0.05588922,-500],[2.617737,0.05185817,-500]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.05588922,-750],[2.709859,0.0538737,-1000],[2.709859,0.0538737,-900],[2.709859,0.0538737,-800],[2.709859,0.0538737,-700],[2.709859,0.0538737,-600],[2.709859,0.0538737,-500]],"ignoreExtent":true,"origId":143,"flags":128},"167":{"id":167,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.249248,0.04379608,-1000],[2.249248,0.04379608,-900],[2.249248,0.04379608,-800],[2.249248,0.04379608,-700],[2.249248,0.04379608,-600],[2.249248,0.04379608,-500]],"colors":[[0,0,0,1]],"texts":[["-1000"],["-900"],["-800"],["-700"],["-600"],["-500"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[2.249248,0.04379608,-1000],[2.249248,0.04379608,-900],[2.249248,0.04379608,-800],[2.249248,0.04379608,-700],[2.249248,0.04379608,-600],[2.249248,0.04379608,-500]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":143,"flags":40},"168":{"id":168,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.05588922,-1013.379],[2.801981,0.217131,-1013.379],[2.801981,0.05588922,-420.5554],[2.801981,0.217131,-420.5554],[2.801981,0.05588922,-1013.379],[2.801981,0.05588922,-420.5554],[2.801981,0.217131,-1013.379],[2.801981,0.217131,-420.5554],[2.801981,0.05588922,-1013.379],[10.17175,0.05588922,-1013.379],[2.801981,0.05588922,-420.5554],[10.17175,0.05588922,-420.5554],[2.801981,0.217131,-1013.379],[10.17175,0.217131,-1013.379],[2.801981,0.217131,-420.5554],[10.17175,0.217131,-420.5554],[10.17175,0.05588922,-1013.379],[10.17175,0.217131,-1013.379],[10.17175,0.05588922,-420.5554],[10.17175,0.217131,-420.5554],[10.17175,0.05588922,-1013.379],[10.17175,0.05588922,-420.5554],[10.17175,0.217131,-1013.379],[10.17175,0.217131,-420.5554]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.1365101,-1013.379],[2.801981,0.1365101,-420.5554],[2.801981,0.05588922,-716.9673],[2.801981,0.217131,-716.9673],[6.486866,0.05588922,-1013.379],[6.486866,0.05588922,-420.5554],[6.486866,0.217131,-1013.379],[6.486866,0.217131,-420.5554],[10.17175,0.1365101,-1013.379],[10.17175,0.1365101,-420.5554],[10.17175,0.05588922,-716.9673],[10.17175,0.217131,-716.9673]],"ignoreExtent":true,"origId":143,"flags":128},"171":{"id":171,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4,0.05588922,-433.8535],[10,0.05588922,-433.8535],[4,0.05588922,-433.8535],[4,0.05185817,-433.972],[6,0.05588922,-433.8535],[6,0.05185817,-433.972],[8,0.05588922,-433.8535],[8,0.05185817,-433.972],[10,0.05588922,-433.8535],[10,0.05185817,-433.972]],"colors":[[0,0,0,1]],"centers":[[7,0.05588922,-433.8535],[4,0.0538737,-433.9127],[6,0.0538737,-433.9127],[8,0.0538737,-433.9127],[10,0.0538737,-433.9127]],"ignoreExtent":true,"origId":151,"flags":128},"172":{"id":172,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[4,0.04379608,-434.2092],[6,0.04379608,-434.2092],[8,0.04379608,-434.2092],[10,0.04379608,-434.2092]],"colors":[[0,0,0,1]],"texts":[["4"],["6"],["8"],["10"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[4,0.04379608,-434.2092],[6,0.04379608,-434.2092],[8,0.04379608,-434.2092],[10,0.04379608,-434.2092]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":151,"flags":40},"173":{"id":173,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.1,-433.8535],[2.801981,0.2,-433.8535],[2.801981,0.1,-433.8535],[2.617737,0.1,-433.972],[2.801981,0.15,-433.8535],[2.617737,0.15,-433.972],[2.801981,0.2,-433.8535],[2.617737,0.2,-433.972]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.15,-433.8535],[2.709859,0.1,-433.9127],[2.709859,0.15,-433.9127],[2.709859,0.2,-433.9127]],"ignoreExtent":true,"origId":151,"flags":128},"174":{"id":174,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.249248,0.1,-434.2092],[2.249248,0.15,-434.2092],[2.249248,0.2,-434.2092]],"colors":[[0,0,0,1]],"texts":[["0.1"],["0.15"],["0.2"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[2.249248,0.1,-434.2092],[2.249248,0.15,-434.2092],[2.249248,0.2,-434.2092]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":151,"flags":40},"175":{"id":175,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.05588922,-433],[2.801981,0.05588922,-430],[2.801981,0.05588922,-433],[2.617737,0.05185817,-433],[2.801981,0.05588922,-432],[2.617737,0.05185817,-432],[2.801981,0.05588922,-431],[2.617737,0.05185817,-431],[2.801981,0.05588922,-430],[2.617737,0.05185817,-430]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.05588922,-431.5],[2.709859,0.0538737,-433],[2.709859,0.0538737,-432],[2.709859,0.0538737,-431],[2.709859,0.0538737,-430]],"ignoreExtent":true,"origId":151,"flags":128},"176":{"id":176,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.249248,0.04379608,-433],[2.249248,0.04379608,-432],[2.249248,0.04379608,-431],[2.249248,0.04379608,-430]],"colors":[[0,0,0,1]],"texts":[["-433"],["-432"],["-431"],["-430"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[2.249248,0.04379608,-433],[2.249248,0.04379608,-432],[2.249248,0.04379608,-431],[2.249248,0.04379608,-430]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":151,"flags":40},"177":{"id":177,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[2.801981,0.05588922,-433.8535],[2.801981,0.217131,-433.8535],[2.801981,0.05588922,-429.1101],[2.801981,0.217131,-429.1101],[2.801981,0.05588922,-433.8535],[2.801981,0.05588922,-429.1101],[2.801981,0.217131,-433.8535],[2.801981,0.217131,-429.1101],[2.801981,0.05588922,-433.8535],[10.17175,0.05588922,-433.8535],[2.801981,0.05588922,-429.1101],[10.17175,0.05588922,-429.1101],[2.801981,0.217131,-433.8535],[10.17175,0.217131,-433.8535],[2.801981,0.217131,-429.1101],[10.17175,0.217131,-429.1101],[10.17175,0.05588922,-433.8535],[10.17175,0.217131,-433.8535],[10.17175,0.05588922,-429.1101],[10.17175,0.217131,-429.1101],[10.17175,0.05588922,-433.8535],[10.17175,0.05588922,-429.1101],[10.17175,0.217131,-433.8535],[10.17175,0.217131,-429.1101]],"colors":[[0,0,0,1]],"centers":[[2.801981,0.1365101,-433.8535],[2.801981,0.1365101,-429.1101],[2.801981,0.05588922,-431.4818],[2.801981,0.217131,-431.4818],[6.486866,0.05588922,-433.8535],[6.486866,0.05588922,-429.1101],[6.486866,0.217131,-433.8535],[6.486866,0.217131,-429.1101],[10.17175,0.1365101,-433.8535],[10.17175,0.1365101,-429.1101],[10.17175,0.05588922,-431.4818],[10.17175,0.217131,-431.4818]],"ignoreExtent":true,"origId":151,"flags":128}},"width":577,"height":289,"sphereVerts":{"material":[],"it":[[0,6,7,19,4,8,6,22,2,7,8,25,7,6,8,26,0,7,9,27,2,10,7,24,5,9,10,32,9,7,10,33,0,11,6,18,3,12,11,37,4,6,12,39,6,11,12,40,0,9,11,34,5,13,9,31,3,11,13,44,11,9,13,45,1,14,15,47,2,8,14,49,4,15,8,21,15,14,8,52,1,16,14,46,5,10,16,55,2,14,10,29,14,16,10,57,1,15,17,58,4,12,15,51,3,17,12,36,17,15,12,62,1,17,16,53,3,13,17,61,5,16,13,42,16,17,13,65],[18,20,19,18,21,23,22,21,24,26,25,24,20,23,26,20,19,28,27,19,29,30,24,29,31,33,32,31,28,30,33,28,34,35,18,34,36,38,37,36,22,40,39,22,35,38,40,35,27,41,34,27,42,43,31,42,37,45,44,37,41,43,45,41,46,48,47,46,25,50,49,25,51,52,21,51,48,50,52,48,53,54,46,53,32,56,55,32,49,57,29,49,54,56,57,54,47,59,58,47,39,60,51,39,61,62,36,61,59,60,62,59,58,63,53,58,44,64,61,44,55,65,42,55,63,64,65,63],[19,18,20,20,22,21,23,23,25,24,26,26,26,20,23,23,27,19,28,28,24,29,30,30,32,31,33,33,33,28,30,30,18,34,35,35,37,36,38,38,39,22,40,40,40,35,38,38,34,27,41,41,31,42,43,43,44,37,45,45,45,41,43,43,47,46,48,48,49,25,50,50,21,51,52,52,52,48,50,50,46,53,54,54,55,32,56,56,29,49,57,57,57,54,56,56,58,47,59,59,51,39,60,60,36,61,62,62,62,59,60,60,53,58,63,63,61,44,64,64,42,55,65,65,65,63,64,64]],"vb":[[-1,1,0,0,0,0,-0.7071068,-0.7071068,0,-0.7071068,0,-0.7071068,0,0,0.7071068,0.7071068,0.7071068,0.7071068,-0.9349975,-0.9349975,-0.77044,0,-0.3546542,-0.4507894,-0.3546542,0,-0.4507894,-0.9349975,-0.77044,0,-0.4507894,-0.3546542,0,-0.4507894,-0.9349975,-0.77044,0,-0.3546542,-0.4507894,0,-0.4507894,-0.77044,0,-0.4507894,0,-0.4507894,0.9349975,0.9349975,0.77044,0.3546542,0.4507894,0.3546542,0.4507894,0.9349975,0.77044,0.3546542,0.4507894,0.4507894,0.9349975,0.77044,0.4507894,0.3546542,0.4507894,0.77044,0.4507894,0.4507894],[0,0,-1,1,0,0,0,-0.7071068,-0.7071068,0,-0.7071068,0.7071068,0.7071068,0.7071068,-0.7071068,0,0,0.7071068,0,-0.3546542,-0.4507894,-0.3546542,0,-0.4507894,-0.9349975,-0.9349975,-0.77044,0,-0.4507894,-0.9349975,-0.77044,0,-0.3546542,-0.4507894,0.3546542,0.4507894,0.9349975,0.9349975,0.77044,0.3546542,0.4507894,0.4507894,0.3546542,0.4507894,0.9349975,0.77044,-0.3546542,0,-0.4507894,-0.9349975,-0.77044,0,-0.4507894,0,-0.4507894,0,-0.4507894,-0.77044,0.3546542,0.4507894,0.4507894,0.9349975,0.77044,0.4507894,0.77044,0.4507894],[0,0,0,0,-1,1,-0.7071068,0,-0.7071068,0.7071068,0.7071068,0,-0.7071068,0.7071068,0,-0.7071068,0.7071068,0,-0.3546542,0,-0.4507894,-0.9349975,-0.9349975,-0.77044,0,-0.3546542,-0.4507894,0.3546542,0.4507894,0.3546542,0.4507894,0.9349975,0.9349975,0.77044,0,-0.4507894,-0.3546542,0,-0.4507894,-0.9349975,-0.77044,0.4507894,0.9349975,0.77044,0.3546542,0.4507894,0,-0.3546542,-0.4507894,0,-0.4507894,-0.9349975,-0.77044,0.3546542,0.4507894,0.9349975,0.77044,0.4507894,0,-0.4507894,-0.77044,0,-0.4507894,0.4507894,0.4507894,0.77044]],"primitivetype":"triangle"}});
persp3drgl.prefix = "persp3d";
</script>
<p id="persp3ddebug">
You must enable Javascript to view this page properly.
</p>
<script>persp3drgl.start();</script>
 
<p>On the left, the whole surface over a range of the parameters; on the right, only the parts of the surface with log likelihood values near the maximum.</p>
<p>Note: this example used the <code>knitr</code> hook functions (see <a href="#setupKnitr"><code>setupKnitr</code></a>) to insert the scene into this vignette; the previous example used the <code>rglwidget</code> function from the package of the same name. We generally recommend the newer <a href="../../rglwidget/help/rglwidget"><code>rglwidget</code></a> approach.</p>
</div>
<div id="adding-graphical-elements" class="section level2">
<h2>Adding Graphical Elements</h2>
<div id="primitive-shapes" class="section level3">
<h3>Primitive shapes</h3>
<p>Just as we have <a href="../../graphics/help/points"><code>points</code></a> and <a href="../../graphics/help/lines"><code>lines</code></a> in classic graphics, there are a number of low level functions in <code>rgl</code> to add graphical elements to the currently active plot. The “primitive” shapes are those that are native to OpenGL:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="points3d"><a href="#points3d"><code>points3d</code></a></a>:</td>
<td align="left">adds points</td>
</tr>
<tr class="even">
<td align="left"><a name="lines3d"><a href="#lines3d"><code>lines3d</code></a></a>:</td>
<td align="left">adds lines</td>
</tr>
<tr class="odd">
<td align="left"><a name="segments3d"><a href="#segments3d"><code>segments3d</code></a></a>:</td>
<td align="left">adds line segments</td>
</tr>
<tr class="even">
<td align="left"><a name="triangles3d"><a href="#triangles3d"><code>triangles3d</code></a></a>:</td>
<td align="left">adds triangles</td>
</tr>
<tr class="odd">
<td align="left"><a name="quads3d"><a href="#quads3d"><code>quads3d</code></a></a>:</td>
<td align="left">adds quadrilaterals</td>
</tr>
</tbody>
</table>
<p>Each of the above functions takes arguments <code>x</code>, <code>y</code> and <code>z</code>, again using <a href="../../grDevices/help/xyz.coords"><code>xyz.coords</code></a> for flexibility. They group successive entries as necessary. For example, the <a href="#triangles3d"><code>triangles3d</code></a> function takes each successive triple of points as the vertices of a triangle.</p>
<p>You can use these functions to annotate the current graph, or to construct a figure from scratch.</p>
</div>
<div id="constructed-shapes" class="section level3">
<h3>Constructed shapes</h3>
<p><code>rgl</code> also has a number of objects which it constructs from the primitives.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="text3d"><a href="#text3d"><code>text3d</code></a></a>, <a name="texts3d"><a href="#texts3d"><code>texts3d</code></a></a>:</td>
<td align="left">adds text</td>
</tr>
<tr class="even">
<td align="left"><a name="abclines3d"><a href="#abclines3d"><code>abclines3d</code></a></a>:</td>
<td align="left">adds straight lines to plot (like <code>abline</code>)</td>
</tr>
<tr class="odd">
<td align="left"><a name="planes3d"><a href="#planes3d"><code>planes3d</code></a></a>:</td>
<td align="left">adds planes to plot</td>
</tr>
<tr class="even">
<td align="left"><a name="clipplanes3d"><a href="#clipplanes3d"><code>clipplanes3d</code></a></a>:</td>
<td align="left">add clipping planes to plot</td>
</tr>
<tr class="odd">
<td align="left"><a name="sprites3d"><a href="#sprites3d"><code>sprites3d</code></a></a>, <a name="particles3d"><a href="#particles3d"><code>particles3d</code></a></a>:</td>
<td align="left">add sprites (fixed shapes or images) to plot</td>
</tr>
<tr class="even">
<td align="left"><a name="spheres3d"><a href="#spheres3d"><code>spheres3d</code></a></a>:</td>
<td align="left">adds spheres</td>
</tr>
<tr class="odd">
<td align="left"><a name="surface3d"><a href="#surface3d"><code>surface3d</code></a></a>, <a name="terrain3d"><a href="#terrain3d"><code>terrain3d</code></a></a>:</td>
<td align="left">a surface (as used in <a href="#persp3d"><code>persp3d</code></a>)</td>
</tr>
</tbody>
</table>
</div>
<div id="axes-and-other-decorations" class="section level3">
<h3>Axes and other “decorations”</h3>
<p>The following low-level functions control the look of the graph:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="axes3d"><a href="#axes3d"><code>axes3d</code></a></a>, <a name="axis3d"><a href="#axis3d"><code>axis3d</code></a></a>:</td>
<td align="left">add axes to plot</td>
</tr>
<tr class="even">
<td align="left"><a name="box3d"><a href="#box3d"><code>box3d</code></a></a>, <a name="bbox3d"><a href="#bbox3d"><code>bbox3d</code></a></a>:</td>
<td align="left">add box around plot</td>
</tr>
<tr class="odd">
<td align="left"><a name="title3d"><a href="#title3d"><code>title3d</code></a></a>:</td>
<td align="left">add title to plot</td>
</tr>
<tr class="even">
<td align="left"><a name="mtext3d"><a href="#mtext3d"><code>mtext3d</code></a></a>:</td>
<td align="left">add marginal text to plot</td>
</tr>
<tr class="odd">
<td align="left"><a name="decorate3d"><a href="#decorate3d"><code>decorate3d</code></a></a>:</td>
<td align="left">add multiple “decorations” (scales, etc.) to plot</td>
</tr>
<tr class="even">
<td align="left"><a name="aspect3d"><a href="#aspect3d"><code>aspect3d</code></a></a>:</td>
<td align="left">set the aspect ratios for the plot</td>
</tr>
<tr class="odd">
<td align="left"><a name="bg3d"><a href="#bg3d"><code>bg3d</code></a></a>, <a name="bgplot3d"><a href="#bgplot3d"><code>bgplot3d</code></a></a>:</td>
<td align="left">set the background of the scene</td>
</tr>
<tr class="even">
<td align="left"><a name="show2d"><a href="#show2d"><code>show2d</code></a></a>:</td>
<td align="left">show a 2D plot or image in a 3D scene</td>
</tr>
<tr class="odd">
<td align="left"><a name="legend3d"><a href="#legend3d"><code>legend3d</code></a></a>:</td>
<td align="left">set a legend for the scene</td>
</tr>
<tr class="even">
<td align="left"><a name="grid3d"><a href="#grid3d"><code>grid3d</code></a></a>:</td>
<td align="left">add a reference grid to a graph</td>
</tr>
</tbody>
</table>
<p>For example, to plot three random triangles, one could use</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">triangles3d</span>(<span class="kw">cbind</span>(<span class="dt">x=</span><span class="kw">rnorm</span>(<span class="dv">9</span>), <span class="dt">y=</span><span class="kw">rnorm</span>(<span class="dv">9</span>), <span class="dt">z=</span><span class="kw">rnorm</span>(<span class="dv">9</span>)), <span class="dt">col =</span> <span class="st">&quot;green&quot;</span>)
<span class="kw">decorate3d</span>()
<span class="kw">bg3d</span>(<span class="st">&quot;lightgray&quot;</span>)
<span class="kw">aspect3d</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</code></pre>
<div id="unnamed_chunk_2div" class="rglWebGL">

</div>
<script type="text/javascript">
var unnamed_chunk_2div = document.getElementById("unnamed_chunk_2div"),
unnamed_chunk_2rgl = new rglwidgetClass();
unnamed_chunk_2div.width = 289;
unnamed_chunk_2div.height = 289;
unnamed_chunk_2rgl.initialize(unnamed_chunk_2div,
{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":false,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less"},"rootSubscene":178,"objects":{"184":{"id":184,"type":"triangles","material":{},"vertices":[[0.6028703,-0.3925536,-0.2639929],[-0.7661688,0.007051324,-0.7524627],[-0.6203265,-2.494835,0.4406921],[0.7901903,-0.9772964,-1.277451],[-0.2419765,0.6285688,1.177192],[1.117486,-0.08414047,0.9025058],[1.184931,0.3821316,-1.261304],[1.646475,-1.093414,0.8374552],[0.1929962,-0.755464,-2.34829]],"normals":[[-0.19687,0.4126596,0.8893561],[-0.19687,0.4126596,0.8893561],[-0.19687,0.4126596,0.8893561],[0.3610578,0.8426577,-0.3994564],[0.3610578,0.8426577,-0.3994564],[0.3610578,0.8426577,-0.3994564],[0.8436591,-0.3339899,-0.4203451],[0.8436591,-0.3339899,-0.4203451],[0.8436591,-0.3339899,-0.4203451]],"colors":[[0,1,0,1]],"centers":[[-0.2612083,-0.9601126,-0.1919212],[0.5552334,-0.1442893,0.2674157],[1.008134,-0.4889154,-0.9240464]],"ignoreExtent":false,"flags":3},"186":{"id":186,"type":"text","material":{"lit":false},"vertices":[[0.440153,-3.024252,-2.945859]],"colors":[[0,0,0,1]],"texts":[["x"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0.440153,-3.024252,-2.945859]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"187":{"id":187,"type":"text","material":{"lit":false},"vertices":[[-1.175112,-0.9331332,-2.945859]],"colors":[[0,0,0,1]],"texts":[["y"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[-1.175112,-0.9331332,-2.945859]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"188":{"id":188,"type":"text","material":{"lit":false},"vertices":[[-1.175112,-3.024252,-0.5855491]],"colors":[[0,0,0,1]],"texts":[["z"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[-1.175112,-3.024252,-0.5855491]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"flags":40},"182":{"id":182,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"181":{"id":181,"type":"background","colors":[[0.2980392,0.2980392,0.2980392,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"183":{"id":183,"type":"background","colors":[[1,1,1,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"189":{"id":189,"type":"background","colors":[[0.827451,0.827451,0.827451,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"185":{"id":185,"type":"bboxdeco","material":{"front":"lines","back":"lines"},"vertices":[[-0.5,null,null],[0,null,null],[0.5,null,null],[1,null,null],[1.5,null,null],[null,-2,null],[null,-1.5,null],[null,-1,null],[null,-0.5,null],[null,0,null],[null,0.5,null],[null,null,-2],[null,null,-1],[null,null,0],[null,null,1]],"colors":[[0,0,0,1]],"draw_front":true,"newIds":[197,198,199,200,201,202,203]},"178":{"id":178,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":178,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,12.94965],"modelMatrix":[[1.266392,0,0,-0.5574061],[0,0.3345683,0.8143827,0.7890579],[0,-0.9192188,0.2964111,-13.63384],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-46.68199],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1.266392,0.9782122,0.866648],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[-0.7661688,1.646475,-2.494835,0.6285688,-2.34829,1.177192],"windowRect":[100,100,388,388],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[189,185,184,186,187,188,182,197,198,199,200,201,202,203],"subscenes":[],"flags":1195},"197":{"id":197,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.5,-2.541687,-2.401172],[1.5,-2.541687,-2.401172],[-0.5,-2.541687,-2.401172],[-0.5,-2.622114,-2.491954],[0,-2.541687,-2.401172],[0,-2.622114,-2.491954],[0.5,-2.541687,-2.401172],[0.5,-2.622114,-2.491954],[1,-2.541687,-2.401172],[1,-2.622114,-2.491954],[1.5,-2.541687,-2.401172],[1.5,-2.622114,-2.491954]],"colors":[[0,0,0,1]],"centers":[[0.5,-2.541687,-2.401172],[-0.5,-2.5819,-2.446563],[0,-2.5819,-2.446563],[0.5,-2.5819,-2.446563],[1,-2.5819,-2.446563],[1.5,-2.5819,-2.446563]],"ignoreExtent":true,"origId":185,"flags":128},"198":{"id":198,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.5,-2.782969,-2.673516],[0,-2.782969,-2.673516],[0.5,-2.782969,-2.673516],[1,-2.782969,-2.673516],[1.5,-2.782969,-2.673516]],"colors":[[0,0,0,1]],"texts":[["-0.5"],["0"],["0.5"],["1"],["1.5"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[-0.5,-2.782969,-2.673516],[0,-2.782969,-2.673516],[0.5,-2.782969,-2.673516],[1,-2.782969,-2.673516],[1.5,-2.782969,-2.673516]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":185,"flags":40},"199":{"id":199,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.8023585,-2,-2.401172],[-0.8023585,0.5,-2.401172],[-0.8023585,-2,-2.401172],[-0.8644841,-2,-2.491954],[-0.8023585,-1.5,-2.401172],[-0.8644841,-1.5,-2.491954],[-0.8023585,-1,-2.401172],[-0.8644841,-1,-2.491954],[-0.8023585,-0.5,-2.401172],[-0.8644841,-0.5,-2.491954],[-0.8023585,0,-2.401172],[-0.8644841,0,-2.491954],[-0.8023585,0.5,-2.401172],[-0.8644841,0.5,-2.491954]],"colors":[[0,0,0,1]],"centers":[[-0.8023585,-0.75,-2.401172],[-0.8334213,-2,-2.446563],[-0.8334213,-1.5,-2.446563],[-0.8334213,-1,-2.446563],[-0.8334213,-0.5,-2.446563],[-0.8334213,0,-2.446563],[-0.8334213,0.5,-2.446563]],"ignoreExtent":true,"origId":185,"flags":128},"200":{"id":200,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.9887352,-2,-2.673516],[-0.9887352,-1.5,-2.673516],[-0.9887352,-1,-2.673516],[-0.9887352,-0.5,-2.673516],[-0.9887352,0,-2.673516],[-0.9887352,0.5,-2.673516]],"colors":[[0,0,0,1]],"texts":[["-2"],["-1.5"],["-1"],["-0.5"],["0"],["0.5"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[-0.9887352,-2,-2.673516],[-0.9887352,-1.5,-2.673516],[-0.9887352,-1,-2.673516],[-0.9887352,-0.5,-2.673516],[-0.9887352,0,-2.673516],[-0.9887352,0.5,-2.673516]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":185,"flags":40},"201":{"id":201,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.8023585,-2.541687,-2],[-0.8023585,-2.541687,1],[-0.8023585,-2.541687,-2],[-0.8644841,-2.622114,-2],[-0.8023585,-2.541687,-1],[-0.8644841,-2.622114,-1],[-0.8023585,-2.541687,0],[-0.8644841,-2.622114,0],[-0.8023585,-2.541687,1],[-0.8644841,-2.622114,1]],"colors":[[0,0,0,1]],"centers":[[-0.8023585,-2.541687,-0.5],[-0.8334213,-2.5819,-2],[-0.8334213,-2.5819,-1],[-0.8334213,-2.5819,0],[-0.8334213,-2.5819,1]],"ignoreExtent":true,"origId":185,"flags":128},"202":{"id":202,"type":"text","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.9887352,-2.782969,-2],[-0.9887352,-2.782969,-1],[-0.9887352,-2.782969,0],[-0.9887352,-2.782969,1]],"colors":[[0,0,0,1]],"texts":[["-2"],["-1"],["0"],["1"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[-0.9887352,-2.782969,-2],[-0.9887352,-2.782969,-1],[-0.9887352,-2.782969,0],[-0.9887352,-2.782969,1]],"family":[["sans"]],"font":[[1]],"ignoreExtent":true,"origId":185,"flags":40},"203":{"id":203,"type":"lines","material":{"lit":false,"front":"lines","back":"lines"},"vertices":[[-0.8023585,-2.541687,-2.401172],[-0.8023585,0.6754199,-2.401172],[-0.8023585,-2.541687,1.230074],[-0.8023585,0.6754199,1.230074],[-0.8023585,-2.541687,-2.401172],[-0.8023585,-2.541687,1.230074],[-0.8023585,0.6754199,-2.401172],[-0.8023585,0.6754199,1.230074],[-0.8023585,-2.541687,-2.401172],[1.682665,-2.541687,-2.401172],[-0.8023585,-2.541687,1.230074],[1.682665,-2.541687,1.230074],[-0.8023585,0.6754199,-2.401172],[1.682665,0.6754199,-2.401172],[-0.8023585,0.6754199,1.230074],[1.682665,0.6754199,1.230074],[1.682665,-2.541687,-2.401172],[1.682665,0.6754199,-2.401172],[1.682665,-2.541687,1.230074],[1.682665,0.6754199,1.230074],[1.682665,-2.541687,-2.401172],[1.682665,-2.541687,1.230074],[1.682665,0.6754199,-2.401172],[1.682665,0.6754199,1.230074]],"colors":[[0,0,0,1]],"centers":[[-0.8023585,-0.9331334,-2.401172],[-0.8023585,-0.9331334,1.230074],[-0.8023585,-2.541687,-0.5855491],[-0.8023585,0.6754199,-0.5855491],[0.440153,-2.541687,-2.401172],[0.440153,-2.541687,1.230074],[0.440153,0.6754199,-2.401172],[0.440153,0.6754199,1.230074],[1.682665,-0.9331334,-2.401172],[1.682665,-0.9331334,1.230074],[1.682665,-2.541687,-0.5855491],[1.682665,0.6754199,-0.5855491]],"ignoreExtent":true,"origId":185,"flags":128}},"width":289,"height":289,"sphereVerts":{"reuse":"persp3ddiv"}});
unnamed_chunk_2rgl.prefix = "unnamed_chunk_2";
</script>
<p id="unnamed_chunk_2debug">
You must enable Javascript to view this page properly.
</p>
<script>unnamed_chunk_2rgl.start();</script>

<p>Besides the <code>*3d</code> functions mentioned above, there are even lower-level functions <a name="rgl.primitive"><a href="#rgl.primitive"><code>rgl.primitive</code></a></a>, <a name="rgl.points"><a href="#rgl.points"><code>rgl.points</code></a></a>, <a name="rgl.linestrips"><a href="#rgl.linestrips"><code>rgl.linestrips</code></a></a>, <a name="rgl.lines"><a href="#rgl.lines"><code>rgl.lines</code></a></a>, <a name="rgl.triangles"><a href="#rgl.triangles"><code>rgl.triangles</code></a></a>, <a name="rgl.quads"><a href="#rgl.quads"><code>rgl.quads</code></a></a>, <a name="rgl.texts"><a href="#rgl.texts"><code>rgl.texts</code></a></a>, <a name="rgl.abclines"><a href="#rgl.abclines"><code>rgl.abclines</code></a></a>, <a name="rgl.planes"><a href="#rgl.planes"><code>rgl.planes</code></a></a>, <a name="rgl.bg"><a href="#rgl.bg"><code>rgl.bg</code></a></a>, <a name="rgl.clipplanes"><a href="#rgl.clipplanes"><code>rgl.clipplanes</code></a></a>, <a name="rgl.bbox"><a href="#rgl.bbox"><code>rgl.bbox</code></a></a>, <a name="rgl.spheres"><a href="#rgl.spheres"><code>rgl.spheres</code></a></a>, <a name="rgl.sprites"><a href="#rgl.sprites"><code>rgl.sprites</code></a></a>, <a name="rgl.surface"><a href="#rgl.surface"><code>rgl.surface</code></a></a>.<br />You should avoid using these functions, which do not work well with the higher level <code>*3d</code> functions. See the <a href="../../rgl/help/r3d">?r3d</a> help topic for details.</p>
</div>
</div>
<div id="controlling-the-look-of-the-scene" class="section level2">
<h2>Controlling the Look of the Scene</h2>
<div id="lighting" class="section level3">
<h3>Lighting</h3>
<p>In most scenes, objects are “lit”, meaning that their appearance depends on their position and orientation relative to lights in the scene. The lights themselves don’t normally show up, but their effect on the objects does.</p>
<p>Use the <a name="light3d"><a href="#light3d"><code>light3d</code></a></a> function to specify the position and characteristics of a light. Lights may be infinitely distant, or may be embedded within the scene. Their characteristics include <code>ambient</code>, <code>diffuse</code>, and <code>specular</code> components, all defaulting to white. The <code>ambient</code> component appears the same from any direction. The <code>diffuse</code> component depends on the angle between the surface and the light, while the <code>specular</code> component also takes the viewer’s position into account.</p>
<p>The <a name="rgl.light"><a href="#rgl.light"><code>rgl.light</code></a></a> function is a lower-level function with different defaults; users should normally use <a href="#light3d"><code>light3d</code></a>.</p>
</div>
<div id="materials" class="section level3">
<h3>Materials</h3>
<p>The mental model used in <code>rgl</code> is that the objects being shown in scenes are physical objects in space, with material properties that affect how light reflects from them (or is emitted by them). These are mainly controlled by the <a name="material3d"><a href="#material3d"><code>material3d</code></a></a> function, or by arguments to other functions that are passed to it.</p>
<p>The material properties that can be set by calls to <code>material3d</code> are described in detail in the <a href="../../rgl/help/material3d">?material3d</a> help page. Here we give an overview.</p>
<table>
<thead>
<tr class="header">
<th align="left">Property</th>
<th align="left">Default</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">color</td>
<td align="left">white</td>
<td align="left">vector of surface colors to apply to successive vertices for diffuse light</td>
</tr>
<tr class="even">
<td align="left">alpha</td>
<td align="left">1</td>
<td align="left">transparency: 0 is invisible, 1 is opaque</td>
</tr>
<tr class="odd">
<td align="left">lit</td>
<td align="left">TRUE</td>
<td align="left">whether lighting calculations should be done</td>
</tr>
<tr class="even">
<td align="left">ambient</td>
<td align="left">black</td>
<td align="left">color in ambient light</td>
</tr>
<tr class="odd">
<td align="left">specular</td>
<td align="left">white</td>
<td align="left">color in specular light</td>
</tr>
<tr class="even">
<td align="left">emission</td>
<td align="left">black</td>
<td align="left">color emitted by the surface</td>
</tr>
<tr class="odd">
<td align="left">shininess</td>
<td align="left">50</td>
<td align="left">controls the specular lighting: high values look shiny</td>
</tr>
<tr class="even">
<td align="left">smooth</td>
<td align="left">TRUE</td>
<td align="left">whether shading should be interpolated between vertices</td>
</tr>
<tr class="odd">
<td align="left">texture</td>
<td align="left">NULL</td>
<td align="left">optional path to a “texture” bitmap to be displayed on the surface</td>
</tr>
<tr class="even">
<td align="left">front, back</td>
<td align="left">fill</td>
<td align="left">should polygons be filled, or outlined?</td>
</tr>
<tr class="odd">
<td align="left">size</td>
<td align="left">3</td>
<td align="left">size of points in pixels</td>
</tr>
<tr class="even">
<td align="left">lwd</td>
<td align="left">1</td>
<td align="left">width of lines in pixels</td>
</tr>
</tbody>
</table>
<p>Other properties include “texmipmap”, “texmagfilter”, “texminfilter”, “texenvmap”, “fog”, “point_antialias”, “line_antialias”, “depth_mask”, and “depth_test”; see the help page for details.</p>
<p>There is also an <a name="rgl.material"><a href="#rgl.material"><code>rgl.material</code></a></a> function that works at a lower level; users should normally avoid it.</p>
</div>
<div id="par3d-miscellaneous-graphical-parameters" class="section level3">
<h3>par3d: Miscellaneous graphical parameters</h3>
<p>The <a name="par3d"><a href="#par3d"><code>par3d</code></a></a> function, modelled after the classic graphics <a href="../../graphics/help/par"><code>par</code></a> function, sets or reads a variety of different <code>rgl</code> internal parameters. Some parameters are completely read-only; others are fixed at the time the window is opened, and others may be changed at any time.</p>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Changeable?</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">antialias</td>
<td align="left">fixed</td>
<td align="left">Amount of hardware antialiasing</td>
</tr>
<tr class="even">
<td align="left">cex</td>
<td align="left"></td>
<td align="left">Default size for text</td>
</tr>
<tr class="odd">
<td align="left">family</td>
<td align="left"></td>
<td align="left">Device-independent font family name; see <a href="../../rgl/help/text3d">?text3d</a></td>
</tr>
<tr class="even">
<td align="left">font</td>
<td align="left"></td>
<td align="left">Integer font number</td>
</tr>
<tr class="odd">
<td align="left">useFreeType</td>
<td align="left"></td>
<td align="left">Should FreeType fonts be used if available?</td>
</tr>
<tr class="even">
<td align="left">fontname</td>
<td align="left">read-only</td>
<td align="left">System-dependent font name set by <a name="rglFonts"><a href="#rglFonts"><code>rglFonts</code></a></a></td>
</tr>
<tr class="odd">
<td align="left">FOV</td>
<td align="left"></td>
<td align="left">Field of view, in degrees. Zero means isometric perspective</td>
</tr>
<tr class="even">
<td align="left">ignoreExtent</td>
<td align="left"></td>
<td align="left">Should <code>rgl</code> ignore the size of new objects when computing the bounding box?</td>
</tr>
<tr class="odd">
<td align="left">skipRedraw</td>
<td align="left"></td>
<td align="left">Should <code>rgl</code> suppress updates to the display?</td>
</tr>
<tr class="even">
<td align="left">maxClipPlanes</td>
<td align="left">read-only</td>
<td align="left">How many clip planes can be defined?</td>
</tr>
<tr class="odd">
<td align="left">modelMatrix</td>
<td align="left">read-only</td>
<td align="left">The OpenGL ModelView matrix; partly set by <a name="view3d"><a href="#view3d"><code>view3d</code></a></a> or the obsolete <a name="rgl.viewpoint"><a href="#rgl.viewpoint"><code>rgl.viewpoint</code></a></a></td>
</tr>
<tr class="even">
<td align="left">projMatrix</td>
<td align="left">read-only</td>
<td align="left">The OpenGL Projection matrix</td>
</tr>
<tr class="odd">
<td align="left">bbox</td>
<td align="left">read-only</td>
<td align="left">Current bounding-box of the scene</td>
</tr>
<tr class="even">
<td align="left">viewport</td>
<td align="left"></td>
<td align="left">Dimensions in pixels of the scene within the window</td>
</tr>
<tr class="odd">
<td align="left">windowRect</td>
<td align="left"></td>
<td align="left">Dimensions in pixels of the window on the whole screen</td>
</tr>
<tr class="even">
<td align="left">listeners</td>
<td align="left"></td>
<td align="left">Which subscenes respond to mouse actions in the current one</td>
</tr>
<tr class="odd">
<td align="left">mouseMode</td>
<td align="left"></td>
<td align="left">What the mouse buttons do. See <a href="#mouseMode"><code>“mouseMode”</code></a></td>
</tr>
<tr class="even">
<td align="left">observer</td>
<td align="left">read-only</td>
<td align="left">The position of the observer; set by <a name="observer3d"><a href="#observer3d"><code>observer3d</code></a></a></td>
</tr>
<tr class="odd">
<td align="left">scale</td>
<td align="left"></td>
<td align="left">Rescaling for each coordinate; see <a href="#aspect3d"><code>aspect3d</code></a></td>
</tr>
<tr class="even">
<td align="left">zoom</td>
<td align="left"></td>
<td align="left">Magnification of the scene</td>
</tr>
</tbody>
</table>
</div>
<div id="default-settings" class="section level3">
<h3>Default settings</h3>
<p>The <a name="r3dDefaults"><a href="#r3dDefaults"><code>r3dDefaults</code></a></a> list and the <a name="getr3dDefaults"><a href="#getr3dDefaults"><code>getr3dDefaults</code></a></a> function control defaults in new windows opened by <a href="#open3d"><code>open3d</code></a>.<br />The function looks for the variable in the user’s global environment, and if not found there, finds the one in the <code>rgl</code> namespace. This allows the user to override the default settings for new windows.</p>
<p>Once found, the <code>r3dDefaults</code> list provides initial values for <a href="#par3d"><code>par3d</code></a> parameters, as well as defaults for <a href="#material3d"><code>material3d</code></a> and <a href="#bg3d"><code>bg3d</code></a> in components <code>&quot;material&quot;</code> and <code>&quot;bg&quot;</code> respectively.</p>
</div>
</div>
<div id="meshes-constructing-shapes" class="section level2">
<h2>Meshes: Constructing Shapes</h2>
<p><code>rgl</code> includes a number of functions to construct and display various solid shapes. These generate objects of class <code>&quot;shape3d&quot;</code>, <code>&quot;mesh3d&quot;</code> or <code>&quot;shapelist3d&quot;</code>. The details of the classes are described below. We start with functions to generate them.</p>
<div id="specific-solids" class="section level3">
<h3>Specific solids</h3>
<p>These functions generate specific shapes. Optional arguments allow attributes such as colour or transformations to be specified.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="tetrahedron3d"><a href="#tetrahedron3d"><code>tetrahedron3d</code></a></a>, <a name="cube3d"><a href="#cube3d"><code>cube3d</code></a></a>, <a name="octahedron3d"><a href="#octahedron3d"><code>octahedron3d</code></a></a>, <a name="dodecahedron3d"><a href="#dodecahedron3d"><code>dodecahedron3d</code></a></a>, <a name="icosahedron3d"><a href="#icosahedron3d"><code>icosahedron3d</code></a></a>:</td>
<td align="left">Platonic solids</td>
</tr>
<tr class="even">
<td align="left"><a name="cuboctahedron3d"><a href="#cuboctahedron3d"><code>cuboctahedron3d</code></a></a>, <a name="oh3d"><a href="#oh3d"><code>oh3d</code></a></a>:</td>
<td align="left">other solids</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">open3d</span>()
cols &lt;-<span class="st"> </span><span class="kw">rainbow</span>(<span class="dv">7</span>)
<span class="kw">layout3d</span>(<span class="kw">matrix</span>(<span class="dv">1</span>:<span class="dv">16</span>, <span class="dv">4</span>,<span class="dv">4</span>), <span class="dt">heights=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>))
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;tetrahedron3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">tetrahedron3d</span>(<span class="dt">col=</span>cols[<span class="dv">1</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;cube3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">cube3d</span>(<span class="dt">col=</span>cols[<span class="dv">2</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;octahedron3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">octahedron3d</span>(<span class="dt">col=</span>cols[<span class="dv">3</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;dodecahedron3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">dodecahedron3d</span>(<span class="dt">col=</span>cols[<span class="dv">4</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;icosahedron3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">icosahedron3d</span>(<span class="dt">col=</span>cols[<span class="dv">5</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;cuboctahedron3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">cuboctahedron3d</span>(<span class="dt">col=</span>cols[<span class="dv">6</span>])); <span class="kw">next3d</span>()
<span class="kw">text3d</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="st">&quot;oh3d&quot;</span>); <span class="kw">next3d</span>()
<span class="kw">shade3d</span>(<span class="kw">oh3d</span>(<span class="dt">col=</span>cols[<span class="dv">7</span>]))</code></pre>
<div id="unnamed_chunk_3div" class="rglWebGL">

</div>
<script type="text/javascript">
var unnamed_chunk_3div = document.getElementById("unnamed_chunk_3div"),
unnamed_chunk_3rgl = new rglwidgetClass();
unnamed_chunk_3div.width = 481;
unnamed_chunk_3div.height = 481;
unnamed_chunk_3rgl.initialize(unnamed_chunk_3div,
{"material":{"color":"#000000","alpha":1,"lit":true,"ambient":"#000000","specular":"#FFFFFF","emission":"#000000","shininess":50,"smooth":true,"front":"filled","back":"filled","size":3,"lwd":1,"fog":false,"point_antialias":false,"line_antialias":false,"texture":null,"textype":"rgb","texmipmap":false,"texminfilter":"linear","texmagfilter":"linear","texenvmap":false,"depth_mask":true,"depth_test":"less"},"rootSubscene":210,"objects":{"232":{"id":232,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["tetrahedron3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"233":{"id":233,"type":"triangles","material":{},"vertices":[[-1,-1,-1],[1,1,-1],[1,-1,1],[1,-1,1],[1,1,-1],[-1,1,1],[-1,1,1],[1,1,-1],[-1,-1,-1],[-1,-1,-1],[1,-1,1],[-1,1,1]],"normals":[[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503]],"colors":[[1,0,0,1]],"centers":[[0.3333333,-0.3333333,-0.3333333],[0.3333333,0.3333333,0.3333333],[-0.3333333,0.3333333,-0.3333333],[-0.3333333,-0.3333333,0.3333333]],"ignoreExtent":false,"flags":3},"234":{"id":234,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["cube3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"235":{"id":235,"type":"quads","material":{},"vertices":[[-1,-1,-1],[-1,1,-1],[1,1,-1],[1,-1,-1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1],[1,-1,-1],[1,1,-1],[1,1,1],[1,-1,1],[-1,-1,-1],[-1,-1,1],[-1,1,1],[-1,1,-1],[-1,-1,-1],[1,-1,-1],[1,-1,1],[-1,-1,1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],"normals":[[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[-1,0,0],[-1,0,0],[-1,0,0],[-1,0,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1]],"colors":[[1,0.8588235,0,1]],"centers":[[0,0,-1],[0,1,0],[1,0,0],[-1,0,0],[0,-1,0],[0,0,1]],"ignoreExtent":false,"flags":11},"236":{"id":236,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["octahedron3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"237":{"id":237,"type":"triangles","material":{},"vertices":[[-1,0,0],[0,0,-1],[0,-1,0],[-1,0,0],[0,-1,0],[0,0,1],[-1,0,0],[0,1,0],[0,0,-1],[-1,0,0],[0,0,1],[0,1,0],[1,0,0],[0,-1,0],[0,0,-1],[1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1],[0,1,0],[1,0,0],[0,1,0],[0,0,1]],"normals":[[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503]],"colors":[[0.2862745,1,0,1]],"centers":[[-0.3333333,-0.3333333,-0.3333333],[-0.3333333,-0.3333333,0.3333333],[-0.3333333,0.3333333,-0.3333333],[-0.3333333,0.3333333,0.3333333],[0.3333333,-0.3333333,-0.3333333],[0.3333333,-0.3333333,0.3333333],[0.3333333,0.3333333,-0.3333333],[0.3333333,0.3333333,0.3333333]],"ignoreExtent":false,"flags":3},"238":{"id":238,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["dodecahedron3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"239":{"id":239,"type":"triangles","material":{},"vertices":[[-0.618034,-0.618034,-0.618034],[0,-0.381966,-1],[0.618034,-0.618034,-0.618034],[-0.618034,-0.618034,-0.618034],[0.618034,-0.618034,-0.618034],[0.381966,-1,0],[-0.618034,-0.618034,-0.618034],[0.381966,-1,0],[-0.381966,-1,0],[-0.618034,-0.618034,-0.618034],[-0.381966,-1,0],[-0.618034,-0.618034,0.618034],[-0.618034,-0.618034,-0.618034],[-0.618034,-0.618034,0.618034],[-1,0,0.381966],[-0.618034,-0.618034,-0.618034],[-1,0,0.381966],[-1,0,-0.381966],[-0.618034,-0.618034,-0.618034],[-1,0,-0.381966],[-0.618034,0.618034,-0.618034],[-0.618034,-0.618034,-0.618034],[-0.618034,0.618034,-0.618034],[0,0.381966,-1],[-0.618034,-0.618034,-0.618034],[0,0.381966,-1],[0,-0.381966,-1],[0.618034,-0.618034,-0.618034],[0,-0.381966,-1],[0,0.381966,-1],[0.618034,-0.618034,-0.618034],[0,0.381966,-1],[0.618034,0.618034,-0.618034],[0.618034,-0.618034,-0.618034],[0.618034,0.618034,-0.618034],[1,0,-0.381966],[0.618034,-0.618034,-0.618034],[1,0,-0.381966],[1,0,0.381966],[0.618034,-0.618034,-0.618034],[1,0,0.381966],[0.618034,-0.618034,0.618034],[0.618034,-0.618034,-0.618034],[0.618034,-0.618034,0.618034],[0.381966,-1,0],[-0.618034,0.618034,-0.618034],[-0.381966,1,0],[0.381966,1,0],[-0.618034,0.618034,-0.618034],[0.381966,1,0],[0.618034,0.618034,-0.618034],[-0.618034,0.618034,-0.618034],[0.618034,0.618034,-0.618034],[0,0.381966,-1],[-0.618034,0.618034,-0.618034],[-1,0,-0.381966],[-1,0,0.381966],[-0.618034,0.618034,-0.618034],[-1,0,0.381966],[-0.618034,0.618034,0.618034],[-0.618034,0.618034,-0.618034],[-0.618034,0.618034,0.618034],[-0.381966,1,0],[0.618034,0.618034,-0.618034],[0.381966,1,0],[0.618034,0.618034,0.618034],[0.618034,0.618034,-0.618034],[0.618034,0.618034,0.618034],[1,0,0.381966],[0.618034,0.618034,-0.618034],[1,0,0.381966],[1,0,-0.381966],[-0.618034,-0.618034,0.618034],[0,-0.381966,1],[0,0.381966,1],[-0.618034,-0.618034,0.618034],[0,0.381966,1],[-0.618034,0.618034,0.618034],[-0.618034,-0.618034,0.618034],[-0.618034,0.618034,0.618034],[-1,0,0.381966],[-0.618034,-0.618034,0.618034],[-0.381966,-1,0],[0.381966,-1,0],[-0.618034,-0.618034,0.618034],[0.381966,-1,0],[0.618034,-0.618034,0.618034],[-0.618034,-0.618034,0.618034],[0.618034,-0.618034,0.618034],[0,-0.381966,1],[0.618034,-0.618034,0.618034],[1,0,0.381966],[0.618034,0.618034,0.618034],[0.618034,-0.618034,0.618034],[0.618034,0.618034,0.618034],[0,0.381966,1],[0.618034,-0.618034,0.618034],[0,0.381966,1],[0,-0.381966,1],[-0.618034,0.618034,0.618034],[0,0.381966,1],[0.618034,0.618034,0.618034],[-0.618034,0.618034,0.618034],[0.618034,0.618034,0.618034],[0.381966,1,0],[-0.618034,0.618034,0.618034],[0.381966,1,0],[-0.381966,1,0]],"normals":[[0,-0.8506507,-0.5257311],[0,-0.8506507,-0.5257311],[0,-0.8506507,-0.5257311],[-0,-0.8506508,-0.5257311],[-0,-0.8506508,-0.5257311],[-0,-0.8506508,-0.5257311],[-0,-0.8506508,-0.525731],[-0,-0.8506508,-0.525731],[-0,-0.8506508,-0.525731],[-0.8506507,-0.5257311,0],[-0.8506507,-0.5257311,0],[-0.8506507,-0.5257311,0],[-0.8506508,-0.5257311,-0],[-0.8506508,-0.5257311,-0],[-0.8506508,-0.5257311,-0],[-0.8506508,-0.525731,-0],[-0.8506508,-0.525731,-0],[-0.8506508,-0.525731,-0],[-0.5257311,0,-0.8506507],[-0.5257311,0,-0.8506507],[-0.5257311,0,-0.8506507],[-0.5257311,-0,-0.8506508],[-0.5257311,-0,-0.8506508],[-0.5257311,-0,-0.8506508],[-0.525731,-0,-0.8506508],[-0.525731,-0,-0.8506508],[-0.525731,-0,-0.8506508],[0.525731,0,-0.8506508],[0.525731,0,-0.8506508],[0.525731,0,-0.8506508],[0.5257311,0,-0.8506508],[0.5257311,0,-0.8506508],[0.5257311,0,-0.8506508],[0.5257311,0,-0.8506507],[0.5257311,0,-0.8506507],[0.5257311,0,-0.8506507],[0.8506508,-0.525731,0],[0.8506508,-0.525731,0],[0.8506508,-0.525731,0],[0.8506508,-0.5257311,0],[0.8506508,-0.5257311,0],[0.8506508,-0.5257311,0],[0.8506507,-0.5257311,0],[0.8506507,-0.5257311,0],[0.8506507,-0.5257311,0],[0,0.8506508,-0.525731],[0,0.8506508,-0.525731],[0,0.8506508,-0.525731],[0,0.8506508,-0.5257311],[0,0.8506508,-0.5257311],[0,0.8506508,-0.5257311],[0,0.8506507,-0.5257311],[0,0.8506507,-0.5257311],[0,0.8506507,-0.5257311],[-0.8506508,0.525731,0],[-0.8506508,0.525731,0],[-0.8506508,0.525731,0],[-0.8506508,0.5257311,0],[-0.8506508,0.5257311,0],[-0.8506508,0.5257311,0],[-0.8506507,0.5257311,0],[-0.8506507,0.5257311,0],[-0.8506507,0.5257311,0],[0.8506507,0.5257311,0],[0.8506507,0.5257311,0],[0.8506507,0.5257311,0],[0.8506508,0.5257311,0],[0.8506508,0.5257311,0],[0.8506508,0.5257311,0],[0.8506508,0.525731,0],[0.8506508,0.525731,0],[0.8506508,0.525731,0],[-0.525731,0,0.8506508],[-0.525731,0,0.8506508],[-0.525731,0,0.8506508],[-0.5257311,0,0.8506508],[-0.5257311,0,0.8506508],[-0.5257311,0,0.8506508],[-0.5257311,0,0.8506507],[-0.5257311,0,0.8506507],[-0.5257311,0,0.8506507],[0,-0.8506508,0.525731],[0,-0.8506508,0.525731],[0,-0.8506508,0.525731],[0,-0.8506508,0.5257311],[0,-0.8506508,0.5257311],[0,-0.8506508,0.5257311],[0,-0.8506507,0.5257311],[0,-0.8506507,0.5257311],[0,-0.8506507,0.5257311],[0.5257311,0,0.8506507],[0.5257311,0,0.8506507],[0.5257311,0,0.8506507],[0.5257311,0,0.8506508],[0.5257311,0,0.8506508],[0.5257311,0,0.8506508],[0.525731,0,0.8506508],[0.525731,0,0.8506508],[0.525731,0,0.8506508],[0,0.8506507,0.5257311],[0,0.8506507,0.5257311],[0,0.8506507,0.5257311],[0,0.8506508,0.5257311],[0,0.8506508,0.5257311],[0,0.8506508,0.5257311],[0,0.8506508,0.525731],[0,0.8506508,0.525731],[0,0.8506508,0.525731]],"colors":[[0,1,0.572549,1]],"centers":[[0,-0.5393447,-0.745356],[0.127322,-0.745356,-0.4120227],[-0.2060113,-0.872678,-0.2060113],[-0.5393447,-0.745356,0],[-0.745356,-0.4120227,0.127322],[-0.872678,-0.2060113,-0.2060113],[-0.745356,0,-0.5393447],[-0.4120227,0.127322,-0.745356],[-0.2060113,-0.2060113,-0.872678],[0.2060113,-0.2060113,-0.872678],[0.4120227,0.127322,-0.745356],[0.745356,0,-0.5393447],[0.872678,-0.2060113,-0.2060113],[0.745356,-0.4120227,0.127322],[0.5393447,-0.745356,0],[-0.2060113,0.872678,-0.2060113],[0.127322,0.745356,-0.4120227],[0,0.5393447,-0.745356],[-0.872678,0.2060113,-0.2060113],[-0.745356,0.4120227,0.127322],[-0.5393447,0.745356,0],[0.5393447,0.745356,0],[0.745356,0.4120227,0.127322],[0.872678,0.2060113,-0.2060113],[-0.2060113,-0.2060113,0.872678],[-0.4120227,0.127322,0.745356],[-0.745356,0,0.5393447],[-0.2060113,-0.872678,0.2060113],[0.127322,-0.745356,0.4120227],[0,-0.5393447,0.745356],[0.745356,0,0.5393447],[0.4120227,0.127322,0.745356],[0.2060113,-0.2060113,0.872678],[0,0.5393447,0.745356],[0.127322,0.745356,0.4120227],[-0.2060113,0.872678,0.2060113]],"ignoreExtent":false,"flags":3},"240":{"id":240,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["icosahedron3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"241":{"id":241,"type":"triangles","material":{},"vertices":[[0,0.618034,1],[0,-0.618034,1],[1,0,0.618034],[0,0.618034,1],[1,0,0.618034],[0.618034,1,0],[0,0.618034,1],[0.618034,1,0],[-0.618034,1,0],[0,0.618034,1],[-0.618034,1,0],[-1,0,0.618034],[0,0.618034,1],[-1,0,0.618034],[0,-0.618034,1],[0,-0.618034,-1],[-1,0,-0.618034],[0,0.618034,-1],[0,-0.618034,-1],[0,0.618034,-1],[1,0,-0.618034],[0,-0.618034,-1],[1,0,-0.618034],[0.618034,-1,0],[0,-0.618034,-1],[0.618034,-1,0],[-0.618034,-1,0],[0,-0.618034,-1],[-0.618034,-1,0],[-1,0,-0.618034],[1,0,0.618034],[0,-0.618034,1],[0.618034,-1,0],[0.618034,1,0],[1,0,0.618034],[1,0,-0.618034],[-0.618034,1,0],[0.618034,1,0],[0,0.618034,-1],[-1,0,0.618034],[-0.618034,1,0],[-1,0,-0.618034],[0,-0.618034,1],[-1,0,0.618034],[-0.618034,-1,0],[0,0.618034,-1],[-1,0,-0.618034],[-0.618034,1,0],[1,0,-0.618034],[0,0.618034,-1],[0.618034,1,0],[0.618034,-1,0],[1,0,-0.618034],[1,0,0.618034],[-0.618034,-1,0],[0.618034,-1,0],[0,-0.618034,1],[-1,0,-0.618034],[-0.618034,-1,0],[-1,0,0.618034]],"normals":[[0.3568221,-0,0.9341723],[0.3568221,-0,0.9341723],[0.3568221,-0,0.9341723],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[0,0.9341723,0.3568221],[0,0.9341723,0.3568221],[0,0.9341723,0.3568221],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.3568221,0,0.9341723],[-0.3568221,0,0.9341723],[-0.3568221,0,0.9341723],[-0.3568221,0,-0.9341723],[-0.3568221,0,-0.9341723],[-0.3568221,0,-0.9341723],[0.3568221,0,-0.9341723],[0.3568221,0,-0.9341723],[0.3568221,0,-0.9341723],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[-0,-0.9341723,-0.3568221],[-0,-0.9341723,-0.3568221],[-0,-0.9341723,-0.3568221],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.9341723,0.3568221,0],[0.9341723,0.3568221,0],[0.9341723,0.3568221,0],[0,0.9341723,-0.3568221],[0,0.9341723,-0.3568221],[0,0.9341723,-0.3568221],[-0.9341723,0.3568221,0],[-0.9341723,0.3568221,0],[-0.9341723,0.3568221,0],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.9341723,-0.3568221,0],[0.9341723,-0.3568221,0],[0.9341723,-0.3568221,0],[0,-0.9341723,0.3568221],[0,-0.9341723,0.3568221],[0,-0.9341723,0.3568221],[-0.9341723,-0.3568221,0],[-0.9341723,-0.3568221,0],[-0.9341723,-0.3568221,0]],"colors":[[0,0.572549,1,1]],"centers":[[0.3333333,0,0.872678],[0.5393447,0.5393447,0.5393447],[0,0.872678,0.3333333],[-0.5393447,0.5393447,0.5393447],[-0.3333333,0,0.872678],[-0.3333333,0,-0.872678],[0.3333333,0,-0.872678],[0.5393447,-0.5393447,-0.5393447],[0,-0.872678,-0.3333333],[-0.5393447,-0.5393447,-0.5393447],[0.5393447,-0.5393447,0.5393447],[0.872678,0.3333333,0],[0,0.872678,-0.3333333],[-0.872678,0.3333333,0],[-0.5393447,-0.5393447,0.5393447],[-0.5393447,0.5393447,-0.5393447],[0.5393447,0.5393447,-0.5393447],[0.872678,-0.3333333,0],[0,-0.872678,0.3333333],[-0.872678,-0.3333333,0]],"ignoreExtent":false,"flags":3},"242":{"id":242,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["cuboctahedron3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"243":{"id":243,"type":"triangles","material":{},"vertices":[[-1,-1,0],[-1,0,-1],[0,-1,-1],[-1,-1,0],[0,-1,1],[-1,0,1],[-1,1,0],[0,1,-1],[-1,0,-1],[-1,1,0],[-1,0,1],[0,1,1],[1,-1,0],[0,-1,-1],[1,0,-1],[1,-1,0],[1,0,1],[0,-1,1],[1,1,0],[1,0,-1],[0,1,-1],[1,1,0],[0,1,1],[1,0,1]],"normals":[[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,-0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,-0.5773503,0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,-0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[-0.5773503,0.5773503,0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,-0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,-0.5773503,0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,-0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503],[0.5773503,0.5773503,0.5773503]],"colors":[[0.2862745,0,1,1]],"centers":[[-0.6666667,-0.6666667,-0.6666667],[-0.6666667,-0.6666667,0.6666667],[-0.6666667,0.6666667,-0.6666667],[-0.6666667,0.6666667,0.6666667],[0.6666667,-0.6666667,-0.6666667],[0.6666667,-0.6666667,0.6666667],[0.6666667,0.6666667,-0.6666667],[0.6666667,0.6666667,0.6666667]],"ignoreExtent":false,"flags":3},"244":{"id":244,"type":"quads","material":{},"vertices":[[-1,-1,0],[-1,0,1],[-1,1,0],[-1,0,-1],[-1,-1,0],[0,-1,-1],[1,-1,0],[0,-1,1],[-1,1,0],[0,1,1],[1,1,0],[0,1,-1],[1,-1,0],[1,0,-1],[1,1,0],[1,0,1],[-1,0,-1],[0,1,-1],[1,0,-1],[0,-1,-1],[-1,0,1],[0,-1,1],[1,0,1],[0,1,1]],"normals":[[-1,0,-0],[-1,0,-0],[-1,0,-0],[-1,0,-0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[0,-0,-1],[0,-0,-1],[0,-0,-1],[0,-0,-1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1]],"colors":[[0.2862745,0,1,1]],"centers":[[-1,0,0],[0,-1,0],[0,1,0],[1,0,0],[0,0,-1],[0,0,1]],"ignoreExtent":false,"flags":11},"245":{"id":245,"type":"text","material":{"lit":false},"vertices":[[0,0,0]],"colors":[[0,0,0,1]],"texts":[["oh3d"]],"cex":[[1]],"adj":[[0.5,0.5]],"centers":[[0,0,0]],"family":[["sans"]],"font":[[1]],"ignoreExtent":false,"flags":40},"246":{"id":246,"type":"quads","material":{},"vertices":[[-1.5,-1.5,-0.5],[-1.5,-0.5,-0.5],[-0.5,-0.5,-0.5],[-0.5,-1.5,-0.5],[-0.5,-1.5,-0.5],[-0.5,-0.5,-0.5],[0.5,-0.5,-0.5],[0.5,-1.5,-0.5],[0.5,-1.5,-0.5],[0.5,-0.5,-0.5],[1.5,-0.5,-0.5],[1.5,-1.5,-0.5],[-1.5,-0.5,-0.5],[-1.5,0.5,-0.5],[-0.5,0.5,-0.5],[-0.5,-0.5,-0.5],[0.5,-0.5,-0.5],[0.5,0.5,-0.5],[1.5,0.5,-0.5],[1.5,-0.5,-0.5],[-1.5,0.5,-0.5],[-1.5,1.5,-0.5],[-0.5,1.5,-0.5],[-0.5,0.5,-0.5],[-0.5,0.5,-0.5],[-0.5,1.5,-0.5],[0.5,1.5,-0.5],[0.5,0.5,-0.5],[0.5,0.5,-0.5],[0.5,1.5,-0.5],[1.5,1.5,-0.5],[1.5,0.5,-0.5],[-1.5,-1.5,0.5],[-0.5,-1.5,0.5],[-0.5,-0.5,0.5],[-1.5,-0.5,0.5],[-0.5,-1.5,0.5],[0.5,-1.5,0.5],[0.5,-0.5,0.5],[-0.5,-0.5,0.5],[0.5,-1.5,0.5],[1.5,-1.5,0.5],[1.5,-0.5,0.5],[0.5,-0.5,0.5],[-1.5,-0.5,0.5],[-0.5,-0.5,0.5],[-0.5,0.5,0.5],[-1.5,0.5,0.5],[0.5,-0.5,0.5],[1.5,-0.5,0.5],[1.5,0.5,0.5],[0.5,0.5,0.5],[-1.5,0.5,0.5],[-0.5,0.5,0.5],[-0.5,1.5,0.5],[-1.5,1.5,0.5],[-0.5,0.5,0.5],[0.5,0.5,0.5],[0.5,1.5,0.5],[-0.5,1.5,0.5],[0.5,0.5,0.5],[1.5,0.5,0.5],[1.5,1.5,0.5],[0.5,1.5,0.5],[-1.5,-1.5,-0.5],[-0.5,-1.5,-0.5],[-0.5,-1.5,0.5],[-1.5,-1.5,0.5],[-0.5,-1.5,-0.5],[0.5,-1.5,-0.5],[0.5,-1.5,0.5],[-0.5,-1.5,0.5],[0.5,-1.5,-0.5],[1.5,-1.5,-0.5],[1.5,-1.5,0.5],[0.5,-1.5,0.5],[-0.5,-0.5,-0.5],[-0.5,-0.5,0.5],[0.5,-0.5,0.5],[0.5,-0.5,-0.5],[-0.5,0.5,-0.5],[0.5,0.5,-0.5],[0.5,0.5,0.5],[-0.5,0.5,0.5],[-1.5,1.5,-0.5],[-1.5,1.5,0.5],[-0.5,1.5,0.5],[-0.5,1.5,-0.5],[-0.5,1.5,-0.5],[-0.5,1.5,0.5],[0.5,1.5,0.5],[0.5,1.5,-0.5],[0.5,1.5,-0.5],[0.5,1.5,0.5],[1.5,1.5,0.5],[1.5,1.5,-0.5],[-1.5,-1.5,0.5],[-1.5,-0.5,0.5],[-1.5,-0.5,-0.5],[-1.5,-1.5,-0.5],[-1.5,-0.5,0.5],[-1.5,0.5,0.5],[-1.5,0.5,-0.5],[-1.5,-0.5,-0.5],[-1.5,0.5,0.5],[-1.5,1.5,0.5],[-1.5,1.5,-0.5],[-1.5,0.5,-0.5],[1.5,-1.5,-0.5],[1.5,-0.5,-0.5],[1.5,-0.5,0.5],[1.5,-1.5,0.5],[1.5,-0.5,-0.5],[1.5,0.5,-0.5],[1.5,0.5,0.5],[1.5,-0.5,0.5],[1.5,0.5,-0.5],[1.5,1.5,-0.5],[1.5,1.5,0.5],[1.5,0.5,0.5],[-0.5,-0.5,-0.5],[-0.5,0.5,-0.5],[-0.5,0.5,0.5],[-0.5,-0.5,0.5],[0.5,-0.5,-0.5],[0.5,-0.5,0.5],[0.5,0.5,0.5],[0.5,0.5,-0.5]],"normals":[[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,0,-1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-0,1],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[0,-1,0],[0,-1,0],[0,-1,0],[0,-1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-0,1,0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[-1,-0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[1,0,-0],[-1,0,0],[-1,0,0],[-1,0,0],[-1,0,0]],"colors":[[1,0,0.8588235,1]],"centers":[[-1,-1,-0.5],[0,-1,-0.5],[1,-1,-0.5],[-1,0,-0.5],[1,0,-0.5],[-1,1,-0.5],[0,1,-0.5],[1,1,-0.5],[-1,-1,0.5],[0,-1,0.5],[1,-1,0.5],[-1,0,0.5],[1,0,0.5],[-1,1,0.5],[0,1,0.5],[1,1,0.5],[-1,-1.5,0],[0,-1.5,0],[1,-1.5,0],[0,-0.5,0],[0,0.5,0],[-1,1.5,0],[0,1.5,0],[1,1.5,0],[-1.5,-1,0],[-1.5,0,0],[-1.5,1,0],[1.5,-1,0],[1.5,0,0],[1.5,1,0],[-0.5,0,0],[0.5,0,0]],"ignoreExtent":false,"flags":11},"214":{"id":214,"type":"light","vertices":[[0,0,1]],"colors":[[1,1,1,1],[1,1,1,1],[1,1,1,1]],"viewpoint":true,"finite":false},"213":{"id":213,"type":"background","colors":[[0.2980392,0.2980392,0.2980392,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"215":{"id":215,"type":"background","colors":[[1,1,1,1]],"centers":[[0,0,0]],"sphere":false,"fogtype":"none"},"216":{"id":216,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":216,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0.875,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[232,214],"parent":210,"subscenes":[],"flags":1064},"217":{"id":217,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":217,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0.5,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[233,214],"parent":210,"subscenes":[],"flags":1027},"218":{"id":218,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":218,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0.375,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[234,214],"parent":210,"subscenes":[],"flags":1064},"219":{"id":219,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":219,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[235,214],"parent":210,"subscenes":[],"flags":1035},"220":{"id":220,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":220,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.25,"y":0.875,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[236,214],"parent":210,"subscenes":[],"flags":1064},"221":{"id":221,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":221,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.25,"y":0.5,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[237,214],"parent":210,"subscenes":[],"flags":1027},"222":{"id":222,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":222,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.25,"y":0.375,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[238,214],"parent":210,"subscenes":[],"flags":1064},"223":{"id":223,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":223,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.25,"y":0,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[239,214],"parent":210,"subscenes":[],"flags":1027},"224":{"id":224,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":224,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.5,"y":0.875,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[240,214],"parent":210,"subscenes":[],"flags":1064},"225":{"id":225,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":225,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.5,"y":0.5,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[241,214],"parent":210,"subscenes":[],"flags":1027},"226":{"id":226,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":226,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.5,"y":0.375,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[242,214],"parent":210,"subscenes":[],"flags":1064},"227":{"id":227,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":227,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,6.692131],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-6.692131],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-24.12436],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.5,"y":0,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1,1,-1,1,-1,1],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[243,244,214],"parent":210,"subscenes":[],"flags":1035},"228":{"id":228,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":228,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.75,"y":0.875,"width":0.25,"height":0.125},"zoom":1,"bbox":[0,0,0,0,0,0],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[245,214],"parent":210,"subscenes":[],"flags":1064},"229":{"id":229,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":229,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,8.420747],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-8.420747],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-30.35582],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.75,"y":0.5,"width":0.25,"height":0.375},"zoom":1,"bbox":[-1.5,1.5,-1.5,1.5,-0.5,0.5],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[246,214],"parent":210,"subscenes":[],"flags":1035},"230":{"id":230,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":230,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[1.866025,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.75,"y":0.375,"width":0.25,"height":0.125},"zoom":1,"bbox":[3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":214,"parent":210,"subscenes":[],"flags":1024},"231":{"id":231,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":231,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,2.488034,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0.75,"y":0,"width":0.25,"height":0.375},"zoom":1,"bbox":[3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":214,"parent":210,"subscenes":[],"flags":1024},"210":{"id":210,"type":"subscene","par3d":{"antialias":1,"FOV":30,"ignoreExtent":false,"listeners":210,"mouseMode":{"left":"trackball","right":"zoom","middle":"fov","wheel":"pull"},"observer":[0,0,3.863703],"modelMatrix":[[1,0,0,0],[0,0.3420202,0.9396926,0],[0,-0.9396926,0.3420202,-3.863703],[0,0,0,1]],"projMatrix":[[3.732051,0,0,0],[0,3.732051,0,0],[0,0,-3.863703,-13.9282],[0,0,-1,0]],"skipRedraw":false,"userMatrix":[[1,0,0,0],[0,0.3420201,0.9396926,0],[0,-0.9396926,0.3420201,0],[0,0,0,1]],"scale":[1,1,1],"viewport":{"x":0,"y":0,"width":1,"height":1},"zoom":1,"bbox":[3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38,3.402823e+38,-3.402823e+38],"windowRect":[100,100,580,580],"family":"sans","font":1,"cex":1,"useFreeType":false,"fontname":"NULL","maxClipPlanes":2147483647},"embeddings":{"viewport":"replace","projection":"replace","model":"replace"},"objects":[215,214,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231],"subscenes":[216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231],"flags":1067}},"width":481,"height":481,"sphereVerts":{"reuse":"persp3ddiv"}});
unnamed_chunk_3rgl.prefix = "unnamed_chunk_3";
</script>
<p id="unnamed_chunk_3debug">
You must enable Javascript to view this page properly.
</p>
<script>unnamed_chunk_3rgl.start();</script>

</div>
<div id="generating-new-shapes" class="section level3">
<h3>Generating new shapes</h3>
<p>These functions generate new shapes:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="cylinder3d"><a href="#cylinder3d"><code>cylinder3d</code></a></a>:</td>
<td align="left">generate a tube or cylinder</td>
</tr>
<tr class="even">
<td align="left"><a name="polygon3d"><a href="#polygon3d"><code>polygon3d</code></a></a>:</td>
<td align="left">generate a flat polygon by triangulation</td>
</tr>
<tr class="odd">
<td align="left"><a name="extrude3d"><a href="#extrude3d"><code>extrude3d</code></a></a>:</td>
<td align="left">generate an “extrusion” of a polygon</td>
</tr>
<tr class="even">
<td align="left"><a name="turn3d"><a href="#turn3d"><code>turn3d</code></a></a>:</td>
<td align="left">generate a solid of rotation</td>
</tr>
<tr class="odd">
<td align="left"><a name="ellipse3d"><a href="#ellipse3d"><code>ellipse3d</code></a></a>:</td>
<td align="left">generate an ellipsoid in various ways</td>
</tr>
<tr class="even">
<td align="left"><a name="tmesh3d"><a href="#tmesh3d"><code>tmesh3d</code></a></a>, <a name="qmesh3d"><a href="#qmesh3d"><code>qmesh3d</code></a></a>:</td>
<td align="left">generate a shape from vertices and faces</td>
</tr>
<tr class="odd">
<td align="left"><a name="shapelist3d"><a href="#shapelist3d"><code>shapelist3d</code></a></a>:</td>
<td align="left">generate a shape by combining other shapes</td>
</tr>
</tbody>
</table>
<p>A related function is <a name="triangulate"><a href="#triangulate"><code>triangulate</code></a></a>, which takes a two dimensional polygon and divides it up into triangles using the “ear-clipping” algorithm.</p>
</div>
<div id="the-underlying-class-structure-for-shapes" class="section level3">
<h3>The underlying class structure for shapes</h3>
<p><code>&quot;shape3d&quot;</code> is the basic abstract type. Objects of this class can be displayed by <a name="shade3d"><a href="#shade3d"><code>shade3d</code></a></a> (which shades faces), <a name="wire3d"><a href="#wire3d"><code>wire3d</code></a></a> (which draws edges), or <a name="dot3d"><a href="#dot3d"><code>dot3d</code></a></a> (which draws points at each vertex.) Note that <code>wire3d</code> and <code>dot3d</code> only work within R; in HTML output from <a href="#writeWebGL"><code>writeWebGL</code></a> only <code>shade3d</code> is supported.</p>
<p><code>&quot;mesh3d&quot;</code> is a descendant type. Objects of this type contain the following fields:</p>
<table>
<thead>
<tr class="header">
<th align="left">Field</th>
<th align="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">vb</td>
<td align="left">A 4 by n matrix of vertices in homogeneous coordinates. Each column is a point.</td>
</tr>
<tr class="even">
<td align="left">it</td>
<td align="left">(optional) A 3 by t matrix of vertex indices. Each column is a triangle.</td>
</tr>
<tr class="odd">
<td align="left">ib</td>
<td align="left">(optional) A 4 by q matrix of vertex indices. Each column is a quadrilateral.</td>
</tr>
<tr class="even">
<td align="left">material</td>
<td align="left">(optional) A list of material properties.</td>
</tr>
<tr class="odd">
<td align="left">normals</td>
<td align="left">(optional) A matrix of the same shape as vb, containing normal vectors at each vertex.</td>
</tr>
<tr class="even">
<td align="left">texcoords</td>
<td align="left">(optional) A 2 by n matrix of texture coordinates corresponding to each vertex.</td>
</tr>
</tbody>
</table>
</div>
<div id="manipulating-shapes" class="section level3">
<h3>Manipulating shapes</h3>
<p>The final set of functions manipulate and modify mesh objects:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="addNormals"><a href="#addNormals"><code>addNormals</code></a></a>:</td>
<td align="left">add normal vectors to make a shape look smooth</td>
</tr>
<tr class="even">
<td align="left"><a name="subdivision3d"><a href="#subdivision3d"><code>subdivision3d</code></a></a>:</td>
<td align="left">add extra vertices to make it look even smoother</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="multi-figure-layouts" class="section level2">
<h2>Multi-figure Layouts</h2>
<p><code>rgl</code> has several functions to support displaying multiple different “subscenes” in the same window. The high level functions are</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="mfrow3d"><a href="#mfrow3d"><code>mfrow3d</code></a></a>:</td>
<td align="left">Multiple figures (like <a href="../../graphics/help/par">par(“mfrow”)</a></td>
</tr>
<tr class="even">
<td align="left"><a name="layout3d"><a href="#layout3d"><code>layout3d</code></a></a>:</td>
<td align="left">Multiple figures (like <a href="../../graphics/help/layout"><code>layout</code></a>)</td>
</tr>
<tr class="odd">
<td align="left"><a name="next3d"><a href="#next3d"><code>next3d</code></a></a>:</td>
<td align="left">Move to the next figure (like <a href="../../graphics/help/plot.new"><code>plot.new</code></a> or <a href="../../graphics/help/frame"><code>frame</code></a>)</td>
</tr>
<tr class="even">
<td align="left"><a name="subsceneList"><a href="#subsceneList"><code>subsceneList</code></a></a>:</td>
<td align="left">List all the subscenes in the current layout</td>
</tr>
<tr class="odd">
<td align="left"><a name="clearSubsceneList"><a href="#clearSubsceneList"><code>clearSubsceneList</code></a></a></td>
<td align="left">Clear the current list and revert to the previous one</td>
</tr>
</tbody>
</table>
<p>There are also lower level functions.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="newSubscene3d"><a href="#newSubscene3d"><code>newSubscene3d</code></a></a>:</td>
<td align="left">Create a new subscene, with fine control over what is inherited from the parent</td>
</tr>
<tr class="even">
<td align="left"><a name="currentSubscene3d"><a href="#currentSubscene3d"><code>currentSubscene3d</code></a></a>:</td>
<td align="left">Report on the active subscene</td>
</tr>
<tr class="odd">
<td align="left"><a name="subsceneInfo"><a href="#subsceneInfo"><code>subsceneInfo</code></a></a>:</td>
<td align="left">Get information on current subscene</td>
</tr>
<tr class="even">
<td align="left"><a name="useSubscene3d"><a href="#useSubscene3d"><code>useSubscene3d</code></a></a>:</td>
<td align="left">Make a different subscene active</td>
</tr>
<tr class="odd">
<td align="left"><a name="addToSubscene3d"><a href="#addToSubscene3d"><code>addToSubscene3d</code></a></a>, <a name="delFromSubscene3d"><a href="#delFromSubscene3d"><code>delFromSubscene3d</code></a></a>:</td>
<td align="left">Add objects to a subscene, or delete them</td>
</tr>
<tr class="even">
<td align="left"><a name="gc3d"><a href="#gc3d"><code>gc3d</code></a></a>:</td>
<td align="left">Do “garbage collection”: delete objects that are not displayed in any subscene</td>
</tr>
</tbody>
</table>
</div>
<div id="utility-functions" class="section level2">
<h2>Utility Functions</h2>
<div id="user-interaction" class="section level3">
<h3>User interaction</h3>
<p>By default, <code>rgl</code> detects and handles mouse clicks within your scene, and uses these to control its appearance. You can find out the current handlers using the following code:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par3d</span>(<span class="st">&quot;mouseMode&quot;</span>)</code></pre>
<pre><code>##        left       right      middle       wheel 
## &quot;trackball&quot;      &quot;zoom&quot;       &quot;fov&quot;      &quot;pull&quot;</code></pre>
<p>The labels <code>c(&quot;left&quot;, &quot;right&quot;, &quot;middle&quot;)</code> refer to the buttons on a three button mouse, or simulations of them on other mice. <code>&quot;wheel&quot;</code> refers to the mouse wheel.</p>
<p>The button actions generally correspond to click and drag operations. Possible values for <a name="mouseMode"><a href="#mouseMode"><code>“mouseMode”</code></a></a> for buttons or the wheel are as follows:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><code>&quot;none&quot;</code></td>
<td align="left">No action</td>
</tr>
<tr class="even">
<td align="left"><code>&quot;trackball&quot;</code></td>
<td align="left">The mouse acts as a virtual trackball. Clicking and dragging rotates the scene</td>
</tr>
<tr class="odd">
<td align="left"><code>&quot;xAxis&quot;</code>, <code>&quot;yAxis&quot;</code>, <code>&quot;zAxis&quot;</code></td>
<td align="left">Like <code>&quot;trackball&quot;</code>, but restricted to rotation about one axis</td>
</tr>
<tr class="even">
<td align="left"><code>&quot;polar&quot;</code></td>
<td align="left">The mouse affects rotations by controlling polar coordinates directly</td>
</tr>
<tr class="odd">
<td align="left"><code>&quot;selecting&quot;</code></td>
<td align="left">The mouse is being used by the <a href="#select3d"><code>select3d</code></a> function</td>
</tr>
<tr class="even">
<td align="left"><code>&quot;zoom&quot;</code></td>
<td align="left">The mouse zooms the display</td>
</tr>
<tr class="odd">
<td align="left"><code>&quot;fov&quot;</code></td>
<td align="left">The mouse affects perspective by changing the field of view</td>
</tr>
<tr class="even">
<td align="left"><code>&quot;pull&quot;</code></td>
<td align="left">Rotating the mouse wheel towards the user “pulls the scene closer”</td>
</tr>
<tr class="odd">
<td align="left"><code>&quot;push&quot;</code></td>
<td align="left">The same rotation “pushes the scene away”</td>
</tr>
<tr class="even">
<td align="left"><code>&quot;user&quot;</code></td>
<td align="left">A user action set by <a name="rgl.setMouseCallbacks"><a href="#rgl.setMouseCallbacks"><code>rgl.setMouseCallbacks</code></a></a>, <a name="rgl.setWheelCallback"><a href="#rgl.setWheelCallback"><code>rgl.setWheelCallback</code></a></a>. Use <a name="rgl.getMouseCallbacks"><a href="#rgl.getMouseCallbacks"><code>rgl.getMouseCallbacks</code></a></a> and <a name="rgl.getWheelCallback"><a href="#rgl.getWheelCallback"><code>rgl.getWheelCallback</code></a></a> to retrieve</td>
</tr>
</tbody>
</table>
<p>The following functions make use of the mouse for selection within a scene.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="identify3d"><a href="#identify3d"><code>identify3d</code></a></a></td>
<td align="left">like the classic graphics <a href="../../graphics/help/identify"><code>identify</code></a> function</td>
</tr>
<tr class="even">
<td align="left"><a name="select3d"><a href="#select3d"><code>select3d</code></a></a></td>
<td align="left">returns a function that tests whether a coordinate was selected</td>
</tr>
<tr class="odd">
<td align="left"><a name="selectpoints3d"><a href="#selectpoints3d"><code>selectpoints3d</code></a></a></td>
<td align="left">selects from specific objects</td>
</tr>
</tbody>
</table>
<p>The <a name="rgl.select3d"><a href="#rgl.select3d"><code>rgl.select3d</code></a></a> function is an obsolete version of <code>select3d</code>, and <a name="rgl.select"><a href="#rgl.select"><code>rgl.select</code></a></a> is a low-level support function.</p>
</div>
<div id="animations" class="section level3">
<h3>Animations</h3>
<p><code>rgl</code> has several functions that can be used to construct animations. These are based on functions that update the scene according to the current real-world time, and repeated calls to those. The functions are:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="play3d"><a href="#play3d"><code>play3d</code></a></a></td>
<td align="left">Repeatedly call the update function</td>
</tr>
<tr class="even">
<td align="left"><a name="spin3d"><a href="#spin3d"><code>spin3d</code></a></a></td>
<td align="left">Update the display by rotating at a constant rate</td>
</tr>
<tr class="odd">
<td align="left"><a name="par3dinterp"><a href="#par3dinterp"><code>par3dinterp</code></a></a></td>
<td align="left">Compute new values of some <a href="#par3d"><code>par3d</code></a> parameters by interpolation over time</td>
</tr>
</tbody>
</table>
<p>See the <a href="#movie3d"><code>movie3d</code></a> function for a way to output an animation to a file on disk.<br />Animations are not currently supported in the HTML written by <a href="#writeWebGL"><code>writeWebGL</code></a>, though the <code>rglwidget::playwidget</code> function provides equivalent functionality.</p>
</div>
<div id="exporting-and-importing-scenes" class="section level3">
<h3>Exporting and importing scenes</h3>
<p><code>rgl</code> contains several functions to write scenes to disk for use by other software, or to read them in.</p>
<p>In order from highest fidelity to lowest, the functions are:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="scene3d"><a href="#scene3d"><code>scene3d</code></a></a></td>
<td align="left">Save a scene to an R variable, which can be saved and reloaded</td>
</tr>
<tr class="even">
<td align="left"><a name="writeWebGL"><a href="#writeWebGL"><code>writeWebGL</code></a></a></td>
<td align="left">Write HTML and Javascript to display a scene in a web browser. (See also <a href="WebGL.html">User Interaction in WebGL</a>.)</td>
</tr>
<tr class="odd">
<td align="left"><a name="writePLY"><a href="#writePLY"><code>writePLY</code></a></a></td>
<td align="left">Write PLY files (commonly used in 3D printing)</td>
</tr>
<tr class="even">
<td align="left"><a name="readOBJ"><a href="#readOBJ"><code>readOBJ</code></a></a>, <a name="writeOBJ"><a href="#writeOBJ"><code>writeOBJ</code></a></a></td>
<td align="left">Read or write OBJ files (commonly used in 3D graphics)</td>
</tr>
<tr class="odd">
<td align="left"><a name="readSTL"><a href="#readSTL"><code>readSTL</code></a></a>, <a name="writeSTL"><a href="#writeSTL"><code>writeSTL</code></a></a></td>
<td align="left">Read or write STL files (also common in 3D printing)</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.useNULL"><a href="#rgl.useNULL"><code>rgl.useNULL</code></a></a></td>
<td align="left">A helper function for setting a NULL device</td>
</tr>
</tbody>
</table>
<p>See the help page <a href="../../rgl/help/rgl.useNULL"><code>rgl.useNULL</code></a> for instructions on how to use <code>rgl</code> on a “headless” system.</p>
<p>There are also functions to save snapshots or other recordings of a scene, without any 3D information being saved:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="snapshot3d"><a href="#snapshot3d"><code>snapshot3d</code></a></a></td>
<td align="left">Save a PNG file bitmap of the scene</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.postscript"><a href="#rgl.postscript"><code>rgl.postscript</code></a></a></td>
<td align="left">Save a Postscript, LaTeX, PDF, SVG or PGF vector rendering of the scene</td>
</tr>
<tr class="odd">
<td align="left"><a name="movie3d"><a href="#movie3d"><code>movie3d</code></a></a></td>
<td align="left">Save a series of bitmaps to be assembled into a movie</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.pixels"><a href="#rgl.pixels"><code>rgl.pixels</code></a></a></td>
<td align="left">Obtain pixel-level information about the scene in an R variable</td>
</tr>
<tr class="odd">
<td align="left"><a name="rgl.Sweave"><a href="#rgl.Sweave"><code>rgl.Sweave</code></a></a></td>
<td align="left">Driver function for inserting a snapshot into a Sweave document.</td>
</tr>
<tr class="even">
<td align="left"><a name="hook_rgl"><a href="#hook_rgl"><code>hook_rgl</code></a></a>, <a name="hook_webgl"><a href="#hook_webgl"><code>hook_webgl</code></a></a></td>
<td align="left"><code>knitr</code> hook functions for inserting images into a document.</td>
</tr>
<tr class="odd">
<td align="left"><a name="setupKnitr"><a href="#setupKnitr"><code>setupKnitr</code></a></a></td>
<td align="left">Function to set up <code>knitr</code> hooks</td>
</tr>
</tbody>
</table>
<p>The <a name="rgl.snapshot"><a href="#rgl.snapshot"><code>rgl.snapshot</code></a></a> function is identical to <code>snapshot3d</code>. The functions <a name="rgl.Sweave.off"><a href="#rgl.Sweave.off"><code>rgl.Sweave.off</code></a></a>, <a name="Sweave.snapshot"><a href="#Sweave.snapshot"><code>Sweave.snapshot</code></a></a> are involved in Sweave processing and not normally called by users.</p>
</div>
<div id="working-with-webgl-scenes" class="section level3">
<h3>Working with WebGL scenes</h3>
<p>There are currently two schemes for exporting a scene to a web page. Both require the <code>rglwidget</code> package and use the same underlying code.</p>
<p>The recommended approach works with the <code>htmlwidgets</code> framework (see <a href="http://www.htmlwidgets.org/">http://www.htmlwidgets.org/</a>). In an R Markdown document in <code>knitr</code>, use the chunk option <code>webgl=TRUE</code>, or the <code>rglwidget::rglwidget()</code> function. More details are given in the vignette <a href="WebGL.html">User Interaction in WebGL</a>.</p>
<p>The older approach uses the <code>writeWebGL</code> function to export a scene to HTML and Javascript code.<br />The functions below write HTML and Javascript for working with the exported scene.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="propertySlider"><a href="#propertySlider"><code>propertySlider</code></a></a></td>
<td align="left">insert a slider to make changes to a scene</td>
</tr>
<tr class="even">
<td align="left"><a name="clipplaneSlider"><a href="#clipplaneSlider"><code>clipplaneSlider</code></a></a></td>
<td align="left">insert a slider to control a clipping plane</td>
</tr>
<tr class="odd">
<td align="left"><a name="subsetSlider"><a href="#subsetSlider"><code>subsetSlider</code></a></a></td>
<td align="left">insert a slider to control which objects are displayed</td>
</tr>
<tr class="even">
<td align="left"><a name="toggleButton"><a href="#toggleButton"><code>toggleButton</code></a></a></td>
<td align="left">insert a button to toggle some items</td>
</tr>
<tr class="odd">
<td align="left"><a name="propertySetter"><a href="#propertySetter"><code>propertySetter</code></a></a></td>
<td align="left">function to modify properties</td>
</tr>
<tr class="even">
<td align="left"><a name="subsetSetter"><a href="#subsetSetter"><code>subsetSetter</code></a></a></td>
<td align="left">function to choose subsets</td>
</tr>
<tr class="odd">
<td align="left"><a name="ageSetter"><a href="#ageSetter"><code>ageSetter</code></a></a></td>
<td align="left">function to “age” vertices</td>
</tr>
<tr class="even">
<td align="left"><a name="par3dinterpSetter"><a href="#par3dinterpSetter"><code>par3dinterpSetter</code></a></a></td>
<td align="left">function like <a href="#par3dinterp"><code>par3dinterp</code></a></td>
</tr>
<tr class="odd">
<td align="left"><a name="vertexSetter"><a href="#vertexSetter"><code>vertexSetter</code></a></a></td>
<td align="left">function to modify individual vertices</td>
</tr>
<tr class="even">
<td align="left"><a name="matrixSetter"><a href="#matrixSetter"><code>matrixSetter</code></a></a></td>
<td align="left">function to modify matrices</td>
</tr>
</tbody>
</table>
</div>
<div id="working-with-the-scene" class="section level3">
<h3>Working with the scene</h3>
<p><code>rgl</code> maintains internal structures for all the scenes it displays. The following functions allow users to find information about them and manipulate them.</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="open3d"><a href="#open3d"><code>open3d</code></a></a></td>
<td align="left">open a new window</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.close"><a href="#rgl.close"><code>rgl.close</code></a></a></td>
<td align="left">close the current window</td>
</tr>
<tr class="odd">
<td align="left"><a name="rgl.bringtotop"><a href="#rgl.bringtotop"><code>rgl.bringtotop</code></a></a></td>
<td align="left">bring the current window to the top</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.cur"><a href="#rgl.cur"><code>rgl.cur</code></a></a></td>
<td align="left">id of the active device</td>
</tr>
<tr class="odd">
<td align="left"><a name="rgl.dev.list"><a href="#rgl.dev.list"><code>rgl.dev.list</code></a></a></td>
<td align="left">ids of all active devices</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.set"><a href="#rgl.set"><code>rgl.set</code></a></a></td>
<td align="left">set a particular device to be active</td>
</tr>
<tr class="odd">
<td align="left"><a name="rgl.ids"><a href="#rgl.ids"><code>rgl.ids</code></a></a></td>
<td align="left">ids and types of all current objects</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.attrib"><a href="#rgl.attrib"><code>rgl.attrib</code></a></a>, <a name="rgl.attrib.count"><a href="#rgl.attrib.count"><code>rgl.attrib.count</code></a></a>:</td>
<td align="left">attributes of objects in the scene</td>
</tr>
<tr class="odd">
<td align="left"><a name="pop3d"><a href="#pop3d"><code>pop3d</code></a></a>, <a name="rgl.pop"><a href="#rgl.pop"><code>rgl.pop</code></a></a></td>
<td align="left">delete an object from the scene</td>
</tr>
<tr class="even">
<td align="left"><a name="clear3d"><a href="#clear3d"><code>clear3d</code></a></a>, <a name="rgl.clear"><a href="#rgl.clear"><code>rgl.clear</code></a></a></td>
<td align="left">delete all objects of certain classes</td>
</tr>
<tr class="odd">
<td align="left"><a name="rgl.projection"><a href="#rgl.projection"><code>rgl.projection</code></a></a></td>
<td align="left">return information about the current projection</td>
</tr>
<tr class="even">
<td align="left"><a name="rgl.user2window"><a href="#rgl.user2window"><code>rgl.user2window</code></a></a>, <a name="rgl.window2user"><a href="#rgl.window2user"><code>rgl.window2user</code></a></a></td>
<td align="left">convert between coordinates in the current projection</td>
</tr>
</tbody>
</table>
<p>In addition to these, there are some other related functions which should rarely be called by users: <a name="rgl.init"><a href="#rgl.init"><code>rgl.init</code></a></a>, <a name="rgl.open"><a href="#rgl.open"><code>rgl.open</code></a></a>, <a name="rgl.quit"><a href="#rgl.quit"><code>rgl.quit</code></a></a>.</p>
</div>
<div id="working-with-3-d-vectors" class="section level3">
<h3>Working with 3-D vectors</h3>
<p>Most <code>rgl</code> functions work internally with “homogeneous” coordinates. In this system, 3-D points are represented with 4 coordinates, generally called (x, y, z, w). The corresponding Euclidean point is (x/w, y/w, z/w), if w is nonzero; zero values of w correspond to “points at infinity”. The advantage of this system is that affine transformations including translations and perspective shifts become linear transformations, with multiplication by a 4 by 4 matrix.</p>
<p><code>rgl</code> has the following functions to work with homogeneous coordinates:</p>
<table>
<tbody>
<tr class="odd">
<td align="left"><a name="asEuclidean"><a href="#asEuclidean"><code>asEuclidean</code></a></a>, <a name="asHomogeneous"><a href="#asHomogeneous"><code>asHomogeneous</code></a></a>:</td>
<td align="left">convert between homogeneous and Euclidean coordinates</td>
</tr>
<tr class="even">
<td align="left"><a name="rotate3d"><a href="#rotate3d"><code>rotate3d</code></a></a>, <a name="scale3d"><a href="#scale3d"><code>scale3d</code></a></a>, <a name="translate3d"><a href="#translate3d"><code>translate3d</code></a></a>:</td>
<td align="left">apply a transformation</td>
</tr>
<tr class="odd">
<td align="left"><a name="transform3d"><a href="#transform3d"><code>transform3d</code></a></a>:</td>
<td align="left">apply a general transformation</td>
</tr>
<tr class="even">
<td align="left"><a name="rotationMatrix"><a href="#rotationMatrix"><code>rotationMatrix</code></a></a>, <a name="scaleMatrix"><a href="#scaleMatrix"><code>scaleMatrix</code></a></a>, <a name="translationMatrix"><a href="#translationMatrix"><code>translationMatrix</code></a></a>:</td>
<td align="left">compute the transformation matrix</td>
</tr>
<tr class="odd">
<td align="left"><a name="identityMatrix"><a href="#identityMatrix"><code>identityMatrix</code></a></a></td>
<td align="left">return a 4 x 4 identity matrix</td>
</tr>
</tbody>
</table>
<p>There is also a function <a name="GramSchmidt"><a href="#GramSchmidt"><code>GramSchmidt</code></a></a>, mainly for internal use: it does a Gram-Schmidt orthogonalization of a 3x3 matrix, with some specializations for its use in <a href="#cylinder3d"><code>cylinder3d</code></a>.</p>
</div>
</div>
<div id="warning-work-in-progress" class="section level2">
<h2>Warning: Work in Progress!</h2>
<p>This vignette is in a preliminary form. Many aspects of the rgl package are not described, or do not have examples. There may even be functions that are missed completely, if the following list is not empty:</p>
<pre><code>## character(0)</code></pre>
</div>
<div id="index-of-functions" class="section level2">
<h2>Index of Functions</h2>
<p>The following functions and constants are described in this document:<br></p>
<div class="nostripes">
<table>
<tbody>
<tr class="odd">
<td align="left"><a href="#GramSchmidt">GramSchmidt</a>  </td>
<td align="left"><a href="#hook_webgl">hook_webgl</a>  </td>
<td align="left"><a href="#qmesh3d">qmesh3d</a>  </td>
<td align="left"><a href="#rgl.projection">rgl.projection</a>  </td>
<td align="left"><a href="#spin3d">spin3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#Sweave.snapshot">Sweave.snapshot</a>  </td>
<td align="left"><a href="#icosahedron3d">icosahedron3d</a>  </td>
<td align="left"><a href="#quads3d">quads3d</a>  </td>
<td align="left"><a href="#rgl.quads">rgl.quads</a>  </td>
<td align="left"><a href="#sprites3d">sprites3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#abclines3d">abclines3d</a>  </td>
<td align="left"><a href="#identify3d">identify3d</a>  </td>
<td align="left"><a href="#r3dDefaults">r3dDefaults</a>  </td>
<td align="left"><a href="#rgl.quit">rgl.quit</a>  </td>
<td align="left"><a href="#subdivision3d">subdivision3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#addNormals">addNormals</a>  </td>
<td align="left"><a href="#identityMatrix">identityMatrix</a>  </td>
<td align="left"><a href="#readOBJ">readOBJ</a>  </td>
<td align="left"><a href="#rgl.select">rgl.select</a>  </td>
<td align="left"><a href="#subsceneInfo">subsceneInfo</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#addToSubscene3d">addToSubscene3d</a>  </td>
<td align="left"><a href="#layout3d">layout3d</a>  </td>
<td align="left"><a href="#readSTL">readSTL</a>  </td>
<td align="left"><a href="#rgl.select3d">rgl.select3d</a>  </td>
<td align="left"><a href="#subsceneList">subsceneList</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#ageSetter">ageSetter</a>  </td>
<td align="left"><a href="#legend3d">legend3d</a>  </td>
<td align="left"><a href="#rgl.Sweave">rgl.Sweave</a>  </td>
<td align="left"><a href="#rgl.set">rgl.set</a>  </td>
<td align="left"><a href="#subsetSetter">subsetSetter</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#asEuclidean">asEuclidean</a>  </td>
<td align="left"><a href="#light3d">light3d</a>  </td>
<td align="left"><a href="#rgl.Sweave.off">rgl.Sweave.off</a>  </td>
<td align="left"><a href="#rgl.setMouseCallbacks">rgl.setMouseCallbacks</a>  </td>
<td align="left"><a href="#subsetSlider">subsetSlider</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#asHomogeneous">asHomogeneous</a>  </td>
<td align="left"><a href="#lines3d">lines3d</a>  </td>
<td align="left"><a href="#rgl.abclines">rgl.abclines</a>  </td>
<td align="left"><a href="#rgl.setWheelCallback">rgl.setWheelCallback</a>  </td>
<td align="left"><a href="#surface3d">surface3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#aspect3d">aspect3d</a>  </td>
<td align="left"><a href="#material3d">material3d</a>  </td>
<td align="left"><a href="#rgl.attrib">rgl.attrib</a>  </td>
<td align="left"><a href="#rgl.snapshot">rgl.snapshot</a>  </td>
<td align="left"><a href="#terrain3d">terrain3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#axes3d">axes3d</a>  </td>
<td align="left"><a href="#matrixSetter">matrixSetter</a>  </td>
<td align="left"><a href="#rgl.attrib.count">rgl.attrib.count</a>  </td>
<td align="left"><a href="#rgl.spheres">rgl.spheres</a>  </td>
<td align="left"><a href="#tetrahedron3d">tetrahedron3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#axis3d">axis3d</a>  </td>
<td align="left"><a href="#mfrow3d">mfrow3d</a>  </td>
<td align="left"><a href="#rgl.bbox">rgl.bbox</a>  </td>
<td align="left"><a href="#rgl.sprites">rgl.sprites</a>  </td>
<td align="left"><a href="#text3d">text3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#bbox3d">bbox3d</a>  </td>
<td align="left"><a href="#mouseMode">mouseMode</a>  </td>
<td align="left"><a href="#rgl.bg">rgl.bg</a>  </td>
<td align="left"><a href="#rgl.surface">rgl.surface</a>  </td>
<td align="left"><a href="#texts3d">texts3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#bg3d">bg3d</a>  </td>
<td align="left"><a href="#movie3d">movie3d</a>  </td>
<td align="left"><a href="#rgl.bringtotop">rgl.bringtotop</a>  </td>
<td align="left"><a href="#rgl.texts">rgl.texts</a>  </td>
<td align="left"><a href="#title3d">title3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#bgplot3d">bgplot3d</a>  </td>
<td align="left"><a href="#mtext3d">mtext3d</a>  </td>
<td align="left"><a href="#rgl.clear">rgl.clear</a>  </td>
<td align="left"><a href="#rgl.triangles">rgl.triangles</a>  </td>
<td align="left"><a href="#tmesh3d">tmesh3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#box3d">box3d</a>  </td>
<td align="left"><a href="#newSubscene3d">newSubscene3d</a>  </td>
<td align="left"><a href="#rgl.clipplanes">rgl.clipplanes</a>  </td>
<td align="left"><a href="#rgl.useNULL">rgl.useNULL</a>  </td>
<td align="left"><a href="#toggleButton">toggleButton</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#clear3d">clear3d</a>  </td>
<td align="left"><a href="#next3d">next3d</a>  </td>
<td align="left"><a href="#rgl.close">rgl.close</a>  </td>
<td align="left"><a href="#rgl.user2window">rgl.user2window</a>  </td>
<td align="left"><a href="#transform3d">transform3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#clearSubsceneList">clearSubsceneList</a>  </td>
<td align="left"><a href="#observer3d">observer3d</a>  </td>
<td align="left"><a href="#rgl.cur">rgl.cur</a>  </td>
<td align="left"><a href="#rgl.viewpoint">rgl.viewpoint</a>  </td>
<td align="left"><a href="#translate3d">translate3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#clipplaneSlider">clipplaneSlider</a>  </td>
<td align="left"><a href="#octahedron3d">octahedron3d</a>  </td>
<td align="left"><a href="#rgl.dev.list">rgl.dev.list</a>  </td>
<td align="left"><a href="#rgl.window2user">rgl.window2user</a>  </td>
<td align="left"><a href="#translationMatrix">translationMatrix</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#clipplanes3d">clipplanes3d</a>  </td>
<td align="left"><a href="#oh3d">oh3d</a>  </td>
<td align="left"><a href="#rgl.getMouseCallbacks">rgl.getMouseCallbacks</a>  </td>
<td align="left"><a href="#rglFonts">rglFonts</a>  </td>
<td align="left"><a href="#triangles3d">triangles3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#cube3d">cube3d</a>  </td>
<td align="left"><a href="#open3d">open3d</a>  </td>
<td align="left"><a href="#rgl.getWheelCallback">rgl.getWheelCallback</a>  </td>
<td align="left"><a href="#rotate3d">rotate3d</a>  </td>
<td align="left"><a href="#triangulate">triangulate</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#cuboctahedron3d">cuboctahedron3d</a>  </td>
<td align="left"><a href="#par3d">par3d</a>  </td>
<td align="left"><a href="#rgl.ids">rgl.ids</a>  </td>
<td align="left"><a href="#rotationMatrix">rotationMatrix</a>  </td>
<td align="left"><a href="#turn3d">turn3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#currentSubscene3d">currentSubscene3d</a>  </td>
<td align="left"><a href="#par3dinterp">par3dinterp</a>  </td>
<td align="left"><a href="#rgl.init">rgl.init</a>  </td>
<td align="left"><a href="#scale3d">scale3d</a>  </td>
<td align="left"><a href="#useSubscene3d">useSubscene3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#cylinder3d">cylinder3d</a>  </td>
<td align="left"><a href="#par3dinterpSetter">par3dinterpSetter</a>  </td>
<td align="left"><a href="#rgl.light">rgl.light</a>  </td>
<td align="left"><a href="#scaleMatrix">scaleMatrix</a>  </td>
<td align="left"><a href="#vertexSetter">vertexSetter</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#decorate3d">decorate3d</a>  </td>
<td align="left"><a href="#particles3d">particles3d</a>  </td>
<td align="left"><a href="#rgl.lines">rgl.lines</a>  </td>
<td align="left"><a href="#scene3d">scene3d</a>  </td>
<td align="left"><a href="#view3d">view3d</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#delFromSubscene3d">delFromSubscene3d</a>  </td>
<td align="left"><a href="#persp3d">persp3d</a>  </td>
<td align="left"><a href="#rgl.linestrips">rgl.linestrips</a>  </td>
<td align="left"><a href="#segments3d">segments3d</a>  </td>
<td align="left"><a href="#wire3d">wire3d</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#dodecahedron3d">dodecahedron3d</a>  </td>
<td align="left"><a href="#planes3d">planes3d</a>  </td>
<td align="left"><a href="#rgl.material">rgl.material</a>  </td>
<td align="left"><a href="#select3d">select3d</a>  </td>
<td align="left"><a href="#writeOBJ">writeOBJ</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#dot3d">dot3d</a>  </td>
<td align="left"><a href="#play3d">play3d</a>  </td>
<td align="left"><a href="#rgl.open">rgl.open</a>  </td>
<td align="left"><a href="#selectpoints3d">selectpoints3d</a>  </td>
<td align="left"><a href="#writePLY">writePLY</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#ellipse3d">ellipse3d</a>  </td>
<td align="left"><a href="#plot3d">plot3d</a>  </td>
<td align="left"><a href="#rgl.pixels">rgl.pixels</a>  </td>
<td align="left"><a href="#setupKnitr">setupKnitr</a>  </td>
<td align="left"><a href="#writeSTL">writeSTL</a>  </td>
</tr>
<tr class="odd">
<td align="left"><a href="#extrude3d">extrude3d</a>  </td>
<td align="left"><a href="#points3d">points3d</a>  </td>
<td align="left"><a href="#rgl.planes">rgl.planes</a>  </td>
<td align="left"><a href="#shade3d">shade3d</a>  </td>
<td align="left"><a href="#writeWebGL">writeWebGL</a>  </td>
</tr>
<tr class="even">
<td align="left"><a href="#gc3d">gc3d</a>  </td>
<td align="left"><a href="#polygon3d">polygon3d</a>  </td>
<td align="left"><a href="#rgl.points">rgl.points</a>  </td>
<td align="left"><a href="#shapelist3d">shapelist3d</a>  </td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><a href="#getr3dDefaults">getr3dDefaults</a>  </td>
<td align="left"><a href="#pop3d">pop3d</a>  </td>
<td align="left"><a href="#rgl.pop">rgl.pop</a>  </td>
<td align="left"><a href="#show2d">show2d</a>  </td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><a href="#grid3d">grid3d</a>  </td>
<td align="left"><a href="#propertySetter">propertySetter</a>  </td>
<td align="left"><a href="#rgl.postscript">rgl.postscript</a>  </td>
<td align="left"><a href="#snapshot3d">snapshot3d</a>  </td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><a href="#hook_rgl">hook_rgl</a>  </td>
<td align="left"><a href="#propertySlider">propertySlider</a>  </td>
<td align="left"><a href="#rgl.primitive">rgl.primitive</a>  </td>
<td align="left"><a href="#spheres3d">spheres3d</a>  </td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
