{% extends 'base.html' %}
{% load static %}

{% block pagetitle %}
    <title xmlns="http://www.w3.org/1999/html">Select</title>
{% endblock pagetitle %}

{% block user %}
    {% if user.is_authenticated %}
        <p>You are logged in as:<br>&nbsp;{{ user.username }}</p>
    {% endif %}
{% endblock user %}

{% block javascript %}
    <style>
        .inlineTable {
            display: inline-block;
            vertical-align: top;
        }
    </style>
    <script type="text/javascript">
        var selKeys = "";
        var table1, table2, table3, table4, table5, table6, table7, table8, table9;
        var RID = 0;

        $(function () {

            if ("{{ normpost }}" == "Success") alert("Uploaded samples were found in your database.\nYou may proceed directly to the Analysis section.");

            $(".display").dataTable({
                dom: 'B<"toolbar">lfrtip',
                deferRender: true,
                scrollX: true,
                bSort: true,
                bPaginate: true,
                sPaginationType: 'full_numbers',
                buttons: [ 'copy', 'csv', 'excel', 'pdf', 'print' ]
            });
            $("div.toolbar").html('<br><br>');

            $("#tabs").tabs({
                "activate": function(event, ui) {
                    $( $.fn.dataTable.tables( true ) ).DataTable()
                            .columns.adjust()
                            .buttons.resize();
                }
            });

            $("#drawtable").click(function () {
                updateProjectTable(selKeys);
                updateReferenceTable(selKeys);
                updateSampleTable(selKeys);
                updateAirTable(selKeys);
                updateAssociatedTable(selKeys);
                updateMicrobialTable(selKeys);
                updateSoilTable(selKeys);
                updateWaterTable(selKeys);
                updateUsrTable(selKeys);
                if (table1.data().length == 0) {
                    $("#tabs").tabs("disable", 0)
                } else {
                    $("#tabs").tabs("enable", 0)
                }

                if (table2.data().length == 0) {
                    $("#tabs").tabs("disable", 1)
                } else {
                   $("#tabs").tabs("enable", 1)
                }
                if (table3.data().length == 0) {
                    $("#tabs").tabs("disable", 2);
                } else {
                    $("#tabs").tabs("enable", 2);
                }
                if (table4.data().length == 0) {
                    $("#tabs").tabs("disable", 3);
                } else {
                    $("#tabs").tabs("enable", 3);
                }
                if (table5.data().length == 0) {
                    $("#tabs").tabs("disable", 4);
                } else {
                    $("#tabs").tabs("enable", 4);
                }
                if (table6.data().length == 0) {
                    $("#tabs").tabs("disable", 5);
                } else {
                    $("#tabs").tabs("enable", 5);
                }
                if (table7.data().length == 0) {
                    $("#tabs").tabs("disable", 6);
                } else {
                    $("#tabs").tabs("enable", 6);
                }
                if (table8.data().length == 0) {
                    $("#tabs").tabs("disable", 7);
                } else {
                    $("#tabs").tabs("enable", 7);
                }
                if (table9.data().length == 0) {
                    $("#tabs").tabs("disable", 8);
                } else {
                    $("#tabs").tabs("enable", 8);
                }
            });


            $("#tree").dynatree({
                checkbox: true,
                selectMode: 3,
                initAjax: {
                    url: "/getProjectTree/",
                    dataType: "jsonp",
                    data: {}
                },
                onLazyRead: function (node) {
                    node.appendAjax({
                        url: '/getProjectTreeChildren/',
                        data: {id: node.data.id}
                    });
                },
                onSelect: function (flag, node) {
                    if (flag && node.childList == undefined) {
                        node.reloadChildren(function () {
                            if (node.childList == undefined) {
                                node.select(false);
                                node.remove(true);
                            } else {
                                node.select(false);
                                node.select(true);
                            }
                        });
                    }
                }
            });

            $("#clearMeta").click(function () {
                $("#tree").dynatree("getRoot").visit(function (node) {
                    node.select(false);
                });
                updateProjectTable();
                updateSampleTable();
                updateReferenceTable();
                updateAirTable();
                updateAssociatedTable();
                updateMicrobialTable();
                updateSoilTable();
                updateWaterTable();
                updateUsrTable();
            });

            $("#submit").click(function () {
                selKeys = $.map($("#tree").dynatree("getSelectedNodes"), function(node) {
                    return node.data.id;
                });
                var jsonDict = JSON.stringify(selKeys);
                $.ajax({
                    type: 'GET',
                    url: '/saveSampleList/',
                    dataType: 'json',
                    data: {all: jsonDict},
                    success: function (data) {
                        var result = JSON.stringify(data);
                        alert(result);
                        $("#link0").hide();
                        $("#link1").hide();
                        $("#link2").hide();
                        $("#link3").hide();
                        $("#link4").hide();
                        $("#link5").show();
                        $("#link6").hide();
                    }
                });
                document.getElementById("drawtable").disabled = false;
            });

            $('<input>').attr({
                type: 'hidden',
                name: 'RID',
                value: makeGUID()
            }).appendTo('form');

        });

        function makeGUID(){
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            })
        }

        function updateProjectTable(selKeys) {
            table1 = $('#projectTable').DataTable();
            table1.clear().draw();
            $.each(selKeys, function (index, value) {
                {% for project in projects %}
                    {% for sample in project.sample_set.all %}
                        var id = "{{ sample.sampleid }}";
                        if (id == value) {
                            table1.row.add([
                                "{{ project.project_name }}",
                                "{{ project.projectid }}",
                                "{{ sample.sample_name }}",
                                "{{ project.project_desc }}",
                                "{{ project.start_date }}",
                                "{{ project.end_date }}",
                                "{{ project.pi_last }}",
                                "{{ project.pi_first }}",
                                "{{ project.pi_affiliation }}",
                                "{{ project.pi_email }}",
                                "{{ project.pi_phone }}",
                                "{{ project.status }}"
                            ]).draw();
                        }
                    {% endfor %}
                {% endfor %}
            });
        }

        function updateReferenceTable(selKeys) {
            table2 = $('#referenceTable').DataTable();
            table2.clear().draw();
            $.each(selKeys, function (index, value) {
                {% for project in projects %}
                    {% for ref in project.reference_set.all %}
                        {% for sample in ref.sample_set.all %}
                            var id = "{{ sample.sampleid }}";
                            if (id == value) {
                                 table2.row.add([
                                    "{{ project.project_name }}",
                                    "{{ project.projectid }}",
                                    "{{ ref.refid }}",
                                    "{{ sample.sample_name }}",
                                    "{{ sample.sampleid }}",
                                    "{{ ref.raw }}",
                                    "{{ ref.path }}",
                                    "{{ ref.source }}",
                                    "{{ ref.alignDB }}",
                                    "{{ ref.templateDB }}",
                                    "{{ ref.taxonomyDB }}",
                                    "{{ ref.author }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
                {% endfor %}
            });
        }

        function updateSampleTable(selKeys) {
            table3 = $('#sampleTable').DataTable();
            table3.clear().draw();
            $.each(selKeys, function (index, value) {
                {% for project in projects %}
                    {% for sample in project.sample_set.all %}
                        var id = "{{ sample.sampleid }}";
                        if (id == value) {
                             table3.row.add([
                                "{{ project.project_name }}",
                                "{{ sample.refid.refid }}",
                                "{{ sample.sampleid }}",
                                "{{ sample.sample_name }}",
                                "{{ sample.organism }}",
                                "{{ sample.collection_date }}",
                                "{{ sample.depth }}",
                                "{{ sample.elev }}",
                                "{{ sample.seq_platform }}",
                                "{{ sample.seq_gene }}",
                                "{{ sample.seq_gene_region }}",
                                "{{ sample.seq_barcode }}",
                                "{{ sample.seq_for_primer }}",
                                "{{ sample.seq_rev_primer }}",
                                "{{ sample.env_biome }}",
                                "{{ sample.env_feature }}",
                                "{{ sample.env_material }}",
                                "{{ sample.geo_loc_country }}",
                                "{{ sample.geo_loc_state }}",
                                "{{ sample.geo_loc_city }}",
                                "{{ sample.geo_loc_farm }}",
                                "{{ sample.geo_loc_plot }}",
                                "{{ sample.latitude }}",
                                "{{ sample.longitude }}",
                                "{{ sample.annual_season_precpt }}",
                                "{{ sample.annual_season_temp }}"
                             ]).draw();
                        }
                    {% endfor %}
                {% endfor %}
            });
        }

        function updateAirTable(selKeys){
            table4 = $('#airTable').DataTable();
            table4.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for Air in project.air_set.all %}
                            var id = "{{ Air.sampleid.sampleid }}";
                            if (id == value) {
                                 table4.row.add([
                                    "{{ project.project_name }}",
                                    "{{ Air.sampleid.sample_name }}",
                                    "{{ Air.barometric_press }}",
                                    "{{ Air.carb_dioxide }}",
                                    "{{ Air.carb_monoxide }}",
                                    "{{ Air.chem_admin_term }}",
                                    "{{ Air.chem_admin_time }}",
                                    "{{ Air.elev }}",
                                    "{{ Air.humidity }}",
                                    "{{ Air.methane }}",
                                    "{{ Air.organism_type }}",
                                    "{{ Air.organism_count }}",
                                    "{{ Air.oxy_stat_samp }}",
                                    "{{ Air.oxygen }}",
                                    "{{ Air.perturbation_type }}",
                                    "{{ Air.perturbation_interval }}",
                                    "{{ Air.pollutants_type }}",
                                    "{{ Air.pollutants_concentration }}",
                                    "{{ Air.rel_to_oxygen }}",
                                    "{{ Air.resp_part_matter_substance }}",
                                    "{{ Air.resp_part_matter_concentration }}",
                                    "{{ Air.samp_collect_device }}",
                                    "{{ Air.samp_mat_process }}",
                                    "{{ Air.samp_salinity }}",
                                    "{{ Air.samp_size }}",
                                    "{{ Air.samp_store_dur }}",
                                    "{{ Air.samp_store_loc }}",
                                    "{{ Air.samp_store_temp }}",
                                    "{{ Air.solar_irradiance }}",
                                    "{{ Air.temp }}",
                                    "{{ Air.ventilation_rate }}",
                                    "{{ Air.ventilation_type }}",
                                    "{{ Air.volatile_org_comp_name }}",
                                    "{{ Air.volatile_org_comp_concentration }}",
                                    "{{ Air.wind_direction }}",
                                    "{{ Air.wind_speed }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

        function updateAssociatedTable(selKeys) {
            table5 = $('#humassoTable').DataTable();
            table5.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for Human_Associated in project.human_associated_set.all %}
                            var id = "{{ Human_Associated.sampleid.sampleid }}";
                            if (id == value) {
                                 table5.row.add([
                                    "{{ project.project_name }}",
                                    "{{ Human_Associated.sampleid.sample_name }}",
                                    "{{ Human_Associated.samp_collect_device }}",
                                    "{{ Human_Associated.samp_mat_process }}",
                                    "{{ Human_Associated.samp_size }}",
                                    "{{ Human_Associated.samp_store_temp }}",
                                    "{{ Human_Associated.samp_store_dur }}",
                                    "{{ Human_Associated.samp_type }}",
                                    "{{ Human_Associated.samp_location }}",
                                    "{{ Human_Associated.samp_temp }}",
                                    "{{ Human_Associated.samp_ph }}",
                                    "{{ Human_Associated.samp_oxy_stat }}",
                                    "{{ Human_Associated.samp_salinity }}",
                                    "{{ Human_Associated.host_subject_id }}",
                                    "{{ Human_Associated.host_age }}",
                                    "{{ Human_Associated.host_pulse }}",
                                    "{{ Human_Associated.host_gender }}",
                                    "{{ Human_Associated.host_ethnicity }}",
                                    "{{ Human_Associated.host_height }}",
                                    "{{ Human_Associated.host_weight }}",
                                    "{{ Human_Associated.host_bmi }}",
                                    "{{ Human_Associated.host_weight_loss_3_month }}",
                                    "{{ Human_Associated.host_body_temp }}",
                                    "{{ Human_Associated.host_occupation }}",
                                    "{{ Human_Associated.pet_farm_animal }}",
                                    "{{ Human_Associated.smoker }}",
                                    "{{ Human_Associated.diet_type }}",
                                    "{{ Human_Associated.diet_duration }}",
                                    "{{ Human_Associated.diet_frequency }}",
                                    "{{ Human_Associated.diet_last_six_month }}",
                                    "{{ Human_Associated.last_meal }}",
                                    "{{ Human_Associated.medic_hist_perform }}",
                                    "{{ Human_Associated.disease_type }}",
                                    "{{ Human_Associated.disease_location }}",
                                    "{{ Human_Associated.disease_duration }}",
                                    "{{ Human_Associated.organism_count }}",
                                    "{{ Human_Associated.tumor_location }}",
                                    "{{ Human_Associated.tumor_mass }}",
                                    "{{ Human_Associated.tumor_stage }}",
                                    "{{ Human_Associated.drug_usage }}",
                                    "{{ Human_Associated.drug_type }}",
                                    "{{ Human_Associated.drug_duration }}",
                                    "{{ Human_Associated.drug_frequency }}",
                                    "{{ Human_Associated.perturbation }}",
                                    "{{ Human_Associated.pert_type }}",
                                    "{{ Human_Associated.pert_duration }}",
                                    "{{ Human_Associated.pert_frequency }}",
                                    "{{ Human_Associated.fetal_health_stat }}",
                                    "{{ Human_Associated.amniotic_fluid_color }}",
                                    "{{ Human_Associated.gestation_stat }}",
                                    "{{ Human_Associated.maternal_health_stat }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

        function updateMicrobialTable(selKeys){
            table6 = $('#microbialTable').DataTable();
            table6.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for Microbe in project.microbial_set.all %}
                            var id = "{{ Microbe.sampleid.sampleid }}";
                            if (id == value) {
                                 table6.row.add([
                                    "{{ project.project_name }}",
                                    "{{ Microbe.sampleid.sample_name }}",
                                    "{{ Microbe.alkalinity }}",
                                    "{{ Microbe.alkyl_diethers }}",
                                    "{{ Microbe.altitude }}",
                                    "{{ Microbe.aminopept_act }}",
                                    "{{ Microbe.ammonium }}",
                                    "{{ Microbe.bacteria_carb_prod }}",
                                    "{{ Microbe.biomass_part_name }}",
                                    "{{ Microbe.biomass_amount }}",
                                    "{{ Microbe.bishomohopanol }}",
                                    "{{ Microbe.bromide }}",
                                    "{{ Microbe.calcium }}",
                                    "{{ Microbe.carb_nitro_ratio }}",
                                    "{{ Microbe.chem_administration_term }}",
                                    "{{ Microbe.chem_administration_time }}",
                                    "{{ Microbe.chloride }}",
                                    "{{ Microbe.chlorophyll }}",
                                    "{{ Microbe.diether_lipids_name }}",
                                    "{{ Microbe.diether_lipids_concentration }}",
                                    "{{ Microbe.diss_carb_dioxide }}",
                                    "{{ Microbe.diss_hydrogen }}",
                                    "{{ Microbe.diss_inorg_carb }}",
                                    "{{ Microbe.diss_org_carb }}",
                                    "{{ Microbe.diss_org_nitro }}",
                                    "{{ Microbe.diss_oxygen }}",
                                    "{{ Microbe.glucosidase_act }}",
                                    "{{ Microbe.magnesium }}",
                                    "{{ Microbe.mean_frict_vel }}",
                                    "{{ Microbe.mean_peak_frict_vel }}",
                                    "{{ Microbe.methane }}",
                                    "{{ Microbe.n_alkanes_name }}",
                                    "{{ Microbe.n_alkanes_concentration }}",
                                    "{{ Microbe.nitrate }}",
                                    "{{ Microbe.nitrite }}",
                                    "{{ Microbe.nitro }}",
                                    "{{ Microbe.org_carb }}",
                                    "{{ Microbe.org_matter }}",
                                    "{{ Microbe.org_nitro }}",
                                    "{{ Microbe.organism_name }}",
                                    "{{ Microbe.organism_count }}",
                                    "{{ Microbe.oxy_stat_samp }}",
                                    "{{ Microbe.part_org_carb }}",
                                    "{{ Microbe.perturbation_type }}",
                                    "{{ Microbe.perturbation_interval }}",
                                    "{{ Microbe.petroleum_hydrocarb }}",
                                    "{{ Microbe.ph }}",
                                    "{{ Microbe.phaeopigments_type }}",
                                    "{{ Microbe.phaeopigments_concentration }}",
                                    "{{ Microbe.phosphate }}",
                                    "{{ Microbe.phosplipid_fatt_acid_name }}",
                                    "{{ Microbe.phosplipid_fatt_acid_concentration }}",
                                    "{{ Microbe.potassium }}",
                                    "{{ Microbe.pressure }}",
                                    "{{ Microbe.redox_potential }}",
                                    "{{ Microbe.rel_to_oxygen }}",
                                    "{{ Microbe.salinity }}",
                                    "{{ Microbe.samp_collect_device }}",
                                    "{{ Microbe.samp_mat_process }}",
                                    "{{ Microbe.samp_size }}",
                                    "{{ Microbe.samp_store_dur }}",
                                    "{{ Microbe.samp_store_loc }}",
                                    "{{ Microbe.samp_store_temp }}",
                                    "{{ Microbe.silicate }}",
                                    "{{ Microbe.sodium }}",
                                    "{{ Microbe.sulfate }}",
                                    "{{ Microbe.sulfide }}",
                                    "{{ Microbe.temp }}",
                                    "{{ Microbe.tot_carb }}",
                                    "{{ Microbe.tot_nitro }}",
                                    "{{ Microbe.tot_org_carb }}",
                                    "{{ Microbe.turbidity }}",
                                    "{{ Microbe.water_content }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

        function updateSoilTable(selKeys){
            table7 = $('#soilTable').DataTable();
            table7.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for Soil in project.soil_set.all %}
                            var id = "{{ Soil.sampleid.sampleid }}";
                            if (id == value) {
                                 table7.row.add([
                                    "{{ project.project_name }}",
                                    "{{ Soil.sampleid.sample_name }}",
                                    "{{ Soil.samp_collection_device }}",
                                    "{{ Soil.samp_size }}",
                                    "{{ Soil.samp_depth }}",
                                    "{{ Soil.samp_prep }}",
                                    "{{ Soil.samp_sieve_size }}",
                                    "{{ Soil.samp_store_dur }}",
                                    "{{ Soil.samp_store_loc }}",
                                    "{{ Soil.samp_store_temp }}",
                                    "{{ Soil.samp_weight_dna_ext }}",
                                    "{{ Soil.pool_dna_extracts }}",
                                    "{{ Soil.fao_class }}",
                                    "{{ Soil.local_class }}",
                                    "{{ Soil.texture_class }}",
                                    "{{ Soil.porosity }}",
                                    "{{ Soil.profile_position }}",
                                    "{{ Soil.slope_aspect }}",
                                    "{{ Soil.slope_gradient }}",
                                    "{{ Soil.bulk_density }}",
                                    "{{ Soil.drainage_class }}",
                                    "{{ Soil.water_content_soil }}",
                                    "{{ Soil.cur_land_use }}",
                                    "{{ Soil.cur_vegetation }}",
                                    "{{ Soil.cur_crop }}",
                                    "{{ Soil.cur_cultivar }}",
                                    "{{ Soil.crop_rotation }}",
                                    "{{ Soil.cover_crop }}",
                                    "{{ Soil.fert_amendment_class }}",
                                    "{{ Soil.fert_placement }}",
                                    "{{ Soil.fert_type }}",
                                    "{{ Soil.fert_tot_amount }}",
                                    "{{ Soil.fert_N_tot_amount }}",
                                    "{{ Soil.fert_P_tot_amount }}",
                                    "{{ Soil.fert_K_tot_amount }}",
                                    "{{ Soil.irrigation_type }}",
                                    "{{ Soil.irrigation_tot_amount }}",
                                    "{{ Soil.residue_removal }}",
                                    "{{ Soil.residue_growth_stage }}",
                                    "{{ Soil.residue_removal_percent }}",
                                    "{{ Soil.tillage_event }}",
                                    "{{ Soil.tillage_event_depth }}",
                                    "{{ Soil.amend1_class }}",
                                    "{{ Soil.amend1_active_ingredient }}",
                                    "{{ Soil.amend1_tot_amount }}",
                                    "{{ Soil.amend2_class }}",
                                    "{{ Soil.amend2_active_ingredient }}",
                                    "{{ Soil.amend2_tot_amount }}",
                                    "{{ Soil.amend3_class }}",
                                    "{{ Soil.amend3_active_ingredient }}",
                                    "{{ Soil.amend3_tot_amount }}",
                                    "{{ Soil.rRNA_copies }}",
                                    "{{ Soil.microbial_biomass_C }}",
                                    "{{ Soil.microbial_biomass_N }}",
                                    "{{ Soil.microbial_respiration }}",
                                    "{{ Soil.soil_pH }}",
                                    "{{ Soil.soil_EC }}",
                                    "{{ Soil.soil_C }}",
                                    "{{ Soil.soil_OM }}",
                                    "{{ Soil.soil_N }}",
                                    "{{ Soil.soil_NO3_N }}",
                                    "{{ Soil.soil_NH4_N }}",
                                    "{{ Soil.soil_P }}",
                                    "{{ Soil.soil_K }}",
                                    "{{ Soil.soil_S }}",
                                    "{{ Soil.soil_Zn }}",
                                    "{{ Soil.soil_Fe }}",
                                    "{{ Soil.soil_Cu }}",
                                    "{{ Soil.soil_Mn }}",
                                    "{{ Soil.soil_Ca }}",
                                    "{{ Soil.soil_Mg }}",
                                    "{{ Soil.soil_Na }}",
                                    "{{ Soil.soil_B }}",
                                    "{{ Soil.plant_C }}",
                                    "{{ Soil.plant_N }}",
                                    "{{ Soil.plant_P }}",
                                    "{{ Soil.plant_K }}",
                                    "{{ Soil.plant_Ca }}",
                                    "{{ Soil.plant_Mg }}",
                                    "{{ Soil.plant_S }}",
                                    "{{ Soil.plant_Na }}",
                                    "{{ Soil.plant_Cl }}",
                                    "{{ Soil.plant_Al }}",
                                    "{{ Soil.plant_B }}",
                                    "{{ Soil.plant_Cu }}",
                                    "{{ Soil.plant_Fe }}",
                                    "{{ Soil.plant_Mn }}",
                                    "{{ Soil.plant_Zn }}",
                                    "{{ Soil.crop_tot_biomass_fw }}",
                                    "{{ Soil.crop_tot_biomass_dw }}",
                                    "{{ Soil.crop_tot_above_biomass_fw }}",
                                    "{{ Soil.crop_tot_above_biomass_dw }}",
                                    "{{ Soil.crop_tot_below_biomass_fw }}",
                                    "{{ Soil.crop_tot_below_biomass_dw }}",
                                    "{{ Soil.harv_fraction }}",
                                    "{{ Soil.harv_fresh_weight }}",
                                    "{{ Soil.harv_dry_weight }}",
                                    "{{ Soil.ghg_chamber_placement }}",
                                    "{{ Soil.ghg_N2O }}",
                                    "{{ Soil.ghg_CO2 }}",
                                    "{{ Soil.ghg_NH4 }}",
                                     //New
                                    "{{ Soil.soil_water_cap }}",
                                    "{{ Soil.soil_surf_hard }}",
                                    "{{ Soil.soil_subsurf_hard }}",
                                    "{{ Soil.soil_agg_stability }}",
                                    "{{ Soil.soil_ACE_protein }}",
                                    "{{ Soil.soil_active_C }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

        function updateWaterTable(selKeys){
            table8 = $('#waterTable').DataTable();
            table8.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for Water in project.water_set.all %}
                            var id = "{{ Water.sampleid.sampleid }}";
                            if (id == value) {
                                 table8.row.add([
                                    "{{ project.project_name }}",
                                    "{{ Water.sampleid.sample_name }}",
                                    "{{ Water.alkalinity }}",
                                    "{{ Water.alkyl_diethers }}",
                                    "{{ Water.altitude }}",
                                    "{{ Water.aminopept_act }}",
                                    "{{ Water.ammonium }}",
                                    "{{ Water.atmospheric_data }}",
                                    "{{ Water.bac_prod }}",
                                    "{{ Water.bac_resp }}",
                                    "{{ Water.bacteria_carb_prod }}",
                                    "{{ Water.biomass_part_name }}",
                                    "{{ Water.biomass_amount }}",
                                    "{{ Water.bishomohopanol }}",
                                    "{{ Water.bromide }}",
                                    "{{ Water.calcium }}",
                                    "{{ Water.carb_nitro_ratio }}",
                                    "{{ Water.chem_administration_name }}",
                                    "{{ Water.chem_administration_time }}",
                                    "{{ Water.chloride }}",
                                    "{{ Water.chlorophyll }}",
                                    "{{ Water.conduc }}",
                                    "{{ Water.density }}",
                                    "{{ Water.diether_lipids }}",
                                    "{{ Water.diss_carb_dioxide }}",
                                    "{{ Water.diss_hydrogen }}",
                                    "{{ Water.diss_inorg_carb }}",
                                    "{{ Water.diss_inorg_nitro }}",
                                    "{{ Water.diss_inorg_phosp }}",
                                    "{{ Water.diss_org_carb }}",
                                    "{{ Water.diss_org_nitro }}",
                                    "{{ Water.diss_oxygen }}",
                                    "{{ Water.down_par }}",
                                    "{{ Water.elev }}",
                                    "{{ Water.fluor }}",
                                    "{{ Water.glucosidase_act }}",
                                    "{{ Water.light_intensity }}",
                                    "{{ Water.magnesium }}",
                                    "{{ Water.mean_frict_vel }}",
                                    "{{ Water.mean_peak_frict_vel }}",
                                    "{{ Water.n_alkanes }}",
                                    "{{ Water.nitrate }}",
                                    "{{ Water.nitrite }}",
                                    "{{ Water.nitro }}",
                                    "{{ Water.org_carb }}",
                                    "{{ Water.org_matter }}",
                                    "{{ Water.org_nitro }}",
                                    "{{ Water.organism_name }}",
                                    "{{ Water.organism_count }}",
                                    "{{ Water.oxy_stat_samp }}",
                                    "{{ Water.part_org_carb }}",
                                    "{{ Water.part_org_nitro }}",
                                    "{{ Water.perturbation_type }}",
                                    "{{ Water.perturbation_interval }}",
                                    "{{ Water.pretroleum_hydrocarb }}",
                                    "{{ Water.ph }}",
                                    "{{ Water.phaeopigments }}",
                                    "{{ Water.phosphate }}",
                                    "{{ Water.phosplipid_fatt_acid }}",
                                    "{{ Water.photon_flux }}",
                                    "{{ Water.potassium }}",
                                    "{{ Water.pressure }}",
                                    "{{ Water.primary_prod }}",
                                    "{{ Water.redox_potential }}",
                                    "{{ Water.rel_to_oxygen }}",
                                    "{{ Water.samp_mat_process }}",
                                    "{{ Water.samp_salinity }}",
                                    "{{ Water.samp_size }}",
                                    "{{ Water.samp_store_dur }}",
                                    "{{ Water.samp_store_loc }}",
                                    "{{ Water.samp_store_temp }}",
                                    "{{ Water.samp_vol_we_dna_ext }}",
                                    "{{ Water.silicate }}",
                                    "{{ Water.sodium }}",
                                    "{{ Water.soluble_react_phosp }}",
                                    "{{ Water.source_material_id }}",
                                    "{{ Water.sulfate }}",
                                    "{{ Water.sulfide }}",
                                    "{{ Water.suspen_part_matter }}",
                                    "{{ Water.temp }}",
                                    "{{ Water.tidal_stage }}",
                                    "{{ Water.tot_depth_water_col }}",
                                    "{{ Water.tot_diss_nitro }}",
                                    "{{ Water.tot_inorg_nitro }}",
                                    "{{ Water.tot_nitro }}",
                                    "{{ Water.tot_part_carb }}",
                                    "{{ Water.tot_phosp }}",
                                    "{{ Water.water_current_direction }}",
                                    "{{ Water.water_current_magnitude }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

        function updateUsrTable(selKeys) {
            table9 = $('#usrTable').DataTable();
            table9.clear().draw();
            $.each(selKeys, function (index, value) {
                    {% for project in projects %}
                        {% for User in project.userdefined_set.all %}
                            var id = "{{ User.sampleid.sampleid }}";
                            if (id == value) {
                                 table9.row.add([
                                    "{{ project.project_name }}",
                                    "{{ User.sampleid.sample_name }}",
                                    "{{ User.usr_cat1 }}",
                                    "{{ User.usr_cat2 }}",
                                    "{{ User.usr_cat3 }}",
                                    "{{ User.usr_cat4 }}",
                                    "{{ User.usr_cat5 }}",
                                    "{{ User.usr_cat6 }}",
                                    "{{ User.usr_quant1 }}",
                                    "{{ User.usr_quant2 }}",
                                    "{{ User.usr_quant3 }}",
                                    "{{ User.usr_quant4 }}",
                                    "{{ User.usr_quant5 }}",
                                    "{{ User.usr_quant6 }}"
                                 ]).draw();
                            }
                        {% endfor %}
                    {% endfor %}
            });
        }

    </script>
{% endblock javascript %}

{% block my_content %}
    <br>
    <div>
    <h2>Select new combination of sample(s)</h2>
    <table border="2" cellspacing="0" cellpadding="5" class="inlineTable">
        <tr>
            <th>Select any combination of data for analysis:<br><a href="#" id="clearMeta" style="font-size: 12px;">-Deselect all-</a></th>
        </tr>
        <tr>
            <td style="padding-right: 10px; vertical-align: top">
                <div id="tree"></div>
            </td>
        </tr>
    </table>
    <br>
    <input id="submit" type="button" value="Save Selection(s)!"/>
    <br>
    <br>
    <form id='form' action="{% url 'uploadNorm' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <h2>Upload previously normalized sample set</h2>
        <table width="430px" border="2" cellspacing="0" cellpadding="5" class="inlineTable">
            <tr>
                <td>{{ form9.normFile.label_tag }}</td>
                <td>{{ form9.normFile }}</td>
            </tr>
        </table>
        <br>
        <input id="submit" type="submit" value="Upload!"/>
    </form>
    </div>
    <br><br>
    <h2>Project/Sample information for selected samples:</h2>
    <input id="drawtable" type="button" disabled value="Populate DataTable!"/>
    <br><br>

    <div id="tabs" style="width: 950px">
        <ul>
            <li><a href="#tabs-1">Project</a></li>
            <li><a href="#tabs-2">Reference</a></li>
            <li><a href="#tabs-3">MIMARKs</a></li>
            <li><a href="#tabs-4">Air</a></li>
            <li><a href="#tabs-5">Human</a></li>
            <li><a href="#tabs-6">Microbial</a></li>
            <li><a href="#tabs-7">Soil</a></li>
            <li><a href="#tabs-8">Water</a></li>
            <li><a href="#tabs-9">User</a></li>
        </ul>

        <div id="tabs-1">
            <table id="projectTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="myPhyloDB generated project UUID">project_id</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="Project description">project_desc</th>
                        <th title="Project start date">start_date</th>
                        <th title="Project end date">end_date</th>
                        <th title="Principal investigator: last name">pi_last</th>
                        <th title="Principal investigator: first name">pi_first</th>
                        <th title="Principal investigator: affiliation">pi_affiliation</th>
                        <th title="Principal investigator: e-mail">pi_email</th>
                        <th title="Principal investigator: phone">pi_phone</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-2">
            <table id="referenceTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="myPhyloDB generated project UUID">projectid</th>
                        <th title="myPhyloDB generated upload UUID">refid</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="myPhylodb generated sample UUID">sampleid</th>
                        <th title="True if raw data was uploaded & analyzed by myPhyloDB">raw</th>
                        <th title="File path to the uploaded data files">path</th>
                        <th title="Sequencing platform ('mothur' if pre-processed data)">source</th>
                        <th title="Alignment database used for sequence processing">alignDB</th>
                        <th title="Template database used for sequence processing">templateDB</th>
                        <th title="Taxonomy database used for sequence processing">taxonomyDB</th>
                        <th title="Username of person who uploaded data">author</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-3">
            <table id="sampleTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="myPhyloDB generated upload UUID">ref_id</th>
                        <th title="myPhylodb generated sample UUID">sample_id</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="NCBI organism">organism</th>
                        <th title="Collection Date">collection_date</th>
                        <th title="Depth below soil surface">depth</th>
                        <th title="Elevation">elev</th>
                        <th title="Sequencing platform">seq_platform</th>
                        <th title="Gene targeted for sequencing">seq_gene</th>
                        <th title="Gene region targeted for sequencing">seq_gene_region</th>
                        <th title="Sequencing barcoder">seq_barcode</th>
                        <th title="Sequencing forward primer">seq_for_primer</th>
                        <th title="Sequencing reverse primer">seq_rev_primer</th>
                        <th title="Environment: biome">env_biome</th>
                        <th title="Environment: feature">env_feature</th>
                        <th title="Environment: material">env_material</th>
                        <th title="Geographic location: country">geo_loc_country</th>
                        <th title="Geographic location: state">geo_loc_state</th>
                        <th title="Geographic location: city">geo_loc_city</th>
                        <th title="Geographic location: farm">geo_loc_farm</th>
                        <th title="Geographic location: plot">geo_loc_plot</th>
                        <th title="Latitude">latitude</th>
                        <th title="Longitude">longitude</th>
                        <th title="Mean annual precipitation">annual_season_precpt</th>
                        <th title="Mean annual temperature">annual_season_temp</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-4">
            <table id="airTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th>barometric_press</th>
                        <th>carb_dioxide</th>
                        <th>carb_monoxide</th>
                        <th>chem_admin_term</th>
                        <th>chem_admin_time</th>
                        <th>elev</th>
                        <th>humidity</th>
                        <th>methane</th>
                        <th>organism_type</th>
                        <th>organism_count</th>
                        <th>oxy_stat_samp</th>
                        <th>oxygen</th>
                        <th>perturbation_type</th>
                        <th>perturbation_interval</th>
                        <th>pollutants_type</th>
                        <th>pollutants_concentration</th>
                        <th>rel_to_oxygen</th>
                        <th>resp_part_matter_substance</th>
                        <th>resp_part_matter_concentration</th>
                        <th>samp_collect_device</th>
                        <th>samp_mat_process</th>
                        <th>samp_salinity</th>
                        <th>samp_size</th>
                        <th>samp_store_dur</th>
                        <th>samp_store_loc</th>
                        <th>samp_store_temp</th>
                        <th>solar_irradiance</th>
                        <th>temp</th>
                        <th>ventilation_rate</th>
                        <th>ventilation_type</th>
                        <th>volatile_org_comp_name</th>
                        <th>volatile_org_comp_concentration</th>
                        <th>wind_direction</th>
                        <th>wind_speed</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-5">
            <table id="humassoTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project namne">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="Sample: collection device">samp_collect_device</th>
                        <th title="Sample: material processing">samp_mat_process</th>
                        <th title="Sample: size">samp_size</th>
                        <th title="Sample: storage temperature">samp_store_temp</th>
                        <th title="Sample: storage duration">samp_store_dur</th>
                        <th title="Sample: type">samp_type</th>
                        <th title="Sample: location (body part)">samp_location</th>
                        <th title="Sample: temperature">samp_temp</th>
                        <th title="Sample: pH">samp_ph</th>
                        <th title="Sample: oxygen status">samp_oxy_stat</th>
                        <th title="Sample: salinity">samp_salinity</th>
                        <th title="Host: unique ID">host_subject_id</th>
                        <th title="Host: age">host_age</th>
                        <th title="Host: pulse">host_pulse</th>
                        <th title="Host: gender">host_gender</th>
                        <th title="Host: ethnicity">host_ethnicity</th>
                        <th title="Host: height">host_height</th>
                        <th title="Host: weight">host_weight</th>
                        <th title="Host: body mass index">host_bmi</th>
                        <th title="Host: weight loss in the last 3 months">host_weight_loss_3_month</th>
                        <th title="Host: body temperature">host_body_temp</th>
                        <th title="Host: occupation">host_occupation</th>
                        <th title="Host: pets owned">pet_farm_animal</th>
                        <th title="Host: smoker">smoker</th>
                        <th title="Diet: type">diet_type</th>
                        <th title="Diet: duration">diet_duration</th>
                        <th title="Diet: frequency">diet_frequency</th>
                        <th title="Diet: last six months">diet_last_six_month</th>
                        <th title="Diet: last meal">last_meal</th>
                        <th title="Disease: medical history performed">medic_hist_perform</th>
                        <th title="Disease: type">disease_type</th>
                        <th title="Disease: location (body part)">disease_location</th>
                        <th title="Disease: duration">disease_duration</th>
                        <th title="Disease: organism count">organism_count</th>
                        <th title="Disease: tumor location">tumor_location</th>
                        <th title="Disease: tumor mass">tumor_mass</th>
                        <th title="Disease: tumor stage">tumor_stage</th>
                        <th title="Drugs: usage">drug_usage</th>
                        <th title="Drugs: type">drug_type</th>
                        <th title="Drugs: duration">drug_duration</th>
                        <th title="Drugs: Frequency">drug_frequency</th>
                        <th title="Intervention: type">perturbation</th>
                        <th title="Intervention: chemical compound">pert_type</th>
                        <th title="Intervention: duration">pert_duration</th>
                        <th title="Intervention: frequency">pert_frequency</th>
                        <th title="Fetal: health status">fetal_health_stat</th>
                        <th title="Fetal: amniotic fluid color">amniotic_fluid_color</th>
                        <th title="Fetal: gestation state">gestation_stat</th>
                        <th title="Fetal: maternal health status">maternal_health_stat</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-6">
            <table id="microbialTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project namne">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th>alkalinity</th>
                        <th>alkyl_diethers</th>
                        <th>altitude</th>
                        <th>aminopept_act</th>
                        <th>ammonium</th>
                        <th>bacteria_carb_prod</th>
                        <th>biomass_part_name</th>
                        <th>biomass_amount</th>
                        <th>bishomohopanol</th>
                        <th>bromide</th>
                        <th>calcium</th>
                        <th>carb_nitro_ratio</th>
                        <th>chem_administration_term</th>
                        <th>chem_administration_time</th>
                        <th>chloride</th>
                        <th>chlorophyll</th>
                        <th>diether_lipids_name</th>
                        <th>diether_lipids_concentration</th>
                        <th>diss_carb_dioxide</th>
                        <th>diss_hydrogen</th>
                        <th>diss_inorg_carb</th>
                        <th>diss_org_carb</th>
                        <th>diss_org_nitro</th>
                        <th>diss_oxygen</th>
                        <th>glucosidase_act</th>
                        <th>magnesium</th>
                        <th>mean_frict_vel</th>
                        <th>mean_peak_frict_vel</th>
                        <th>methane</th>
                        <th>n_alkanes_name</th>
                        <th>n_alkanes_concentration</th>
                        <th>nitrate</th>
                        <th>nitrite</th>
                        <th>nitro</th>
                        <th>org_carb</th>
                        <th>org_matter</th>
                        <th>org_nitro</th>
                        <th>organism_name</th>
                        <th>organism_count</th>
                        <th>oxy_stat_samp</th>
                        <th>part_org_carb</th>
                        <th>perturbation_type</th>
                        <th>perturbation_interval</th>
                        <th>petroleum_hydrocarb</th>
                        <th>ph</th>
                        <th>phaeopigments_type</th>
                        <th>phaeopigments_concentration</th>
                        <th>phosphate</th>
                        <th>phosplipid_fatt_acid_name</th>
                        <th>phosplipid_fatt_acid_concentration</th>
                        <th>potassium</th>
                        <th>pressure</th>
                        <th>redox_potential</th>
                        <th>rel_to_oxygen</th>
                        <th>salinity</th>
                        <th>samp_collect_device</th>
                        <th>samp_mat_process</th>
                        <th>samp_size</th>
                        <th>samp_store_dur</th>
                        <th>samp_store_loc</th>
                        <th>samp_store_temp</th>
                        <th>silicate</th>
                        <th>sodium</th>
                        <th>sulfate</th>
                        <th>sulfide</th>
                        <th>temp</th>
                        <th>tot_carb</th>
                        <th>tot_nitro</th>
                        <th>tot_org_carb</th>
                        <th>turbidity</th>
                        <th>water_content</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-7">
            <table id="soilTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="Sample: collection device">samp_collection_device</th>
                        <th title="Sample: size">samp_size</th>
                        <th title="Sample: depth range">samp_depth</th>
                        <th title="Sample: preparation">samp_prep</th>
                        <th title="Sample: sieve size">samp_sieve_size</th>
                        <th title="Sample: storage duration">samp_store_dur</th>
                        <th title="Sample: storage location">samp_store_loc</th>
                        <th title="Sample: storage temperature">samp_store_temp</th>
                        <th title="Sample: weight used for DNA extractions">samp_weight_dna_ext</th>
                        <th title="Sample: number of pooled DNA extracts">pool_dna_extracts</th>
                        <th title="Soil: FAO classification">fao_class</th>
                        <th title="Soil: USDA soil taxonomy">local_class</th>
                        <th title="Soil: texture class">texture_class</th>
                        <th title="Soil: porosity">porosity</th>
                        <th title="Soil: profile position">profile_position</th>
                        <th title="Soil: slope aspect">slope_aspect</th>
                        <th title="Soil: slope gradient">slope_gradient</th>
                        <th title="Soil: bulk density">bulk_density</th>
                        <th title="Soil: drainage class">drainage_class</th>
                        <th title="Soil: water content">water_content_soil</th>
                        <th title="Crop: current land use">cur_land_use</th>
                        <th title="Crop: current vegetation">cur_vegetation</th>
                        <th title="Crop: current crop">cur_crop</th>
                        <th title="Crop: current cultivar">cur_cultivar</th>
                        <th title="Crop: crop rotation">crop_rotation</th>
                        <th title="Crop: cover crop">cover_crop</th>
                        <th title="Fertilizer: amendment class">fert_amendment_class</th>
                        <th title="Fertilizer: placement">fert_placement</th>
                        <th title="Fertilizer: type">fert_type</th>
                        <th title="Fertilizer: total amount">fert_tot_amount</th>
                        <th title="Fertilizer: total N amount">fert_N_tot_amount</th>
                        <th title="Fertilizer: total P amount">fert_P_tot_amount</th>
                        <th title="Fertilizer: total K amount">fert_K_tot_amount</th>
                        <th title="Irrigation: type">irrigation_type</th>
                        <th title="Irrigation: total amount">irrigation_tot_amount</th>
                        <th title="Residue: type">residue_removal</th>
                        <th title="Residue: growth stage at removal">residue_growth_stage</th>
                        <th title="Residue: amount removed">residue_removal_percent</th>
                        <th title="Tillage: type">tillage_event</th>
                        <th title="Tillage: depth">tillage_event_depth</th>
                        <th title="Amendments: type">amend1_class</th>
                        <th title="Amendments: active ingredient">amend1_active_ingredient</th>
                        <th title="Amendments: total amount">amend1_tot_amount</th>
                        <th title="Amendments: type">amend2_class</th>
                        <th title="Amendments: active ingredient">amend2_active_ingredient</th>
                        <th title="Amendments: total amount">amend2_tot_amount</th>
                        <th title="Amendments: type">amend3_class</th>
                        <th title="Amendments: active ingredient">amend3_active_ingredient</th>
                        <th title="Amendments: total amount">amend3_tot_amount</th>
                        <th title="Microbial Biomass: rRNA copies">rRNA_copies</th>
                        <th title="Microbial Biomass: microbial biomass Carbon">microbial_biomass_C</th>
                        <th title="Microbial Biomass: microbial biomass Nitrogen">microbial_biomass_N</th>
                        <th title="Microbial Biomass: microbial respiration">microbial_respiration</th>
                        <th title="Soil nutrients: pH">soil_pH</th>
                        <th title="Soil nutrients: Electrical conductivity">soil_EC</th>
                        <th title="Soil nutrients: Carbon">soil_C</th>
                        <th title="Soil nutrients: Organic matter">soil_OM</th>
                        <th title="Soil nutrients: Nitrogen">soil_N</th>
                        <th title="Soil nutrients: Nitrate Nitrogen">soil_NO3_N</th>
                        <th title="Soil nutrients: Ammonium Nitrogen">soil_NH4_N</th>
                        <th title="Soil nutrients: Phosphorous">soil_P</th>
                        <th title="Soil nutrients: Potassium">soil_K</th>
                        <th title="Soil nutrients: Sulfur">soil_S</th>
                        <th title="Soil nutrients: Zinc">soil_Zn</th>
                        <th title="Soil nutrients: Iron">soil_Fe</th>
                        <th title="Soil nutrients: Copper">soil_Cu</th>
                        <th title="Soil nutrients: Manganese">soil_Mn</th>
                        <th title="Soil nutrients: Calcium">soil_Ca</th>
                        <th title="Soil nutrients: Magnesium">soil_Mg</th>
                        <th title="Soil nutrients: Sodium">soil_Na</th>
                        <th title="Soil nutrients: Boron">soil_B</th>
                        <th title="Plant nutrients: Carbon">plant_C</th>
                        <th title="Plant nutrients: Nitrogen">plant_N</th>
                        <th title="Plant nutrients: Phosphorous">plant_P</th>
                        <th title="Plant nutrients: Potassium">plant_K</th>
                        <th title="Plant nutrients: Calcium">plant_Ca</th>
                        <th title="Plant nutrients: Magnesium">plant_Mg</th>
                        <th title="Plant nutrients: Sulfur">plant_S</th>
                        <th title="Plant nutrients: Sodium">plant_Na</th>
                        <th title="Plant nutrients: Choride">plant_Cl</th>
                        <th title="Plant nutrients: Aluminum">plant_Al</th>
                        <th title="Plant nutrients: Boron">plant_B</th>
                        <th title="Plant nutrients: Copper">plant_Cu</th>
                        <th title="Plant nutrients: Iron">plant_Fe</th>
                        <th title="Plant nutrients: Manganese">plant_Mn</th>
                        <th title="Plant nutrients: Zinc">plant_Zn</th>
                        <th title="Crop biomass: total fresh weight">crop_tot_biomass_fw</th>
                        <th title="Crop biomass: total dry weight">crop_tot_biomass_dw</th>
                        <th title="Crop biomass: total aboveground biomass fresh weight">crop_tot_above_biomass_fw</th>
                        <th title="Crop biomass: total aboveground biomass dry weight">crop_tot_above_biomass_dw</th>
                        <th title="Crop biomass: total belowground biomass fresh weight">crop_tot_below_biomass_fw</th>
                        <th title="Crop biomass: total belowground biomass dry weight">crop_tot_below_biomass_dw</th>
                        <th title="Crop biomass: harvested fraction">harv_fraction</th>
                        <th title="Crop biomass: harvested fresh weight">harv_fresh_weight</th>
                        <th title="Crop biomass: harvested dry weight">harv_dry_weight</th>
                        <th title="Greenhouse gas emissions: chamber placement">ghg_chamber_placement</th>
                        <th title="Greenhouse gas emissions: N2O">ghg_N2O</th>
                        <th title="Greenhouse gas emission: CO2">ghg_CO2</th>
                        <th title="Greenhouse gas emission: NH4">ghg_NH4</th>
                        <th title="Soil Health: water capacity">soil_water_cap</th>
                        <th title="Soil Health: surface hardness">soil_surf_hard</th>
                        <th title="Soil Health: subsurface hardness">soil_subsurf_hard</th>
                        <th title="Soil Health: aggregate stability">soil_agg_stability</th>
                        <th title="Soil Health: ACE protein index">soil_ACE_protein</th>
                        <th title="Soil Health: active Carbon">soil_active_C</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-8">
            <table id="waterTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project namne">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th>alkalinity</th>
                        <th>alkyl_diethers</th>
                        <th>altitude</th>
                        <th>aminopept_act</th>
                        <th>ammonium</th>
                        <th>atmospheric_data</th>
                        <th>bac_prod</th>
                        <th>bac_resp</th>
                        <th>bacteria_carb_prod</th>
                        <th>biomass_part_name</th>
                        <th>biomass_amount</th>
                        <th>bishomohopanol</th>
                        <th>bromide</th>
                        <th>calcium</th>
                        <th>carb_nitro_ratio</th>
                        <th>chem_administration_name</th>
                        <th>chem_administration_time</th>
                        <th>chloride</th>
                        <th>chlorophyll</th>
                        <th>conduc</th>
                        <th>density</th>
                        <th>diether_lipids</th>
                        <th>diss_carb_dioxide</th>
                        <th>diss_hydrogen</th>
                        <th>diss_inorg_carb</th>
                        <th>diss_inorg_nitro</th>
                        <th>diss_inorg_phosp</th>
                        <th>diss_org_carb</th>
                        <th>diss_org_nitro</th>
                        <th>diss_oxygen</th>
                        <th>down_par</th>
                        <th>elev</th>
                        <th>fluor</th>
                        <th>glucosidase_act</th>
                        <th>light_intensity</th>
                        <th>magnesium</th>
                        <th>mean_frict_vel</th>
                        <th>mean_peak_frict_vel</th>
                        <th>n_alkanes</th>
                        <th>nitrate</th>
                        <th>nitrite</th>
                        <th>nitro</th>
                        <th>org_carb</th>
                        <th>org_matter</th>
                        <th>org_nitro</th>
                        <th>organism_name</th>
                        <th>organism_count</th>
                        <th>oxy_stat_samp</th>
                        <th>part_org_carb</th>
                        <th>part_org_nitro</th>
                        <th>perturbation_type</th>
                        <th>perturbation_interval</th>
                        <th>pretroleum_hydrocarb</th>
                        <th>ph</th>
                        <th>phaeopigments</th>
                        <th>phosphate</th>
                        <th>phosplipid_fatt_acid</th>
                        <th>photon_flux</th>
                        <th>potassium</th>
                        <th>pressure</th>
                        <th>primary_prod</th>
                        <th>redox_potential</th>
                        <th>rel_to_oxygen</th>
                        <th>samp_mat_process</th>
                        <th>samp_salinity</th>
                        <th>samp_size</th>
                        <th>samp_store_dur</th>
                        <th>samp_store_loc</th>
                        <th>samp_store_temp</th>
                        <th>samp_vol_we_dna_ext</th>
                        <th>silicate</th>
                        <th>sodium</th>
                        <th>soluble_react_phosp</th>
                        <th>source_material_id</th>
                        <th>sulfate</th>
                        <th>sulfide</th>
                        <th>suspen_part_matter</th>
                        <th>temp</th>
                        <th>tidal_stage</th>
                        <th>tot_depth_water_col</th>
                        <th>tot_diss_nitro</th>
                        <th>tot_inorg_nitro</th>
                        <th>tot_nitro</th>
                        <th>tot_part_carb</th>
                        <th>tot_phosp</th>
                        <th>water_current_direction</th>
                        <th>water_current_magnitude</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="tabs-9">
            <table id="usrTable" cellpadding="0" cellspacing="0" border="0" class="display nowrap">
                <thead>
                    <tr>
                        <th title="Project name">project_name</th>
                        <th title="Sample name (Mothur group name)">sample_name</th>
                        <th title="User-defined: categorical variable #1">usr_cat1</th>
                        <th title="User-defined: categorical variable #2">usr_cat2</th>
                        <th title="User-defined: categorical variable #3">usr_cat3</th>
                        <th title="User-defined: categorical variable #4">usr_cat4</th>
                        <th title="User-defined: categorical variable #5">usr_cat5</th>
                        <th title="User-defined: categorical variable #6">usr_cat6</th>
                        <th title="User-defined: quantitative variable #1">usr_quant1</th>
                        <th title="User-defined: quantitative variable #2">usr_quant2</th>
                        <th title="User-defined: quantitative variable #3">usr_quant3</th>
                        <th title="User-defined: quantitative variable #4">usr_quant4</th>
                        <th title="User-defined: quantitative variable #5">usr_quant5</th>
                        <th title="User-defined: quantitative variable #6">usr_quant6</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
    <br><br>
{% endblock my_content %}